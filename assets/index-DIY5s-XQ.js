(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function mo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Qm={exports:{}},Gc={};var iE;function MC(){if(iE)return Gc;iE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:u,ref:a!==void 0?a:null,props:l}}return Gc.Fragment=e,Gc.jsx=n,Gc.jsxs=n,Gc}var sE;function kC(){return sE||(sE=1,Qm.exports=MC()),Qm.exports}var E=kC(),$m={exports:{}},Le={};var aE;function PC(){if(aE)return Le;aE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),T=Symbol.iterator;function S(j){return j===null||typeof j!="object"?null:(j=T&&j[T]||j["@@iterator"],typeof j=="function"?j:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,V={};function U(j,J,fe){this.props=j,this.context=J,this.refs=V,this.updater=fe||I}U.prototype.isReactComponent={},U.prototype.setState=function(j,J){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,J,"setState")},U.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function B(){}B.prototype=U.prototype;function K(j,J,fe){this.props=j,this.context=J,this.refs=V,this.updater=fe||I}var G=K.prototype=new B;G.constructor=K,D(G,U.prototype),G.isPureReactComponent=!0;var $=Array.isArray;function Z(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function O(j,J,fe){var me=fe.ref;return{$$typeof:t,type:j,key:J,ref:me!==void 0?me:null,props:fe}}function L(j,J){return O(j.type,J,j.props)}function P(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function M(j){var J={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(fe){return J[fe]})}var N=/\/+/g;function ne(j,J){return typeof j=="object"&&j!==null&&j.key!=null?M(""+j.key):J.toString(36)}function de(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(Z,Z):(j.status="pending",j.then(function(J){j.status==="pending"&&(j.status="fulfilled",j.value=J)},function(J){j.status==="pending"&&(j.status="rejected",j.reason=J)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function q(j,J,fe,me,Ce){var Se=typeof j;(Se==="undefined"||Se==="boolean")&&(j=null);var je=!1;if(j===null)je=!0;else switch(Se){case"bigint":case"string":case"number":je=!0;break;case"object":switch(j.$$typeof){case t:case e:je=!0;break;case y:return je=j._init,q(je(j._payload),J,fe,me,Ce)}}if(je)return Ce=Ce(j),je=me===""?"."+ne(j,0):me,$(Ce)?(fe="",je!=null&&(fe=je.replace(N,"$&/")+"/"),q(Ce,J,fe,"",function(ke){return ke})):Ce!=null&&(P(Ce)&&(Ce=L(Ce,fe+(Ce.key==null||j&&j.key===Ce.key?"":(""+Ce.key).replace(N,"$&/")+"/")+je)),J.push(Ce)),1;je=0;var Qe=me===""?".":me+":";if($(j))for(var Me=0;Me<j.length;Me++)me=j[Me],Se=Qe+ne(me,Me),je+=q(me,J,fe,Se,Ce);else if(Me=S(j),typeof Me=="function")for(j=Me.call(j),Me=0;!(me=j.next()).done;)me=me.value,Se=Qe+ne(me,Me++),je+=q(me,J,fe,Se,Ce);else if(Se==="object"){if(typeof j.then=="function")return q(de(j),J,fe,me,Ce);throw J=String(j),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return je}function re(j,J,fe){if(j==null)return j;var me=[],Ce=0;return q(j,me,"","",function(Se){return J.call(fe,Se,Ce++)}),me}function he(j){if(j._status===-1){var J=j._result;J=J(),J.then(function(fe){(j._status===0||j._status===-1)&&(j._status=1,j._result=fe)},function(fe){(j._status===0||j._status===-1)&&(j._status=2,j._result=fe)}),j._status===-1&&(j._status=0,j._result=J)}if(j._status===1)return j._result.default;throw j._result}var pe=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},ve={map:re,forEach:function(j,J,fe){re(j,function(){J.apply(this,arguments)},fe)},count:function(j){var J=0;return re(j,function(){J++}),J},toArray:function(j){return re(j,function(J){return J})||[]},only:function(j){if(!P(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Le.Activity=v,Le.Children=ve,Le.Component=U,Le.Fragment=n,Le.Profiler=a,Le.PureComponent=K,Le.StrictMode=i,Le.Suspense=p,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Le.__COMPILER_RUNTIME={__proto__:null,c:function(j){return R.H.useMemoCache(j)}},Le.cache=function(j){return function(){return j.apply(null,arguments)}},Le.cacheSignal=function(){return null},Le.cloneElement=function(j,J,fe){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var me=D({},j.props),Ce=j.key;if(J!=null)for(Se in J.key!==void 0&&(Ce=""+J.key),J)!A.call(J,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&J.ref===void 0||(me[Se]=J[Se]);var Se=arguments.length-2;if(Se===1)me.children=fe;else if(1<Se){for(var je=Array(Se),Qe=0;Qe<Se;Qe++)je[Qe]=arguments[Qe+2];me.children=je}return O(j.type,Ce,me)},Le.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:l,_context:j},j},Le.createElement=function(j,J,fe){var me,Ce={},Se=null;if(J!=null)for(me in J.key!==void 0&&(Se=""+J.key),J)A.call(J,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Ce[me]=J[me]);var je=arguments.length-2;if(je===1)Ce.children=fe;else if(1<je){for(var Qe=Array(je),Me=0;Me<je;Me++)Qe[Me]=arguments[Me+2];Ce.children=Qe}if(j&&j.defaultProps)for(me in je=j.defaultProps,je)Ce[me]===void 0&&(Ce[me]=je[me]);return O(j,Se,Ce)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(j){return{$$typeof:h,render:j}},Le.isValidElement=P,Le.lazy=function(j){return{$$typeof:y,_payload:{_status:-1,_result:j},_init:he}},Le.memo=function(j,J){return{$$typeof:g,type:j,compare:J===void 0?null:J}},Le.startTransition=function(j){var J=R.T,fe={};R.T=fe;try{var me=j(),Ce=R.S;Ce!==null&&Ce(fe,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(Z,pe)}catch(Se){pe(Se)}finally{J!==null&&fe.types!==null&&(J.types=fe.types),R.T=J}},Le.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Le.use=function(j){return R.H.use(j)},Le.useActionState=function(j,J,fe){return R.H.useActionState(j,J,fe)},Le.useCallback=function(j,J){return R.H.useCallback(j,J)},Le.useContext=function(j){return R.H.useContext(j)},Le.useDebugValue=function(){},Le.useDeferredValue=function(j,J){return R.H.useDeferredValue(j,J)},Le.useEffect=function(j,J){return R.H.useEffect(j,J)},Le.useEffectEvent=function(j){return R.H.useEffectEvent(j)},Le.useId=function(){return R.H.useId()},Le.useImperativeHandle=function(j,J,fe){return R.H.useImperativeHandle(j,J,fe)},Le.useInsertionEffect=function(j,J){return R.H.useInsertionEffect(j,J)},Le.useLayoutEffect=function(j,J){return R.H.useLayoutEffect(j,J)},Le.useMemo=function(j,J){return R.H.useMemo(j,J)},Le.useOptimistic=function(j,J){return R.H.useOptimistic(j,J)},Le.useReducer=function(j,J,fe){return R.H.useReducer(j,J,fe)},Le.useRef=function(j){return R.H.useRef(j)},Le.useState=function(j){return R.H.useState(j)},Le.useSyncExternalStore=function(j,J,fe){return R.H.useSyncExternalStore(j,J,fe)},Le.useTransition=function(){return R.H.useTransition()},Le.version="19.2.3",Le}var oE;function Ay(){return oE||(oE=1,$m.exports=PC()),$m.exports}var k=Ay();const Ne=mo(k);var Xm={exports:{}},Yc={},Jm={exports:{}},Zm={};var lE;function jC(){return lE||(lE=1,(function(t){function e(q,re){var he=q.length;q.push(re);e:for(;0<he;){var pe=he-1>>>1,ve=q[pe];if(0<a(ve,re))q[pe]=re,q[he]=ve,he=pe;else break e}}function n(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var re=q[0],he=q.pop();if(he!==re){q[0]=he;e:for(var pe=0,ve=q.length,j=ve>>>1;pe<j;){var J=2*(pe+1)-1,fe=q[J],me=J+1,Ce=q[me];if(0>a(fe,he))me<ve&&0>a(Ce,fe)?(q[pe]=Ce,q[me]=he,pe=me):(q[pe]=fe,q[J]=he,pe=J);else if(me<ve&&0>a(Ce,he))q[pe]=Ce,q[me]=he,pe=me;else break e}}return re}function a(q,re){var he=q.sortIndex-re.sortIndex;return he!==0?he:q.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var p=[],g=[],y=1,v=null,T=3,S=!1,I=!1,D=!1,V=!1,U=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function G(q){for(var re=n(g);re!==null;){if(re.callback===null)i(g);else if(re.startTime<=q)i(g),re.sortIndex=re.expirationTime,e(p,re);else break;re=n(g)}}function $(q){if(D=!1,G(q),!I)if(n(p)!==null)I=!0,Z||(Z=!0,M());else{var re=n(g);re!==null&&de($,re.startTime-q)}}var Z=!1,R=-1,A=5,O=-1;function L(){return V?!0:!(t.unstable_now()-O<A)}function P(){if(V=!1,Z){var q=t.unstable_now();O=q;var re=!0;try{e:{I=!1,D&&(D=!1,B(R),R=-1),S=!0;var he=T;try{t:{for(G(q),v=n(p);v!==null&&!(v.expirationTime>q&&L());){var pe=v.callback;if(typeof pe=="function"){v.callback=null,T=v.priorityLevel;var ve=pe(v.expirationTime<=q);if(q=t.unstable_now(),typeof ve=="function"){v.callback=ve,G(q),re=!0;break t}v===n(p)&&i(p),G(q)}else i(p);v=n(p)}if(v!==null)re=!0;else{var j=n(g);j!==null&&de($,j.startTime-q),re=!1}}break e}finally{v=null,T=he,S=!1}re=void 0}}finally{re?M():Z=!1}}}var M;if(typeof K=="function")M=function(){K(P)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,ne=N.port2;N.port1.onmessage=P,M=function(){ne.postMessage(null)}}else M=function(){U(P,0)};function de(q,re){R=U(function(){q(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(q){switch(T){case 1:case 2:case 3:var re=3;break;default:re=T}var he=T;T=re;try{return q()}finally{T=he}},t.unstable_requestPaint=function(){V=!0},t.unstable_runWithPriority=function(q,re){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var he=T;T=q;try{return re()}finally{T=he}},t.unstable_scheduleCallback=function(q,re,he){var pe=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?pe+he:pe):he=pe,q){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=he+ve,q={id:y++,callback:re,priorityLevel:q,startTime:he,expirationTime:ve,sortIndex:-1},he>pe?(q.sortIndex=he,e(g,q),n(p)===null&&q===n(g)&&(D?(B(R),R=-1):D=!0,de($,he-pe))):(q.sortIndex=ve,e(p,q),I||S||(I=!0,Z||(Z=!0,M()))),q},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(q){var re=T;return function(){var he=T;T=re;try{return q.apply(this,arguments)}finally{T=he}}}})(Zm)),Zm}var cE;function zC(){return cE||(cE=1,Jm.exports=jC()),Jm.exports}var eg={exports:{}},Vn={};var uE;function VC(){if(uE)return Vn;uE=1;var t=Ay();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,g,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:p,containerInfo:g,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Vn.createPortal=function(p,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,y)},Vn.flushSync=function(p){var g=u.T,y=i.p;try{if(u.T=null,i.p=2,p)return p()}finally{u.T=g,i.p=y,i.d.f()}},Vn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},Vn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},Vn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var y=g.as,v=h(y,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:T,fetchPriority:S}):y==="script"&&i.d.X(p,{crossOrigin:v,integrity:T,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Vn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=h(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},Vn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,v=h(y,g.crossOrigin);i.d.L(p,y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Vn.preloadModule=function(p,g){if(typeof p=="string")if(g){var y=h(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},Vn.requestFormReset=function(p){i.d.r(p)},Vn.unstable_batchedUpdates=function(p,g){return p(g)},Vn.useFormState=function(p,g,y){return u.H.useFormState(p,g,y)},Vn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Vn.version="19.2.3",Vn}var fE;function oT(){if(fE)return eg.exports;fE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),eg.exports=VC(),eg.exports}var dE;function LC(){if(dE)return Yc;dE=1;var t=zC(),e=Ay(),n=oT();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function h(r){if(r.tag===31){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function p(r){if(l(r)!==r)throw Error(i(188))}function g(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,c=s;;){var d=o.return;if(d===null)break;var m=d.alternate;if(m===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===o)return p(d),r;if(m===c)return p(d),s;m=m.sibling}throw Error(i(188))}if(o.return!==c.return)o=d,c=m;else{for(var _=!1,x=d.child;x;){if(x===o){_=!0,o=d,c=m;break}if(x===c){_=!0,c=d,o=m;break}x=x.sibling}if(!_){for(x=m.child;x;){if(x===o){_=!0,o=m,c=d;break}if(x===c){_=!0,c=m,o=d;break}x=x.sibling}if(!_)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function y(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=y(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),K=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function M(r){return r===null||typeof r!="object"?null:(r=P&&r[P]||r["@@iterator"],typeof r=="function"?r:null)}var N=Symbol.for("react.client.reference");function ne(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===N?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case D:return"Fragment";case U:return"Profiler";case V:return"StrictMode";case $:return"Suspense";case Z:return"SuspenseList";case O:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case I:return"Portal";case K:return r.displayName||"Context";case B:return(r._context.displayName||"Context")+".Consumer";case G:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case R:return s=r.displayName||null,s!==null?s:ne(r.type)||"Memo";case A:s=r._payload,r=r._init;try{return ne(r(s))}catch{}}return null}var de=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},pe=[],ve=-1;function j(r){return{current:r}}function J(r){0>ve||(r.current=pe[ve],pe[ve]=null,ve--)}function fe(r,s){ve++,pe[ve]=r.current,r.current=s}var me=j(null),Ce=j(null),Se=j(null),je=j(null);function Qe(r,s){switch(fe(Se,s),fe(Ce,r),fe(me,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?C_(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=C_(s),r=R_(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}J(me),fe(me,r)}function Me(){J(me),J(Ce),J(Se)}function ke(r){r.memoizedState!==null&&fe(je,r);var s=me.current,o=R_(s,r.type);s!==o&&(fe(Ce,r),fe(me,o))}function Ze(r){Ce.current===r&&(J(me),J(Ce)),je.current===r&&(J(je),Bc._currentValue=he)}var Ge,Jt;function xt(r){if(Ge===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Ge=s&&s[1]||"",Jt=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ge+r+Jt}var er=!1;function It(r,s){if(!r||er)return"";er=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(te){var X=te}Reflect.construct(r,[],oe)}else{try{oe.call()}catch(te){X=te}r.call(oe.prototype)}}else{try{throw Error()}catch(te){X=te}(oe=r())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(te){if(te&&X&&typeof te.stack=="string")return[te.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),_=m[0],x=m[1];if(_&&x){var z=_.split(`
`),Q=x.split(`
`);for(d=c=0;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;for(;d<Q.length&&!Q[d].includes("DetermineComponentFrameRoot");)d++;if(c===z.length||d===Q.length)for(c=z.length-1,d=Q.length-1;1<=c&&0<=d&&z[c]!==Q[d];)d--;for(;1<=c&&0<=d;c--,d--)if(z[c]!==Q[d]){if(c!==1||d!==1)do if(c--,d--,0>d||z[c]!==Q[d]){var ie=`
`+z[c].replace(" at new "," at ");return r.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",r.displayName)),ie}while(1<=c&&0<=d);break}}}finally{er=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?xt(o):""}function xn(r,s){switch(r.tag){case 26:case 27:case 5:return xt(r.type);case 16:return xt("Lazy");case 13:return r.child!==s&&s!==null?xt("Suspense Fallback"):xt("Suspense");case 19:return xt("SuspenseList");case 0:case 15:return It(r.type,!1);case 11:return It(r.type.render,!1);case 1:return It(r.type,!0);case 31:return xt("Activity");default:return""}}function Yr(r){try{var s="",o=null;do s+=xn(r,o),o=r,r=r.return;while(r);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Rt=Object.prototype.hasOwnProperty,ht=t.unstable_scheduleCallback,Gn=t.unstable_cancelCallback,Kr=t.unstable_shouldYield,fi=t.unstable_requestPaint,Zt=t.unstable_now,Yn=t.unstable_getCurrentPriorityLevel,di=t.unstable_ImmediatePriority,hn=t.unstable_UserBlockingPriority,pn=t.unstable_NormalPriority,Cr=t.unstable_LowPriority,hi=t.unstable_IdlePriority,ce=t.log,At=t.unstable_setDisableYieldValue,ze=null,Ke=null;function en(r){if(typeof ce=="function"&&At(r),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(ze,r)}catch{}}var gt=Math.clz32?Math.clz32:_o,bo=Math.log,Qi=Math.LN2;function _o(r){return r>>>=0,r===0?32:31-(bo(r)/Qi|0)|0}var Rr=256,$i=262144,$e=4194304;function Pt(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function jt(r,s,o){var c=r.pendingLanes;if(c===0)return 0;var d=0,m=r.suspendedLanes,_=r.pingedLanes;r=r.warmLanes;var x=c&134217727;return x!==0?(c=x&~m,c!==0?d=Pt(c):(_&=x,_!==0?d=Pt(_):o||(o=x&~r,o!==0&&(d=Pt(o))))):(x=c&~m,x!==0?d=Pt(x):_!==0?d=Pt(_):o||(o=c&~r,o!==0&&(d=Pt(o)))),d===0?0:s!==0&&s!==d&&(s&m)===0&&(m=d&-d,o=s&-s,m>=o||m===32&&(o&4194048)!==0)?s:d}function tn(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Pn(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vn(){var r=$e;return $e<<=1,($e&62914560)===0&&($e=4194304),r}function Ht(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function tr(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Gt(r,s,o,c,d,m){var _=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var x=r.entanglements,z=r.expirationTimes,Q=r.hiddenUpdates;for(o=_&~o;0<o;){var ie=31-gt(o),oe=1<<ie;x[ie]=0,z[ie]=-1;var X=Q[ie];if(X!==null)for(Q[ie]=null,ie=0;ie<X.length;ie++){var te=X[ie];te!==null&&(te.lane&=-536870913)}o&=~oe}c!==0&&jn(r,c,0),m!==0&&d===0&&r.tag!==0&&(r.suspendedLanes|=m&~(_&~s))}function jn(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-gt(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|o&261930}function zn(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var c=31-gt(o),d=1<<c;d&s|r[c]&s&&(r[c]|=s),o&=~d}}function Kn(r,s){var o=s&-s;return o=(o&42)!==0?1:pr(o),(o&(r.suspendedLanes|s))!==0?0:o}function pr(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Wn(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function mr(){var r=re.p;return r!==0?r:(r=window.event,r===void 0?32:X_(r.type))}function An(r,s){var o=re.p;try{return re.p=r,s()}finally{re.p=o}}var Qn=Math.random().toString(36).slice(2),nn="__reactFiber$"+Qn,bn="__reactProps$"+Qn,pi="__reactContainer$"+Qn,Eo="__reactEvents$"+Qn,tp="__reactListeners$"+Qn,tf="__reactHandles$"+Qn,nf="__reactResources$"+Qn,mi="__reactMarker$"+Qn;function wo(r){delete r[nn],delete r[bn],delete r[Eo],delete r[tp],delete r[tf]}function gi(r){var s=r[nn];if(s)return s;for(var o=r.parentNode;o;){if(s=o[pi]||o[nn]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=P_(r);r!==null;){if(o=r[nn])return o;r=P_(r)}return s}r=o,o=r.parentNode}return null}function Nr(r){if(r=r[nn]||r[pi]){var s=r.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return r}return null}function gr(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function yi(r){var s=r[nf];return s||(s=r[nf]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function rn(r){r[mi]=!0}var Wl=new Set,Ql={};function vi(r,s){bi(r,s),bi(r+"Capture",s)}function bi(r,s){for(Ql[r]=s,r=0;r<s.length;r++)Wl.add(s[r])}var $l=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xl={},Jl={};function rf(r){return Rt.call(Jl,r)?!0:Rt.call(Xl,r)?!1:$l.test(r)?Jl[r]=!0:(Xl[r]=!0,!1)}function To(r,s,o){if(rf(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function yr(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function sn(r,s,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+c)}}function _n(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function xs(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Zl(r,s,o){var c=Object.getOwnPropertyDescriptor(r.constructor.prototype,s);if(!r.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var d=c.get,m=c.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(_){o=""+_,m.call(this,_)}}),Object.defineProperty(r,s,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function yt(r){if(!r._valueTracker){var s=xs(r)?"checked":"value";r._valueTracker=Zl(r,s,""+r[s])}}function Ra(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return r&&(c=xs(r)?r.checked?"true":"false":r.value),r=c,r!==o?(s.setValue(r),!0):!1}function _i(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Na=/[\n"\\]/g;function nr(r){return r.replace(Na,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function So(r,s,o,c,d,m,_,x){r.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?r.type=_:r.removeAttribute("type"),s!=null?_==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+_n(s)):r.value!==""+_n(s)&&(r.value=""+_n(s)):_!=="submit"&&_!=="reset"||r.removeAttribute("value"),s!=null?ec(r,_,_n(s)):o!=null?ec(r,_,_n(o)):c!=null&&r.removeAttribute("value"),d==null&&m!=null&&(r.defaultChecked=!!m),d!=null&&(r.checked=d&&typeof d!="function"&&typeof d!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?r.name=""+_n(x):r.removeAttribute("name")}function sf(r,s,o,c,d,m,_,x){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(r.type=m),s!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){yt(r);return}o=o!=null?""+_n(o):"",s=s!=null?""+_n(s):o,x||s===r.value||(r.value=s),r.defaultValue=s}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=x?r.checked:!!c,r.defaultChecked=!!c,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(r.name=_),yt(r)}function ec(r,s,o){s==="number"&&_i(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function As(r,s,o,c){if(r=r.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<r.length;o++)d=s.hasOwnProperty("$"+r[o].value),r[o].selected!==d&&(r[o].selected=d),d&&c&&(r[o].defaultSelected=!0)}else{for(o=""+_n(o),s=null,d=0;d<r.length;d++){if(r[d].value===o){r[d].selected=!0,c&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function af(r,s,o){if(s!=null&&(s=""+_n(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+_n(o):""}function Cs(r,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(i(92));if(de(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=_n(s),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c),yt(r)}function rr(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var of=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tc(r,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,o):typeof o!="number"||o===0||of.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function nc(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var d in s)c=s[d],s.hasOwnProperty(d)&&o[d]!==c&&tc(r,d,c)}else for(var m in s)s.hasOwnProperty(m)&&tc(r,m,s[m])}function xo(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ao(r){return Rs.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Wr(){}var rc=null;function Ir(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ns=null,Ei=null;function Ia(r){var s=Nr(r);if(s&&(r=s.stateNode)){var o=r[bn]||null;e:switch(r=s.stateNode,s.type){case"input":if(So(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+nr(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==r&&c.form===r.form){var d=c[bn]||null;if(!d)throw Error(i(90));So(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===r.form&&Ra(c)}break e;case"textarea":af(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&As(r,!!o.multiple,s,!1)}}}var Co=!1;function Is(r,s,o){if(Co)return r(s,o);Co=!0;try{var c=r(s);return c}finally{if(Co=!1,(Ns!==null||Ei!==null)&&(td(),Ns&&(s=Ns,r=Ei,Ei=Ns=null,Ia(s),r)))for(s=0;s<r.length;s++)Ia(r[s])}}function Qr(r,s){var o=r.stateNode;if(o===null)return null;var c=o[bn]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var Or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oa=!1;if(Or)try{var Et={};Object.defineProperty(Et,"passive",{get:function(){Oa=!0}}),window.addEventListener("test",Et,Et),window.removeEventListener("test",Et,Et)}catch{Oa=!1}var wi=null,ic=null,Da=null;function sc(){if(Da)return Da;var r,s=ic,o=s.length,c,d="value"in wi?wi.value:wi.textContent,m=d.length;for(r=0;r<o&&s[r]===d[r];r++);var _=o-r;for(c=1;c<=_&&s[o-c]===d[m-c];c++);return Da=d.slice(r,1<c?1-c:void 0)}function Ma(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Xi(){return!0}function $r(){return!1}function Cn(r){function s(o,c,d,m,_){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var x in r)r.hasOwnProperty(x)&&(o=r[x],this[x]=o?o(m):m[x]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Xi:$r,this.isPropagationStopped=$r,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),s}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ti=Cn(Ji),Os=v({},Ji,{view:0,detail:0}),ac=Cn(Os),Ds,Ro,Si,No=v({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ms,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Si&&(Si&&r.type==="mousemove"?(Ds=r.screenX-Si.screenX,Ro=r.screenY-Si.screenY):Ro=Ds=0,Si=r),Ds)},movementY:function(r){return"movementY"in r?r.movementY:Ro}}),oc=Cn(No),ka=v({},No,{dataTransfer:0}),cf=Cn(ka),uf=v({},Os,{relatedTarget:0}),Pa=Cn(uf),lc=v({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),ff=Cn(lc),Io=v({},Ji,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),df=Cn(Io),hf=v({},Ji,{data:0}),xi=Cn(hf),pf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yf(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=gf[r])?!!s[r]:!1}function Ms(){return yf}var $n=v({},Os,{key:function(r){if(r.key){var s=pf[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Ma(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?mf[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ms,charCode:function(r){return r.type==="keypress"?Ma(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ma(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),vf=Cn($n),bf=v({},No,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zi=Cn(bf),f=v({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ms}),b=Cn(f),w=v({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=Cn(w),Y=v({},No,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ee=Cn(Y),ye=v({},Ji,{newState:0,oldState:0}),Fe=Cn(ye),Yt=[9,13,27,32],ft=Or&&"CompositionEvent"in window,zt=null;Or&&"documentMode"in document&&(zt=document.documentMode);var Dr=Or&&"TextEvent"in window&&!zt,Ai=Or&&(!ft||zt&&8<zt&&11>=zt),Xr=" ",Jr=!1;function ja(r,s){switch(r){case"keyup":return Yt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oo(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Do=!1;function r2(r,s){switch(r){case"compositionend":return Oo(s);case"keypress":return s.which!==32?null:(Jr=!0,Xr);case"textInput":return r=s.data,r===Xr&&Jr?null:r;default:return null}}function i2(r,s){if(Do)return r==="compositionend"||!ft&&ja(r,s)?(r=sc(),Da=ic=wi=null,Do=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ai&&s.locale!=="ko"?null:s.data;default:return null}}var s2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vv(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!s2[r.type]:s==="textarea"}function Lv(r,s,o,c){Ns?Ei?Ei.push(c):Ei=[c]:Ns=c,s=ld(s,"onChange"),0<s.length&&(o=new Ti("onChange","change",null,o,c),r.push({event:o,listeners:s}))}var cc=null,uc=null;function a2(r){E_(r,0)}function _f(r){var s=gr(r);if(Ra(s))return r}function Uv(r,s){if(r==="change")return s}var Bv=!1;if(Or){var np;if(Or){var rp="oninput"in document;if(!rp){var Fv=document.createElement("div");Fv.setAttribute("oninput","return;"),rp=typeof Fv.oninput=="function"}np=rp}else np=!1;Bv=np&&(!document.documentMode||9<document.documentMode)}function qv(){cc&&(cc.detachEvent("onpropertychange",Hv),uc=cc=null)}function Hv(r){if(r.propertyName==="value"&&_f(uc)){var s=[];Lv(s,uc,r,Ir(r)),Is(a2,s)}}function o2(r,s,o){r==="focusin"?(qv(),cc=s,uc=o,cc.attachEvent("onpropertychange",Hv)):r==="focusout"&&qv()}function l2(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return _f(uc)}function c2(r,s){if(r==="click")return _f(s)}function u2(r,s){if(r==="input"||r==="change")return _f(s)}function f2(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var vr=typeof Object.is=="function"?Object.is:f2;function fc(r,s){if(vr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!Rt.call(s,d)||!vr(r[d],s[d]))return!1}return!0}function Gv(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Yv(r,s){var o=Gv(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=s&&c>=s)return{node:o,offset:s-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Gv(o)}}function Kv(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Kv(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Wv(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=_i(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=_i(r.document)}return s}function ip(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var d2=Or&&"documentMode"in document&&11>=document.documentMode,Mo=null,sp=null,dc=null,ap=!1;function Qv(r,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ap||Mo==null||Mo!==_i(c)||(c=Mo,"selectionStart"in c&&ip(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),dc&&fc(dc,c)||(dc=c,c=ld(sp,"onSelect"),0<c.length&&(s=new Ti("onSelect","select",null,s,o),r.push({event:s,listeners:c}),s.target=Mo)))}function za(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var ko={animationend:za("Animation","AnimationEnd"),animationiteration:za("Animation","AnimationIteration"),animationstart:za("Animation","AnimationStart"),transitionrun:za("Transition","TransitionRun"),transitionstart:za("Transition","TransitionStart"),transitioncancel:za("Transition","TransitionCancel"),transitionend:za("Transition","TransitionEnd")},op={},$v={};Or&&($v=document.createElement("div").style,"AnimationEvent"in window||(delete ko.animationend.animation,delete ko.animationiteration.animation,delete ko.animationstart.animation),"TransitionEvent"in window||delete ko.transitionend.transition);function Va(r){if(op[r])return op[r];if(!ko[r])return r;var s=ko[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in $v)return op[r]=s[o];return r}var Xv=Va("animationend"),Jv=Va("animationiteration"),Zv=Va("animationstart"),h2=Va("transitionrun"),p2=Va("transitionstart"),m2=Va("transitioncancel"),e0=Va("transitionend"),t0=new Map,lp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lp.push("scrollEnd");function Zr(r,s){t0.set(r,s),vi(s,[r])}var Ef=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Mr=[],Po=0,cp=0;function wf(){for(var r=Po,s=cp=Po=0;s<r;){var o=Mr[s];Mr[s++]=null;var c=Mr[s];Mr[s++]=null;var d=Mr[s];Mr[s++]=null;var m=Mr[s];if(Mr[s++]=null,c!==null&&d!==null){var _=c.pending;_===null?d.next=d:(d.next=_.next,_.next=d),c.pending=d}m!==0&&n0(o,d,m)}}function Tf(r,s,o,c){Mr[Po++]=r,Mr[Po++]=s,Mr[Po++]=o,Mr[Po++]=c,cp|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function up(r,s,o,c){return Tf(r,s,o,c),Sf(r)}function La(r,s){return Tf(r,null,null,s),Sf(r)}function n0(r,s,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var d=!1,m=r.return;m!==null;)m.childLanes|=o,c=m.alternate,c!==null&&(c.childLanes|=o),m.tag===22&&(r=m.stateNode,r===null||r._visibility&1||(d=!0)),r=m,m=m.return;return r.tag===3?(m=r.stateNode,d&&s!==null&&(d=31-gt(o),r=m.hiddenUpdates,c=r[d],c===null?r[d]=[s]:c.push(s),s.lane=o|536870912),m):null}function Sf(r){if(50<kc)throw kc=0,bm=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var jo={};function g2(r,s,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function br(r,s,o,c){return new g2(r,s,o,c)}function fp(r){return r=r.prototype,!(!r||!r.isReactComponent)}function es(r,s){var o=r.alternate;return o===null?(o=br(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function r0(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function xf(r,s,o,c,d,m){var _=0;if(c=r,typeof r=="function")fp(r)&&(_=1);else if(typeof r=="string")_=EC(r,o,me.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case O:return r=br(31,o,s,d),r.elementType=O,r.lanes=m,r;case D:return Ua(o.children,d,m,s);case V:_=8,d|=24;break;case U:return r=br(12,o,s,d|2),r.elementType=U,r.lanes=m,r;case $:return r=br(13,o,s,d),r.elementType=$,r.lanes=m,r;case Z:return r=br(19,o,s,d),r.elementType=Z,r.lanes=m,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case K:_=10;break e;case B:_=9;break e;case G:_=11;break e;case R:_=14;break e;case A:_=16,c=null;break e}_=29,o=Error(i(130,r===null?"null":typeof r,"")),c=null}return s=br(_,o,s,d),s.elementType=r,s.type=c,s.lanes=m,s}function Ua(r,s,o,c){return r=br(7,r,c,s),r.lanes=o,r}function dp(r,s,o){return r=br(6,r,null,s),r.lanes=o,r}function i0(r){var s=br(18,null,null,0);return s.stateNode=r,s}function hp(r,s,o){return s=br(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var s0=new WeakMap;function kr(r,s){if(typeof r=="object"&&r!==null){var o=s0.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Yr(s)},s0.set(r,s),s)}return{value:r,source:s,stack:Yr(s)}}var zo=[],Vo=0,Af=null,hc=0,Pr=[],jr=0,ks=null,Ci=1,Ri="";function ts(r,s){zo[Vo++]=hc,zo[Vo++]=Af,Af=r,hc=s}function a0(r,s,o){Pr[jr++]=Ci,Pr[jr++]=Ri,Pr[jr++]=ks,ks=r;var c=Ci;r=Ri;var d=32-gt(c)-1;c&=~(1<<d),o+=1;var m=32-gt(s)+d;if(30<m){var _=d-d%5;m=(c&(1<<_)-1).toString(32),c>>=_,d-=_,Ci=1<<32-gt(s)+d|o<<d|c,Ri=m+r}else Ci=1<<m|o<<d|c,Ri=r}function pp(r){r.return!==null&&(ts(r,1),a0(r,1,0))}function mp(r){for(;r===Af;)Af=zo[--Vo],zo[Vo]=null,hc=zo[--Vo],zo[Vo]=null;for(;r===ks;)ks=Pr[--jr],Pr[jr]=null,Ri=Pr[--jr],Pr[jr]=null,Ci=Pr[--jr],Pr[jr]=null}function o0(r,s){Pr[jr++]=Ci,Pr[jr++]=Ri,Pr[jr++]=ks,Ci=s.id,Ri=s.overflow,ks=r}var Rn=null,Ot=null,st=!1,Ps=null,zr=!1,gp=Error(i(519));function js(r){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pc(kr(s,r)),gp}function l0(r){var s=r.stateNode,o=r.type,c=r.memoizedProps;switch(s[nn]=r,s[bn]=c,o){case"dialog":Je("cancel",s),Je("close",s);break;case"iframe":case"object":case"embed":Je("load",s);break;case"video":case"audio":for(o=0;o<jc.length;o++)Je(jc[o],s);break;case"source":Je("error",s);break;case"img":case"image":case"link":Je("error",s),Je("load",s);break;case"details":Je("toggle",s);break;case"input":Je("invalid",s),sf(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Je("invalid",s);break;case"textarea":Je("invalid",s),Cs(s,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||x_(s.textContent,o)?(c.popover!=null&&(Je("beforetoggle",s),Je("toggle",s)),c.onScroll!=null&&Je("scroll",s),c.onScrollEnd!=null&&Je("scrollend",s),c.onClick!=null&&(s.onclick=Wr),s=!0):s=!1,s||js(r,!0)}function c0(r){for(Rn=r.return;Rn;)switch(Rn.tag){case 5:case 31:case 13:zr=!1;return;case 27:case 3:zr=!0;return;default:Rn=Rn.return}}function Lo(r){if(r!==Rn)return!1;if(!st)return c0(r),st=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||km(r.type,r.memoizedProps)),o=!o),o&&Ot&&js(r),c0(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Ot=k_(r)}else if(s===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Ot=k_(r)}else s===27?(s=Ot,$s(r.type)?(r=Lm,Lm=null,Ot=r):Ot=s):Ot=Rn?Lr(r.stateNode.nextSibling):null;return!0}function Ba(){Ot=Rn=null,st=!1}function yp(){var r=Ps;return r!==null&&(or===null?or=r:or.push.apply(or,r),Ps=null),r}function pc(r){Ps===null?Ps=[r]:Ps.push(r)}var vp=j(null),Fa=null,ns=null;function zs(r,s,o){fe(vp,s._currentValue),s._currentValue=o}function rs(r){r._currentValue=vp.current,J(vp)}function bp(r,s,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===o)break;r=r.return}}function _p(r,s,o,c){var d=r.child;for(d!==null&&(d.return=r);d!==null;){var m=d.dependencies;if(m!==null){var _=d.child;m=m.firstContext;e:for(;m!==null;){var x=m;m=d;for(var z=0;z<s.length;z++)if(x.context===s[z]){m.lanes|=o,x=m.alternate,x!==null&&(x.lanes|=o),bp(m.return,o,r),c||(_=null);break e}m=x.next}}else if(d.tag===18){if(_=d.return,_===null)throw Error(i(341));_.lanes|=o,m=_.alternate,m!==null&&(m.lanes|=o),bp(_,o,r),_=null}else _=d.child;if(_!==null)_.return=d;else for(_=d;_!==null;){if(_===r){_=null;break}if(d=_.sibling,d!==null){d.return=_.return,_=d;break}_=_.return}d=_}}function Uo(r,s,o,c){r=null;for(var d=s,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var _=d.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var x=d.type;vr(d.pendingProps.value,_.value)||(r!==null?r.push(x):r=[x])}}else if(d===je.current){if(_=d.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(r!==null?r.push(Bc):r=[Bc])}d=d.return}r!==null&&_p(s,r,o,c),s.flags|=262144}function Cf(r){for(r=r.firstContext;r!==null;){if(!vr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function qa(r){Fa=r,ns=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Nn(r){return u0(Fa,r)}function Rf(r,s){return Fa===null&&qa(r),u0(r,s)}function u0(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},ns===null){if(r===null)throw Error(i(308));ns=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else ns=ns.next=s;return o}var y2=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},v2=t.unstable_scheduleCallback,b2=t.unstable_NormalPriority,an={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ep(){return{controller:new y2,data:new Map,refCount:0}}function mc(r){r.refCount--,r.refCount===0&&v2(b2,function(){r.controller.abort()})}var gc=null,wp=0,Bo=0,Fo=null;function _2(r,s){if(gc===null){var o=gc=[];wp=0,Bo=xm(),Fo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return wp++,s.then(f0,f0),s}function f0(){if(--wp===0&&gc!==null){Fo!==null&&(Fo.status="fulfilled");var r=gc;gc=null,Bo=0,Fo=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function E2(r,s){var o=[],c={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(c.status="rejected",c.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),c}var d0=q.S;q.S=function(r,s){Qb=Zt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&_2(r,s),d0!==null&&d0(r,s)};var Ha=j(null);function Tp(){var r=Ha.current;return r!==null?r:Ct.pooledCache}function Nf(r,s){s===null?fe(Ha,Ha.current):fe(Ha,s.pool)}function h0(){var r=Tp();return r===null?null:{parent:an._currentValue,pool:r}}var qo=Error(i(460)),Sp=Error(i(474)),If=Error(i(542)),Of={then:function(){}};function p0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function m0(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(Wr,Wr),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,y0(r),r;default:if(typeof s.status=="string")s.then(Wr,Wr);else{if(r=Ct,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=c}},function(c){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,y0(r),r}throw Ya=s,qo}}function Ga(r){try{var s=r._init;return s(r._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ya=o,qo):o}}var Ya=null;function g0(){if(Ya===null)throw Error(i(459));var r=Ya;return Ya=null,r}function y0(r){if(r===qo||r===If)throw Error(i(483))}var Ho=null,yc=0;function Df(r){var s=yc;return yc+=1,Ho===null&&(Ho=[]),m0(Ho,r,s)}function vc(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Mf(r,s){throw s.$$typeof===T?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function v0(r){function s(H,F){if(r){var W=H.deletions;W===null?(H.deletions=[F],H.flags|=16):W.push(F)}}function o(H,F){if(!r)return null;for(;F!==null;)s(H,F),F=F.sibling;return null}function c(H){for(var F=new Map;H!==null;)H.key!==null?F.set(H.key,H):F.set(H.index,H),H=H.sibling;return F}function d(H,F){return H=es(H,F),H.index=0,H.sibling=null,H}function m(H,F,W){return H.index=W,r?(W=H.alternate,W!==null?(W=W.index,W<F?(H.flags|=67108866,F):W):(H.flags|=67108866,F)):(H.flags|=1048576,F)}function _(H){return r&&H.alternate===null&&(H.flags|=67108866),H}function x(H,F,W,ae){return F===null||F.tag!==6?(F=dp(W,H.mode,ae),F.return=H,F):(F=d(F,W),F.return=H,F)}function z(H,F,W,ae){var Ie=W.type;return Ie===D?ie(H,F,W.props.children,ae,W.key):F!==null&&(F.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===A&&Ga(Ie)===F.type)?(F=d(F,W.props),vc(F,W),F.return=H,F):(F=xf(W.type,W.key,W.props,null,H.mode,ae),vc(F,W),F.return=H,F)}function Q(H,F,W,ae){return F===null||F.tag!==4||F.stateNode.containerInfo!==W.containerInfo||F.stateNode.implementation!==W.implementation?(F=hp(W,H.mode,ae),F.return=H,F):(F=d(F,W.children||[]),F.return=H,F)}function ie(H,F,W,ae,Ie){return F===null||F.tag!==7?(F=Ua(W,H.mode,ae,Ie),F.return=H,F):(F=d(F,W),F.return=H,F)}function oe(H,F,W){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=dp(""+F,H.mode,W),F.return=H,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case S:return W=xf(F.type,F.key,F.props,null,H.mode,W),vc(W,F),W.return=H,W;case I:return F=hp(F,H.mode,W),F.return=H,F;case A:return F=Ga(F),oe(H,F,W)}if(de(F)||M(F))return F=Ua(F,H.mode,W,null),F.return=H,F;if(typeof F.then=="function")return oe(H,Df(F),W);if(F.$$typeof===K)return oe(H,Rf(H,F),W);Mf(H,F)}return null}function X(H,F,W,ae){var Ie=F!==null?F.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Ie!==null?null:x(H,F,""+W,ae);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case S:return W.key===Ie?z(H,F,W,ae):null;case I:return W.key===Ie?Q(H,F,W,ae):null;case A:return W=Ga(W),X(H,F,W,ae)}if(de(W)||M(W))return Ie!==null?null:ie(H,F,W,ae,null);if(typeof W.then=="function")return X(H,F,Df(W),ae);if(W.$$typeof===K)return X(H,F,Rf(H,W),ae);Mf(H,W)}return null}function te(H,F,W,ae,Ie){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return H=H.get(W)||null,x(F,H,""+ae,Ie);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case S:return H=H.get(ae.key===null?W:ae.key)||null,z(F,H,ae,Ie);case I:return H=H.get(ae.key===null?W:ae.key)||null,Q(F,H,ae,Ie);case A:return ae=Ga(ae),te(H,F,W,ae,Ie)}if(de(ae)||M(ae))return H=H.get(W)||null,ie(F,H,ae,Ie,null);if(typeof ae.then=="function")return te(H,F,W,Df(ae),Ie);if(ae.$$typeof===K)return te(H,F,W,Rf(F,ae),Ie);Mf(F,ae)}return null}function we(H,F,W,ae){for(var Ie=null,ct=null,Ae=F,He=F=0,tt=null;Ae!==null&&He<W.length;He++){Ae.index>He?(tt=Ae,Ae=null):tt=Ae.sibling;var ut=X(H,Ae,W[He],ae);if(ut===null){Ae===null&&(Ae=tt);break}r&&Ae&&ut.alternate===null&&s(H,Ae),F=m(ut,F,He),ct===null?Ie=ut:ct.sibling=ut,ct=ut,Ae=tt}if(He===W.length)return o(H,Ae),st&&ts(H,He),Ie;if(Ae===null){for(;He<W.length;He++)Ae=oe(H,W[He],ae),Ae!==null&&(F=m(Ae,F,He),ct===null?Ie=Ae:ct.sibling=Ae,ct=Ae);return st&&ts(H,He),Ie}for(Ae=c(Ae);He<W.length;He++)tt=te(Ae,H,He,W[He],ae),tt!==null&&(r&&tt.alternate!==null&&Ae.delete(tt.key===null?He:tt.key),F=m(tt,F,He),ct===null?Ie=tt:ct.sibling=tt,ct=tt);return r&&Ae.forEach(function(ta){return s(H,ta)}),st&&ts(H,He),Ie}function De(H,F,W,ae){if(W==null)throw Error(i(151));for(var Ie=null,ct=null,Ae=F,He=F=0,tt=null,ut=W.next();Ae!==null&&!ut.done;He++,ut=W.next()){Ae.index>He?(tt=Ae,Ae=null):tt=Ae.sibling;var ta=X(H,Ae,ut.value,ae);if(ta===null){Ae===null&&(Ae=tt);break}r&&Ae&&ta.alternate===null&&s(H,Ae),F=m(ta,F,He),ct===null?Ie=ta:ct.sibling=ta,ct=ta,Ae=tt}if(ut.done)return o(H,Ae),st&&ts(H,He),Ie;if(Ae===null){for(;!ut.done;He++,ut=W.next())ut=oe(H,ut.value,ae),ut!==null&&(F=m(ut,F,He),ct===null?Ie=ut:ct.sibling=ut,ct=ut);return st&&ts(H,He),Ie}for(Ae=c(Ae);!ut.done;He++,ut=W.next())ut=te(Ae,H,He,ut.value,ae),ut!==null&&(r&&ut.alternate!==null&&Ae.delete(ut.key===null?He:ut.key),F=m(ut,F,He),ct===null?Ie=ut:ct.sibling=ut,ct=ut);return r&&Ae.forEach(function(DC){return s(H,DC)}),st&&ts(H,He),Ie}function St(H,F,W,ae){if(typeof W=="object"&&W!==null&&W.type===D&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case S:e:{for(var Ie=W.key;F!==null;){if(F.key===Ie){if(Ie=W.type,Ie===D){if(F.tag===7){o(H,F.sibling),ae=d(F,W.props.children),ae.return=H,H=ae;break e}}else if(F.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===A&&Ga(Ie)===F.type){o(H,F.sibling),ae=d(F,W.props),vc(ae,W),ae.return=H,H=ae;break e}o(H,F);break}else s(H,F);F=F.sibling}W.type===D?(ae=Ua(W.props.children,H.mode,ae,W.key),ae.return=H,H=ae):(ae=xf(W.type,W.key,W.props,null,H.mode,ae),vc(ae,W),ae.return=H,H=ae)}return _(H);case I:e:{for(Ie=W.key;F!==null;){if(F.key===Ie)if(F.tag===4&&F.stateNode.containerInfo===W.containerInfo&&F.stateNode.implementation===W.implementation){o(H,F.sibling),ae=d(F,W.children||[]),ae.return=H,H=ae;break e}else{o(H,F);break}else s(H,F);F=F.sibling}ae=hp(W,H.mode,ae),ae.return=H,H=ae}return _(H);case A:return W=Ga(W),St(H,F,W,ae)}if(de(W))return we(H,F,W,ae);if(M(W)){if(Ie=M(W),typeof Ie!="function")throw Error(i(150));return W=Ie.call(W),De(H,F,W,ae)}if(typeof W.then=="function")return St(H,F,Df(W),ae);if(W.$$typeof===K)return St(H,F,Rf(H,W),ae);Mf(H,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,F!==null&&F.tag===6?(o(H,F.sibling),ae=d(F,W),ae.return=H,H=ae):(o(H,F),ae=dp(W,H.mode,ae),ae.return=H,H=ae),_(H)):o(H,F)}return function(H,F,W,ae){try{yc=0;var Ie=St(H,F,W,ae);return Ho=null,Ie}catch(Ae){if(Ae===qo||Ae===If)throw Ae;var ct=br(29,Ae,null,H.mode);return ct.lanes=ae,ct.return=H,ct}}}var Ka=v0(!0),b0=v0(!1),Vs=!1;function xp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ap(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ls(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Us(r,s,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(dt&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,s=Sf(r),n0(r,null,o),s}return Tf(r,c,s,o),Sf(r)}function bc(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,zn(r,o)}}function Cp(r,s){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?d=m=_:m=m.next=_,o=o.next}while(o!==null);m===null?d=m=s:m=m.next=s}else d=m=s;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var Rp=!1;function _c(){if(Rp){var r=Fo;if(r!==null)throw r}}function Ec(r,s,o,c){Rp=!1;var d=r.updateQueue;Vs=!1;var m=d.firstBaseUpdate,_=d.lastBaseUpdate,x=d.shared.pending;if(x!==null){d.shared.pending=null;var z=x,Q=z.next;z.next=null,_===null?m=Q:_.next=Q,_=z;var ie=r.alternate;ie!==null&&(ie=ie.updateQueue,x=ie.lastBaseUpdate,x!==_&&(x===null?ie.firstBaseUpdate=Q:x.next=Q,ie.lastBaseUpdate=z))}if(m!==null){var oe=d.baseState;_=0,ie=Q=z=null,x=m;do{var X=x.lane&-536870913,te=X!==x.lane;if(te?(et&X)===X:(c&X)===X){X!==0&&X===Bo&&(Rp=!0),ie!==null&&(ie=ie.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var we=r,De=x;X=s;var St=o;switch(De.tag){case 1:if(we=De.payload,typeof we=="function"){oe=we.call(St,oe,X);break e}oe=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=De.payload,X=typeof we=="function"?we.call(St,oe,X):we,X==null)break e;oe=v({},oe,X);break e;case 2:Vs=!0}}X=x.callback,X!==null&&(r.flags|=64,te&&(r.flags|=8192),te=d.callbacks,te===null?d.callbacks=[X]:te.push(X))}else te={lane:X,tag:x.tag,payload:x.payload,callback:x.callback,next:null},ie===null?(Q=ie=te,z=oe):ie=ie.next=te,_|=X;if(x=x.next,x===null){if(x=d.shared.pending,x===null)break;te=x,x=te.next,te.next=null,d.lastBaseUpdate=te,d.shared.pending=null}}while(!0);ie===null&&(z=oe),d.baseState=z,d.firstBaseUpdate=Q,d.lastBaseUpdate=ie,m===null&&(d.shared.lanes=0),Gs|=_,r.lanes=_,r.memoizedState=oe}}function _0(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function E0(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)_0(o[r],s)}var Go=j(null),kf=j(0);function w0(r,s){r=ds,fe(kf,r),fe(Go,s),ds=r|s.baseLanes}function Np(){fe(kf,ds),fe(Go,Go.current)}function Ip(){ds=kf.current,J(Go),J(kf)}var _r=j(null),Vr=null;function Bs(r){var s=r.alternate;fe(Kt,Kt.current&1),fe(_r,r),Vr===null&&(s===null||Go.current!==null||s.memoizedState!==null)&&(Vr=r)}function Op(r){fe(Kt,Kt.current),fe(_r,r),Vr===null&&(Vr=r)}function T0(r){r.tag===22?(fe(Kt,Kt.current),fe(_r,r),Vr===null&&(Vr=r)):Fs()}function Fs(){fe(Kt,Kt.current),fe(_r,_r.current)}function Er(r){J(_r),Vr===r&&(Vr=null),J(Kt)}var Kt=j(0);function Pf(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||zm(o)||Vm(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var is=0,qe=null,wt=null,on=null,jf=!1,Yo=!1,Wa=!1,zf=0,wc=0,Ko=null,w2=0;function Ft(){throw Error(i(321))}function Dp(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!vr(r[o],s[o]))return!1;return!0}function Mp(r,s,o,c,d,m){return is=m,qe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,q.H=r===null||r.memoizedState===null?ab:Wp,Wa=!1,m=o(c,d),Wa=!1,Yo&&(m=x0(s,o,c,d)),S0(r),m}function S0(r){q.H=xc;var s=wt!==null&&wt.next!==null;if(is=0,on=wt=qe=null,jf=!1,wc=0,Ko=null,s)throw Error(i(300));r===null||ln||(r=r.dependencies,r!==null&&Cf(r)&&(ln=!0))}function x0(r,s,o,c){qe=r;var d=0;do{if(Yo&&(Ko=null),wc=0,Yo=!1,25<=d)throw Error(i(301));if(d+=1,on=wt=null,r.updateQueue!=null){var m=r.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}q.H=ob,m=s(o,c)}while(Yo);return m}function T2(){var r=q.H,s=r.useState()[0];return s=typeof s.then=="function"?Tc(s):s,r=r.useState()[0],(wt!==null?wt.memoizedState:null)!==r&&(qe.flags|=1024),s}function kp(){var r=zf!==0;return zf=0,r}function Pp(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function jp(r){if(jf){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}jf=!1}is=0,on=wt=qe=null,Yo=!1,wc=zf=0,Ko=null}function Xn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?qe.memoizedState=on=r:on=on.next=r,on}function Wt(){if(wt===null){var r=qe.alternate;r=r!==null?r.memoizedState:null}else r=wt.next;var s=on===null?qe.memoizedState:on.next;if(s!==null)on=s,wt=r;else{if(r===null)throw qe.alternate===null?Error(i(467)):Error(i(310));wt=r,r={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},on===null?qe.memoizedState=on=r:on=on.next=r}return on}function Vf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tc(r){var s=wc;return wc+=1,Ko===null&&(Ko=[]),r=m0(Ko,r,s),s=qe,(on===null?s.memoizedState:on.next)===null&&(s=s.alternate,q.H=s===null||s.memoizedState===null?ab:Wp),r}function Lf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Tc(r);if(r.$$typeof===K)return Nn(r)}throw Error(i(438,String(r)))}function zp(r){var s=null,o=qe.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=qe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Vf(),qe.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),c=0;c<r;c++)o[c]=L;return s.index++,o}function ss(r,s){return typeof s=="function"?s(r):s}function Uf(r){var s=Wt();return Vp(s,wt,r)}function Vp(r,s,o){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var d=r.baseQueue,m=c.pending;if(m!==null){if(d!==null){var _=d.next;d.next=m.next,m.next=_}s.baseQueue=d=m,c.pending=null}if(m=r.baseState,d===null)r.memoizedState=m;else{s=d.next;var x=_=null,z=null,Q=s,ie=!1;do{var oe=Q.lane&-536870913;if(oe!==Q.lane?(et&oe)===oe:(is&oe)===oe){var X=Q.revertLane;if(X===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),oe===Bo&&(ie=!0);else if((is&X)===X){Q=Q.next,X===Bo&&(ie=!0);continue}else oe={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},z===null?(x=z=oe,_=m):z=z.next=oe,qe.lanes|=X,Gs|=X;oe=Q.action,Wa&&o(m,oe),m=Q.hasEagerState?Q.eagerState:o(m,oe)}else X={lane:oe,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},z===null?(x=z=X,_=m):z=z.next=X,qe.lanes|=oe,Gs|=oe;Q=Q.next}while(Q!==null&&Q!==s);if(z===null?_=m:z.next=x,!vr(m,r.memoizedState)&&(ln=!0,ie&&(o=Fo,o!==null)))throw o;r.memoizedState=m,r.baseState=_,r.baseQueue=z,c.lastRenderedState=m}return d===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Lp(r){var s=Wt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var c=o.dispatch,d=o.pending,m=s.memoizedState;if(d!==null){o.pending=null;var _=d=d.next;do m=r(m,_.action),_=_.next;while(_!==d);vr(m,s.memoizedState)||(ln=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),o.lastRenderedState=m}return[m,c]}function A0(r,s,o){var c=qe,d=Wt(),m=st;if(m){if(o===void 0)throw Error(i(407));o=o()}else o=s();var _=!vr((wt||d).memoizedState,o);if(_&&(d.memoizedState=o,ln=!0),d=d.queue,Fp(N0.bind(null,c,d,r),[r]),d.getSnapshot!==s||_||on!==null&&on.memoizedState.tag&1){if(c.flags|=2048,Wo(9,{destroy:void 0},R0.bind(null,c,d,o,s),null),Ct===null)throw Error(i(349));m||(is&127)!==0||C0(c,s,o)}return o}function C0(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=qe.updateQueue,s===null?(s=Vf(),qe.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function R0(r,s,o,c){s.value=o,s.getSnapshot=c,I0(s)&&O0(r)}function N0(r,s,o){return o(function(){I0(s)&&O0(r)})}function I0(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!vr(r,o)}catch{return!0}}function O0(r){var s=La(r,2);s!==null&&lr(s,r,2)}function Up(r){var s=Xn();if(typeof r=="function"){var o=r;if(r=o(),Wa){en(!0);try{o()}finally{en(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:r},s}function D0(r,s,o,c){return r.baseState=o,Vp(r,wt,typeof c=="function"?c:ss)}function S2(r,s,o,c,d){if(qf(r))throw Error(i(485));if(r=s.action,r!==null){var m={payload:d,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};q.T!==null?o(!0):m.isTransition=!1,c(m),o=s.pending,o===null?(m.next=s.pending=m,M0(s,m)):(m.next=o.next,s.pending=o.next=m)}}function M0(r,s){var o=s.action,c=s.payload,d=r.state;if(s.isTransition){var m=q.T,_={};q.T=_;try{var x=o(d,c),z=q.S;z!==null&&z(_,x),k0(r,s,x)}catch(Q){Bp(r,s,Q)}finally{m!==null&&_.types!==null&&(m.types=_.types),q.T=m}}else try{m=o(d,c),k0(r,s,m)}catch(Q){Bp(r,s,Q)}}function k0(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){P0(r,s,c)},function(c){return Bp(r,s,c)}):P0(r,s,o)}function P0(r,s,o){s.status="fulfilled",s.value=o,j0(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,M0(r,o)))}function Bp(r,s,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,j0(s),s=s.next;while(s!==c)}r.action=null}function j0(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function z0(r,s){return s}function V0(r,s){if(st){var o=Ct.formState;if(o!==null){e:{var c=qe;if(st){if(Ot){t:{for(var d=Ot,m=zr;d.nodeType!==8;){if(!m){d=null;break t}if(d=Lr(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){Ot=Lr(d.nextSibling),c=d.data==="F!";break e}}js(c)}c=!1}c&&(s=o[0])}}return o=Xn(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:z0,lastRenderedState:s},o.queue=c,o=rb.bind(null,qe,c),c.dispatch=o,c=Up(!1),m=Kp.bind(null,qe,!1,c.queue),c=Xn(),d={state:s,dispatch:null,action:r,pending:null},c.queue=d,o=S2.bind(null,qe,d,m,o),d.dispatch=o,c.memoizedState=r,[s,o,!1]}function L0(r){var s=Wt();return U0(s,wt,r)}function U0(r,s,o){if(s=Vp(r,s,z0)[0],r=Uf(ss)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Tc(s)}catch(_){throw _===qo?If:_}else c=s;s=Wt();var d=s.queue,m=d.dispatch;return o!==s.memoizedState&&(qe.flags|=2048,Wo(9,{destroy:void 0},x2.bind(null,d,o),null)),[c,m,r]}function x2(r,s){r.action=s}function B0(r){var s=Wt(),o=wt;if(o!==null)return U0(s,o,r);Wt(),s=s.memoizedState,o=Wt();var c=o.queue.dispatch;return o.memoizedState=r,[s,c,!1]}function Wo(r,s,o,c){return r={tag:r,create:o,deps:c,inst:s,next:null},s=qe.updateQueue,s===null&&(s=Vf(),qe.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,s.lastEffect=r),r}function F0(){return Wt().memoizedState}function Bf(r,s,o,c){var d=Xn();qe.flags|=r,d.memoizedState=Wo(1|s,{destroy:void 0},o,c===void 0?null:c)}function Ff(r,s,o,c){var d=Wt();c=c===void 0?null:c;var m=d.memoizedState.inst;wt!==null&&c!==null&&Dp(c,wt.memoizedState.deps)?d.memoizedState=Wo(s,m,o,c):(qe.flags|=r,d.memoizedState=Wo(1|s,m,o,c))}function q0(r,s){Bf(8390656,8,r,s)}function Fp(r,s){Ff(2048,8,r,s)}function A2(r){qe.flags|=4;var s=qe.updateQueue;if(s===null)s=Vf(),qe.updateQueue=s,s.events=[r];else{var o=s.events;o===null?s.events=[r]:o.push(r)}}function H0(r){var s=Wt().memoizedState;return A2({ref:s,nextImpl:r}),function(){if((dt&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function G0(r,s){return Ff(4,2,r,s)}function Y0(r,s){return Ff(4,4,r,s)}function K0(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function W0(r,s,o){o=o!=null?o.concat([r]):null,Ff(4,4,K0.bind(null,s,r),o)}function qp(){}function Q0(r,s){var o=Wt();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&Dp(s,c[1])?c[0]:(o.memoizedState=[r,s],r)}function $0(r,s){var o=Wt();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&Dp(s,c[1]))return c[0];if(c=r(),Wa){en(!0);try{r()}finally{en(!1)}}return o.memoizedState=[c,s],c}function Hp(r,s,o){return o===void 0||(is&1073741824)!==0&&(et&261930)===0?r.memoizedState=s:(r.memoizedState=o,r=Xb(),qe.lanes|=r,Gs|=r,o)}function X0(r,s,o,c){return vr(o,s)?o:Go.current!==null?(r=Hp(r,o,c),vr(r,s)||(ln=!0),r):(is&42)===0||(is&1073741824)!==0&&(et&261930)===0?(ln=!0,r.memoizedState=o):(r=Xb(),qe.lanes|=r,Gs|=r,s)}function J0(r,s,o,c,d){var m=re.p;re.p=m!==0&&8>m?m:8;var _=q.T,x={};q.T=x,Kp(r,!1,s,o);try{var z=d(),Q=q.S;if(Q!==null&&Q(x,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ie=E2(z,c);Sc(r,s,ie,Sr(r))}else Sc(r,s,c,Sr(r))}catch(oe){Sc(r,s,{then:function(){},status:"rejected",reason:oe},Sr())}finally{re.p=m,_!==null&&x.types!==null&&(_.types=x.types),q.T=_}}function C2(){}function Gp(r,s,o,c){if(r.tag!==5)throw Error(i(476));var d=Z0(r).queue;J0(r,d,s,he,o===null?C2:function(){return eb(r),o(c)})}function Z0(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:he},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function eb(r){var s=Z0(r);s.next===null&&(s=r.alternate.memoizedState),Sc(r,s.next.queue,{},Sr())}function Yp(){return Nn(Bc)}function tb(){return Wt().memoizedState}function nb(){return Wt().memoizedState}function R2(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Sr();r=Ls(o);var c=Us(s,r,o);c!==null&&(lr(c,s,o),bc(c,s,o)),s={cache:Ep()},r.payload=s;return}s=s.return}}function N2(r,s,o){var c=Sr();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},qf(r)?ib(s,o):(o=up(r,s,o,c),o!==null&&(lr(o,r,c),sb(o,s,c)))}function rb(r,s,o){var c=Sr();Sc(r,s,o,c)}function Sc(r,s,o,c){var d={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(qf(r))ib(s,d);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var _=s.lastRenderedState,x=m(_,o);if(d.hasEagerState=!0,d.eagerState=x,vr(x,_))return Tf(r,s,d,0),Ct===null&&wf(),!1}catch{}if(o=up(r,s,d,c),o!==null)return lr(o,r,c),sb(o,s,c),!0}return!1}function Kp(r,s,o,c){if(c={lane:2,revertLane:xm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},qf(r)){if(s)throw Error(i(479))}else s=up(r,o,c,2),s!==null&&lr(s,r,2)}function qf(r){var s=r.alternate;return r===qe||s!==null&&s===qe}function ib(r,s){Yo=jf=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function sb(r,s,o){if((o&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,zn(r,o)}}var xc={readContext:Nn,use:Lf,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useLayoutEffect:Ft,useInsertionEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useSyncExternalStore:Ft,useId:Ft,useHostTransitionStatus:Ft,useFormState:Ft,useActionState:Ft,useOptimistic:Ft,useMemoCache:Ft,useCacheRefresh:Ft};xc.useEffectEvent=Ft;var ab={readContext:Nn,use:Lf,useCallback:function(r,s){return Xn().memoizedState=[r,s===void 0?null:s],r},useContext:Nn,useEffect:q0,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Bf(4194308,4,K0.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Bf(4194308,4,r,s)},useInsertionEffect:function(r,s){Bf(4,2,r,s)},useMemo:function(r,s){var o=Xn();s=s===void 0?null:s;var c=r();if(Wa){en(!0);try{r()}finally{en(!1)}}return o.memoizedState=[c,s],c},useReducer:function(r,s,o){var c=Xn();if(o!==void 0){var d=o(s);if(Wa){en(!0);try{o(s)}finally{en(!1)}}}else d=s;return c.memoizedState=c.baseState=d,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:d},c.queue=r,r=r.dispatch=N2.bind(null,qe,r),[c.memoizedState,r]},useRef:function(r){var s=Xn();return r={current:r},s.memoizedState=r},useState:function(r){r=Up(r);var s=r.queue,o=rb.bind(null,qe,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:qp,useDeferredValue:function(r,s){var o=Xn();return Hp(o,r,s)},useTransition:function(){var r=Up(!1);return r=J0.bind(null,qe,r.queue,!0,!1),Xn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var c=qe,d=Xn();if(st){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),Ct===null)throw Error(i(349));(et&127)!==0||C0(c,s,o)}d.memoizedState=o;var m={value:o,getSnapshot:s};return d.queue=m,q0(N0.bind(null,c,m,r),[r]),c.flags|=2048,Wo(9,{destroy:void 0},R0.bind(null,c,m,o,s),null),o},useId:function(){var r=Xn(),s=Ct.identifierPrefix;if(st){var o=Ri,c=Ci;o=(c&~(1<<32-gt(c)-1)).toString(32)+o,s="_"+s+"R_"+o,o=zf++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=w2++,s="_"+s+"r_"+o.toString(32)+"_";return r.memoizedState=s},useHostTransitionStatus:Yp,useFormState:V0,useActionState:V0,useOptimistic:function(r){var s=Xn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Kp.bind(null,qe,!0,o),o.dispatch=s,[r,s]},useMemoCache:zp,useCacheRefresh:function(){return Xn().memoizedState=R2.bind(null,qe)},useEffectEvent:function(r){var s=Xn(),o={impl:r};return s.memoizedState=o,function(){if((dt&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},Wp={readContext:Nn,use:Lf,useCallback:Q0,useContext:Nn,useEffect:Fp,useImperativeHandle:W0,useInsertionEffect:G0,useLayoutEffect:Y0,useMemo:$0,useReducer:Uf,useRef:F0,useState:function(){return Uf(ss)},useDebugValue:qp,useDeferredValue:function(r,s){var o=Wt();return X0(o,wt.memoizedState,r,s)},useTransition:function(){var r=Uf(ss)[0],s=Wt().memoizedState;return[typeof r=="boolean"?r:Tc(r),s]},useSyncExternalStore:A0,useId:tb,useHostTransitionStatus:Yp,useFormState:L0,useActionState:L0,useOptimistic:function(r,s){var o=Wt();return D0(o,wt,r,s)},useMemoCache:zp,useCacheRefresh:nb};Wp.useEffectEvent=H0;var ob={readContext:Nn,use:Lf,useCallback:Q0,useContext:Nn,useEffect:Fp,useImperativeHandle:W0,useInsertionEffect:G0,useLayoutEffect:Y0,useMemo:$0,useReducer:Lp,useRef:F0,useState:function(){return Lp(ss)},useDebugValue:qp,useDeferredValue:function(r,s){var o=Wt();return wt===null?Hp(o,r,s):X0(o,wt.memoizedState,r,s)},useTransition:function(){var r=Lp(ss)[0],s=Wt().memoizedState;return[typeof r=="boolean"?r:Tc(r),s]},useSyncExternalStore:A0,useId:tb,useHostTransitionStatus:Yp,useFormState:B0,useActionState:B0,useOptimistic:function(r,s){var o=Wt();return wt!==null?D0(o,wt,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:zp,useCacheRefresh:nb};ob.useEffectEvent=H0;function Qp(r,s,o,c){s=r.memoizedState,o=o(c,s),o=o==null?s:v({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var $p={enqueueSetState:function(r,s,o){r=r._reactInternals;var c=Sr(),d=Ls(c);d.payload=s,o!=null&&(d.callback=o),s=Us(r,d,c),s!==null&&(lr(s,r,c),bc(s,r,c))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var c=Sr(),d=Ls(c);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=Us(r,d,c),s!==null&&(lr(s,r,c),bc(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Sr(),c=Ls(o);c.tag=2,s!=null&&(c.callback=s),s=Us(r,c,o),s!==null&&(lr(s,r,o),bc(s,r,o))}};function lb(r,s,o,c,d,m,_){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,m,_):s.prototype&&s.prototype.isPureReactComponent?!fc(o,c)||!fc(d,m):!0}function cb(r,s,o,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==r&&$p.enqueueReplaceState(s,s.state,null)}function Qa(r,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(r=r.defaultProps){o===s&&(o=v({},o));for(var d in r)o[d]===void 0&&(o[d]=r[d])}return o}function ub(r){Ef(r)}function fb(r){console.error(r)}function db(r){Ef(r)}function Hf(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function hb(r,s,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Xp(r,s,o){return o=Ls(o),o.tag=3,o.payload={element:null},o.callback=function(){Hf(r,s)},o}function pb(r){return r=Ls(r),r.tag=3,r}function mb(r,s,o,c){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var m=c.value;r.payload=function(){return d(m)},r.callback=function(){hb(s,o,c)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(r.callback=function(){hb(s,o,c),typeof d!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var x=c.stack;this.componentDidCatch(c.value,{componentStack:x!==null?x:""})})}function I2(r,s,o,c,d){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&Uo(s,o,d,!0),o=_r.current,o!==null){switch(o.tag){case 31:case 13:return Vr===null?nd():o.alternate===null&&qt===0&&(qt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,c===Of?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),wm(r,c,d)),!1;case 22:return o.flags|=65536,c===Of?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),wm(r,c,d)),!1}throw Error(i(435,o.tag))}return wm(r,c,d),nd(),!1}if(st)return s=_r.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,c!==gp&&(r=Error(i(422),{cause:c}),pc(kr(r,o)))):(c!==gp&&(s=Error(i(423),{cause:c}),pc(kr(s,o))),r=r.current.alternate,r.flags|=65536,d&=-d,r.lanes|=d,c=kr(c,o),d=Xp(r.stateNode,c,d),Cp(r,d),qt!==4&&(qt=2)),!1;var m=Error(i(520),{cause:c});if(m=kr(m,o),Mc===null?Mc=[m]:Mc.push(m),qt!==4&&(qt=2),s===null)return!0;c=kr(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=d&-d,o.lanes|=r,r=Xp(o.stateNode,c,r),Cp(o,r),!1;case 1:if(s=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ys===null||!Ys.has(m))))return o.flags|=65536,d&=-d,o.lanes|=d,d=pb(d),mb(d,r,o,c),Cp(o,d),!1}o=o.return}while(o!==null);return!1}var Jp=Error(i(461)),ln=!1;function In(r,s,o,c){s.child=r===null?b0(s,null,o,c):Ka(s,r.child,o,c)}function gb(r,s,o,c,d){o=o.render;var m=s.ref;if("ref"in c){var _={};for(var x in c)x!=="ref"&&(_[x]=c[x])}else _=c;return qa(s),c=Mp(r,s,o,_,m,d),x=kp(),r!==null&&!ln?(Pp(r,s,d),as(r,s,d)):(st&&x&&pp(s),s.flags|=1,In(r,s,c,d),s.child)}function yb(r,s,o,c,d){if(r===null){var m=o.type;return typeof m=="function"&&!fp(m)&&m.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=m,vb(r,s,m,c,d)):(r=xf(o.type,null,c,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(m=r.child,!am(r,d)){var _=m.memoizedProps;if(o=o.compare,o=o!==null?o:fc,o(_,c)&&r.ref===s.ref)return as(r,s,d)}return s.flags|=1,r=es(m,c),r.ref=s.ref,r.return=s,s.child=r}function vb(r,s,o,c,d){if(r!==null){var m=r.memoizedProps;if(fc(m,c)&&r.ref===s.ref)if(ln=!1,s.pendingProps=c=m,am(r,d))(r.flags&131072)!==0&&(ln=!0);else return s.lanes=r.lanes,as(r,s,d)}return Zp(r,s,o,c,d)}function bb(r,s,o,c){var d=c.children,m=r!==null?r.memoizedState:null;if(r===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,r!==null){for(c=s.child=r.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;c=d&~m}else c=0,s.child=null;return _b(r,s,m,o,c)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Nf(s,m!==null?m.cachePool:null),m!==null?w0(s,m):Np(),T0(s);else return c=s.lanes=536870912,_b(r,s,m!==null?m.baseLanes|o:o,o,c)}else m!==null?(Nf(s,m.cachePool),w0(s,m),Fs(),s.memoizedState=null):(r!==null&&Nf(s,null),Np(),Fs());return In(r,s,d,o),s.child}function Ac(r,s){return r!==null&&r.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function _b(r,s,o,c,d){var m=Tp();return m=m===null?null:{parent:an._currentValue,pool:m},s.memoizedState={baseLanes:o,cachePool:m},r!==null&&Nf(s,null),Np(),T0(s),r!==null&&Uo(r,s,c,!0),s.childLanes=d,null}function Gf(r,s){return s=Kf({mode:s.mode,children:s.children},r.mode),s.ref=r.ref,r.child=s,s.return=r,s}function Eb(r,s,o){return Ka(s,r.child,null,o),r=Gf(s,s.pendingProps),r.flags|=2,Er(s),s.memoizedState=null,r}function O2(r,s,o){var c=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,r===null){if(st){if(c.mode==="hidden")return r=Gf(s,c),s.lanes=536870912,Ac(null,r);if(Op(s),(r=Ot)?(r=M_(r,zr),r=r!==null&&r.data==="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:ks!==null?{id:Ci,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},o=i0(r),o.return=s,s.child=o,Rn=s,Ot=null)):r=null,r===null)throw js(s);return s.lanes=536870912,null}return Gf(s,c)}var m=r.memoizedState;if(m!==null){var _=m.dehydrated;if(Op(s),d)if(s.flags&256)s.flags&=-257,s=Eb(r,s,o);else if(s.memoizedState!==null)s.child=r.child,s.flags|=128,s=null;else throw Error(i(558));else if(ln||Uo(r,s,o,!1),d=(o&r.childLanes)!==0,ln||d){if(c=Ct,c!==null&&(_=Kn(c,o),_!==0&&_!==m.retryLane))throw m.retryLane=_,La(r,_),lr(c,r,_),Jp;nd(),s=Eb(r,s,o)}else r=m.treeContext,Ot=Lr(_.nextSibling),Rn=s,st=!0,Ps=null,zr=!1,r!==null&&o0(s,r),s=Gf(s,c),s.flags|=4096;return s}return r=es(r.child,{mode:c.mode,children:c.children}),r.ref=s.ref,s.child=r,r.return=s,r}function Yf(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function Zp(r,s,o,c,d){return qa(s),o=Mp(r,s,o,c,void 0,d),c=kp(),r!==null&&!ln?(Pp(r,s,d),as(r,s,d)):(st&&c&&pp(s),s.flags|=1,In(r,s,o,d),s.child)}function wb(r,s,o,c,d,m){return qa(s),s.updateQueue=null,o=x0(s,c,o,d),S0(r),c=kp(),r!==null&&!ln?(Pp(r,s,m),as(r,s,m)):(st&&c&&pp(s),s.flags|=1,In(r,s,o,m),s.child)}function Tb(r,s,o,c,d){if(qa(s),s.stateNode===null){var m=jo,_=o.contextType;typeof _=="object"&&_!==null&&(m=Nn(_)),m=new o(c,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=$p,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=c,m.state=s.memoizedState,m.refs={},xp(s),_=o.contextType,m.context=typeof _=="object"&&_!==null?Nn(_):jo,m.state=s.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(Qp(s,o,_,c),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&$p.enqueueReplaceState(m,m.state,null),Ec(s,c,m,d),_c(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){m=s.stateNode;var x=s.memoizedProps,z=Qa(o,x);m.props=z;var Q=m.context,ie=o.contextType;_=jo,typeof ie=="object"&&ie!==null&&(_=Nn(ie));var oe=o.getDerivedStateFromProps;ie=typeof oe=="function"||typeof m.getSnapshotBeforeUpdate=="function",x=s.pendingProps!==x,ie||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x||Q!==_)&&cb(s,m,c,_),Vs=!1;var X=s.memoizedState;m.state=X,Ec(s,c,m,d),_c(),Q=s.memoizedState,x||X!==Q||Vs?(typeof oe=="function"&&(Qp(s,o,oe,c),Q=s.memoizedState),(z=Vs||lb(s,o,z,c,X,Q,_))?(ie||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=Q),m.props=c,m.state=Q,m.context=_,c=z):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{m=s.stateNode,Ap(r,s),_=s.memoizedProps,ie=Qa(o,_),m.props=ie,oe=s.pendingProps,X=m.context,Q=o.contextType,z=jo,typeof Q=="object"&&Q!==null&&(z=Nn(Q)),x=o.getDerivedStateFromProps,(Q=typeof x=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==oe||X!==z)&&cb(s,m,c,z),Vs=!1,X=s.memoizedState,m.state=X,Ec(s,c,m,d),_c();var te=s.memoizedState;_!==oe||X!==te||Vs||r!==null&&r.dependencies!==null&&Cf(r.dependencies)?(typeof x=="function"&&(Qp(s,o,x,c),te=s.memoizedState),(ie=Vs||lb(s,o,ie,c,X,te,z)||r!==null&&r.dependencies!==null&&Cf(r.dependencies))?(Q||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,te,z),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,te,z)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=te),m.props=c,m.state=te,m.context=z,c=ie):(typeof m.componentDidUpdate!="function"||_===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),c=!1)}return m=c,Yf(r,s),c=(s.flags&128)!==0,m||c?(m=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,r!==null&&c?(s.child=Ka(s,r.child,null,d),s.child=Ka(s,null,o,d)):In(r,s,o,d),s.memoizedState=m.state,r=s.child):r=as(r,s,d),r}function Sb(r,s,o,c){return Ba(),s.flags|=256,In(r,s,o,c),s.child}var em={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tm(r){return{baseLanes:r,cachePool:h0()}}function nm(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=Tr),r}function xb(r,s,o){var c=s.pendingProps,d=!1,m=(s.flags&128)!==0,_;if((_=m)||(_=r!==null&&r.memoizedState===null?!1:(Kt.current&2)!==0),_&&(d=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,r===null){if(st){if(d?Bs(s):Fs(),(r=Ot)?(r=M_(r,zr),r=r!==null&&r.data!=="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:ks!==null?{id:Ci,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},o=i0(r),o.return=s,s.child=o,Rn=s,Ot=null)):r=null,r===null)throw js(s);return Vm(r)?s.lanes=32:s.lanes=536870912,null}var x=c.children;return c=c.fallback,d?(Fs(),d=s.mode,x=Kf({mode:"hidden",children:x},d),c=Ua(c,d,o,null),x.return=s,c.return=s,x.sibling=c,s.child=x,c=s.child,c.memoizedState=tm(o),c.childLanes=nm(r,_,o),s.memoizedState=em,Ac(null,c)):(Bs(s),rm(s,x))}var z=r.memoizedState;if(z!==null&&(x=z.dehydrated,x!==null)){if(m)s.flags&256?(Bs(s),s.flags&=-257,s=im(r,s,o)):s.memoizedState!==null?(Fs(),s.child=r.child,s.flags|=128,s=null):(Fs(),x=c.fallback,d=s.mode,c=Kf({mode:"visible",children:c.children},d),x=Ua(x,d,o,null),x.flags|=2,c.return=s,x.return=s,c.sibling=x,s.child=c,Ka(s,r.child,null,o),c=s.child,c.memoizedState=tm(o),c.childLanes=nm(r,_,o),s.memoizedState=em,s=Ac(null,c));else if(Bs(s),Vm(x)){if(_=x.nextSibling&&x.nextSibling.dataset,_)var Q=_.dgst;_=Q,c=Error(i(419)),c.stack="",c.digest=_,pc({value:c,source:null,stack:null}),s=im(r,s,o)}else if(ln||Uo(r,s,o,!1),_=(o&r.childLanes)!==0,ln||_){if(_=Ct,_!==null&&(c=Kn(_,o),c!==0&&c!==z.retryLane))throw z.retryLane=c,La(r,c),lr(_,r,c),Jp;zm(x)||nd(),s=im(r,s,o)}else zm(x)?(s.flags|=192,s.child=r.child,s=null):(r=z.treeContext,Ot=Lr(x.nextSibling),Rn=s,st=!0,Ps=null,zr=!1,r!==null&&o0(s,r),s=rm(s,c.children),s.flags|=4096);return s}return d?(Fs(),x=c.fallback,d=s.mode,z=r.child,Q=z.sibling,c=es(z,{mode:"hidden",children:c.children}),c.subtreeFlags=z.subtreeFlags&65011712,Q!==null?x=es(Q,x):(x=Ua(x,d,o,null),x.flags|=2),x.return=s,c.return=s,c.sibling=x,s.child=c,Ac(null,c),c=s.child,x=r.child.memoizedState,x===null?x=tm(o):(d=x.cachePool,d!==null?(z=an._currentValue,d=d.parent!==z?{parent:z,pool:z}:d):d=h0(),x={baseLanes:x.baseLanes|o,cachePool:d}),c.memoizedState=x,c.childLanes=nm(r,_,o),s.memoizedState=em,Ac(r.child,c)):(Bs(s),o=r.child,r=o.sibling,o=es(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,r!==null&&(_=s.deletions,_===null?(s.deletions=[r],s.flags|=16):_.push(r)),s.child=o,s.memoizedState=null,o)}function rm(r,s){return s=Kf({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Kf(r,s){return r=br(22,r,null,s),r.lanes=0,r}function im(r,s,o){return Ka(s,r.child,null,o),r=rm(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Ab(r,s,o){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),bp(r.return,s,o)}function sm(r,s,o,c,d,m){var _=r.memoizedState;_===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d,treeForkCount:m}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=c,_.tail=o,_.tailMode=d,_.treeForkCount=m)}function Cb(r,s,o){var c=s.pendingProps,d=c.revealOrder,m=c.tail;c=c.children;var _=Kt.current,x=(_&2)!==0;if(x?(_=_&1|2,s.flags|=128):_&=1,fe(Kt,_),In(r,s,c,o),c=st?hc:0,!x&&r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ab(r,o,s);else if(r.tag===19)Ab(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(d){case"forwards":for(o=s.child,d=null;o!==null;)r=o.alternate,r!==null&&Pf(r)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),sm(s,!1,d,o,m,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&Pf(r)===null){s.child=d;break}r=d.sibling,d.sibling=o,o=d,d=r}sm(s,!0,o,null,m,c);break;case"together":sm(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function as(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Gs|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(Uo(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=es(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=es(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function am(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Cf(r)))}function D2(r,s,o){switch(s.tag){case 3:Qe(s,s.stateNode.containerInfo),zs(s,an,r.memoizedState.cache),Ba();break;case 27:case 5:ke(s);break;case 4:Qe(s,s.stateNode.containerInfo);break;case 10:zs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Op(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Bs(s),s.flags|=128,null):(o&s.child.childLanes)!==0?xb(r,s,o):(Bs(s),r=as(r,s,o),r!==null?r.sibling:null);Bs(s);break;case 19:var d=(r.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(Uo(r,s,o,!1),c=(o&s.childLanes)!==0),d){if(c)return Cb(r,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),fe(Kt,Kt.current),c)break;return null;case 22:return s.lanes=0,bb(r,s,o,s.pendingProps);case 24:zs(s,an,r.memoizedState.cache)}return as(r,s,o)}function Rb(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)ln=!0;else{if(!am(r,o)&&(s.flags&128)===0)return ln=!1,D2(r,s,o);ln=(r.flags&131072)!==0}else ln=!1,st&&(s.flags&1048576)!==0&&a0(s,hc,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(r=Ga(s.elementType),s.type=r,typeof r=="function")fp(r)?(c=Qa(r,c),s.tag=1,s=Tb(null,s,r,c,o)):(s.tag=0,s=Zp(null,s,r,c,o));else{if(r!=null){var d=r.$$typeof;if(d===G){s.tag=11,s=gb(null,s,r,c,o);break e}else if(d===R){s.tag=14,s=yb(null,s,r,c,o);break e}}throw s=ne(r)||r,Error(i(306,s,""))}}return s;case 0:return Zp(r,s,s.type,s.pendingProps,o);case 1:return c=s.type,d=Qa(c,s.pendingProps),Tb(r,s,c,d,o);case 3:e:{if(Qe(s,s.stateNode.containerInfo),r===null)throw Error(i(387));c=s.pendingProps;var m=s.memoizedState;d=m.element,Ap(r,s),Ec(s,c,null,o);var _=s.memoizedState;if(c=_.cache,zs(s,an,c),c!==m.cache&&_p(s,[an],o,!0),_c(),c=_.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=Sb(r,s,c,o);break e}else if(c!==d){d=kr(Error(i(424)),s),pc(d),s=Sb(r,s,c,o);break e}else for(r=s.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,Ot=Lr(r.firstChild),Rn=s,st=!0,Ps=null,zr=!0,o=b0(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ba(),c===d){s=as(r,s,o);break e}In(r,s,c,o)}s=s.child}return s;case 26:return Yf(r,s),r===null?(o=L_(s.type,null,s.pendingProps,null))?s.memoizedState=o:st||(o=s.type,r=s.pendingProps,c=cd(Se.current).createElement(o),c[nn]=s,c[bn]=r,On(c,o,r),rn(c),s.stateNode=c):s.memoizedState=L_(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return ke(s),r===null&&st&&(c=s.stateNode=j_(s.type,s.pendingProps,Se.current),Rn=s,zr=!0,d=Ot,$s(s.type)?(Lm=d,Ot=Lr(c.firstChild)):Ot=d),In(r,s,s.pendingProps.children,o),Yf(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&st&&((d=c=Ot)&&(c=lC(c,s.type,s.pendingProps,zr),c!==null?(s.stateNode=c,Rn=s,Ot=Lr(c.firstChild),zr=!1,d=!0):d=!1),d||js(s)),ke(s),d=s.type,m=s.pendingProps,_=r!==null?r.memoizedProps:null,c=m.children,km(d,m)?c=null:_!==null&&km(d,_)&&(s.flags|=32),s.memoizedState!==null&&(d=Mp(r,s,T2,null,null,o),Bc._currentValue=d),Yf(r,s),In(r,s,c,o),s.child;case 6:return r===null&&st&&((r=o=Ot)&&(o=cC(o,s.pendingProps,zr),o!==null?(s.stateNode=o,Rn=s,Ot=null,r=!0):r=!1),r||js(s)),null;case 13:return xb(r,s,o);case 4:return Qe(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=Ka(s,null,c,o):In(r,s,c,o),s.child;case 11:return gb(r,s,s.type,s.pendingProps,o);case 7:return In(r,s,s.pendingProps,o),s.child;case 8:return In(r,s,s.pendingProps.children,o),s.child;case 12:return In(r,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,zs(s,s.type,c.value),In(r,s,c.children,o),s.child;case 9:return d=s.type._context,c=s.pendingProps.children,qa(s),d=Nn(d),c=c(d),s.flags|=1,In(r,s,c,o),s.child;case 14:return yb(r,s,s.type,s.pendingProps,o);case 15:return vb(r,s,s.type,s.pendingProps,o);case 19:return Cb(r,s,o);case 31:return O2(r,s,o);case 22:return bb(r,s,o,s.pendingProps);case 24:return qa(s),c=Nn(an),r===null?(d=Tp(),d===null&&(d=Ct,m=Ep(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=o),d=m),s.memoizedState={parent:c,cache:d},xp(s),zs(s,an,d)):((r.lanes&o)!==0&&(Ap(r,s),Ec(s,null,null,o),_c()),d=r.memoizedState,m=s.memoizedState,d.parent!==c?(d={parent:c,cache:c},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),zs(s,an,c)):(c=m.cache,zs(s,an,c),c!==d.cache&&_p(s,[an],o,!0))),In(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function os(r){r.flags|=4}function om(r,s,o,c,d){if((s=(r.mode&32)!==0)&&(s=!1),s){if(r.flags|=16777216,(d&335544128)===d)if(r.stateNode.complete)r.flags|=8192;else if(t_())r.flags|=8192;else throw Ya=Of,Sp}else r.flags&=-16777217}function Nb(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!H_(s))if(t_())r.flags|=8192;else throw Ya=Of,Sp}function Wf(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?vn():536870912,r.lanes|=s,Jo|=s)}function Cc(r,s){if(!st)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Dt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(s)for(var d=r.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=c,r.childLanes=o,s}function M2(r,s,o){var c=s.pendingProps;switch(mp(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(s),null;case 1:return Dt(s),null;case 3:return o=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),rs(an),Me(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Lo(s)?os(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,yp())),Dt(s),null;case 26:var d=s.type,m=s.memoizedState;return r===null?(os(s),m!==null?(Dt(s),Nb(s,m)):(Dt(s),om(s,d,null,c,o))):m?m!==r.memoizedState?(os(s),Dt(s),Nb(s,m)):(Dt(s),s.flags&=-16777217):(r=r.memoizedProps,r!==c&&os(s),Dt(s),om(s,d,r,c,o)),null;case 27:if(Ze(s),o=Se.current,d=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&os(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return Dt(s),null}r=me.current,Lo(s)?l0(s):(r=j_(d,c,o),s.stateNode=r,os(s))}return Dt(s),null;case 5:if(Ze(s),d=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&os(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return Dt(s),null}if(m=me.current,Lo(s))l0(s);else{var _=cd(Se.current);switch(m){case 1:m=_.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:m=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":m=_.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":m=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":m=_.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof c.is=="string"?_.createElement("select",{is:c.is}):_.createElement("select"),c.multiple?m.multiple=!0:c.size&&(m.size=c.size);break;default:m=typeof c.is=="string"?_.createElement(d,{is:c.is}):_.createElement(d)}}m[nn]=s,m[bn]=c;e:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)m.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break e;for(;_.sibling===null;){if(_.return===null||_.return===s)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=m;e:switch(On(m,d,c),d){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&os(s)}}return Dt(s),om(s,s.type,r===null?null:r.memoizedProps,s.pendingProps,o),null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&os(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(r=Se.current,Lo(s)){if(r=s.stateNode,o=s.memoizedProps,c=null,d=Rn,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}r[nn]=s,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||x_(r.nodeValue,o)),r||js(s,!0)}else r=cd(r).createTextNode(c),r[nn]=s,s.stateNode=r}return Dt(s),null;case 31:if(o=s.memoizedState,r===null||r.memoizedState!==null){if(c=Lo(s),o!==null){if(r===null){if(!c)throw Error(i(318));if(r=s.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[nn]=s}else Ba(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Dt(s),r=!1}else o=yp(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=o),r=!0;if(!r)return s.flags&256?(Er(s),s):(Er(s),null);if((s.flags&128)!==0)throw Error(i(558))}return Dt(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(d=Lo(s),c!==null&&c.dehydrated!==null){if(r===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[nn]=s}else Ba(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Dt(s),d=!1}else d=yp(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(Er(s),s):(Er(s),null)}return Er(s),(s.flags&128)!==0?(s.lanes=o,s):(o=c!==null,r=r!==null&&r.memoizedState!==null,o&&(c=s.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==d&&(c.flags|=2048)),o!==r&&o&&(s.child.flags|=8192),Wf(s,s.updateQueue),Dt(s),null);case 4:return Me(),r===null&&Nm(s.stateNode.containerInfo),Dt(s),null;case 10:return rs(s.type),Dt(s),null;case 19:if(J(Kt),c=s.memoizedState,c===null)return Dt(s),null;if(d=(s.flags&128)!==0,m=c.rendering,m===null)if(d)Cc(c,!1);else{if(qt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(m=Pf(r),m!==null){for(s.flags|=128,Cc(c,!1),r=m.updateQueue,s.updateQueue=r,Wf(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)r0(o,r),o=o.sibling;return fe(Kt,Kt.current&1|2),st&&ts(s,c.treeForkCount),s.child}r=r.sibling}c.tail!==null&&Zt()>Zf&&(s.flags|=128,d=!0,Cc(c,!1),s.lanes=4194304)}else{if(!d)if(r=Pf(m),r!==null){if(s.flags|=128,d=!0,r=r.updateQueue,s.updateQueue=r,Wf(s,r),Cc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!st)return Dt(s),null}else 2*Zt()-c.renderingStartTime>Zf&&o!==536870912&&(s.flags|=128,d=!0,Cc(c,!1),s.lanes=4194304);c.isBackwards?(m.sibling=s.child,s.child=m):(r=c.last,r!==null?r.sibling=m:s.child=m,c.last=m)}return c.tail!==null?(r=c.tail,c.rendering=r,c.tail=r.sibling,c.renderingStartTime=Zt(),r.sibling=null,o=Kt.current,fe(Kt,d?o&1|2:o&1),st&&ts(s,c.treeForkCount),r):(Dt(s),null);case 22:case 23:return Er(s),Ip(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(Dt(s),s.subtreeFlags&6&&(s.flags|=8192)):Dt(s),o=s.updateQueue,o!==null&&Wf(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),r!==null&&J(Ha),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),rs(an),Dt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function k2(r,s){switch(mp(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return rs(an),Me(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Ze(s),null;case 31:if(s.memoizedState!==null){if(Er(s),s.alternate===null)throw Error(i(340));Ba()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 13:if(Er(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Ba()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return J(Kt),null;case 4:return Me(),null;case 10:return rs(s.type),null;case 22:case 23:return Er(s),Ip(),r!==null&&J(Ha),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return rs(an),null;case 25:return null;default:return null}}function Ib(r,s){switch(mp(s),s.tag){case 3:rs(an),Me();break;case 26:case 27:case 5:Ze(s);break;case 4:Me();break;case 31:s.memoizedState!==null&&Er(s);break;case 13:Er(s);break;case 19:J(Kt);break;case 10:rs(s.type);break;case 22:case 23:Er(s),Ip(),r!==null&&J(Ha);break;case 24:rs(an)}}function Rc(r,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&r)===r){c=void 0;var m=o.create,_=o.inst;c=m(),_.destroy=c}o=o.next}while(o!==d)}}catch(x){bt(s,s.return,x)}}function qs(r,s,o){try{var c=s.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var m=d.next;c=m;do{if((c.tag&r)===r){var _=c.inst,x=_.destroy;if(x!==void 0){_.destroy=void 0,d=s;var z=o,Q=x;try{Q()}catch(ie){bt(d,z,ie)}}}c=c.next}while(c!==m)}}catch(ie){bt(s,s.return,ie)}}function Ob(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{E0(s,o)}catch(c){bt(r,r.return,c)}}}function Db(r,s,o){o.props=Qa(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){bt(r,s,c)}}function Nc(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof o=="function"?r.refCleanup=o(c):o.current=c}}catch(d){bt(r,s,d)}}function Ni(r,s){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(d){bt(r,s,d)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){bt(r,s,d)}else o.current=null}function Mb(r){var s=r.type,o=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(d){bt(r,r.return,d)}}function lm(r,s,o){try{var c=r.stateNode;nC(c,r.type,o,s),c[bn]=s}catch(d){bt(r,r.return,d)}}function kb(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&$s(r.type)||r.tag===4}function cm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||kb(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&$s(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function um(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Wr));else if(c!==4&&(c===27&&$s(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(um(r,s,o),r=r.sibling;r!==null;)um(r,s,o),r=r.sibling}function Qf(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(c!==4&&(c===27&&$s(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Qf(r,s,o),r=r.sibling;r!==null;)Qf(r,s,o),r=r.sibling}function Pb(r){var s=r.stateNode,o=r.memoizedProps;try{for(var c=r.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);On(s,c,o),s[nn]=r,s[bn]=o}catch(m){bt(r,r.return,m)}}var ls=!1,cn=!1,fm=!1,jb=typeof WeakSet=="function"?WeakSet:Set,En=null;function P2(r,s){if(r=r.containerInfo,Dm=gd,r=Wv(r),ip(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var _=0,x=-1,z=-1,Q=0,ie=0,oe=r,X=null;t:for(;;){for(var te;oe!==o||d!==0&&oe.nodeType!==3||(x=_+d),oe!==m||c!==0&&oe.nodeType!==3||(z=_+c),oe.nodeType===3&&(_+=oe.nodeValue.length),(te=oe.firstChild)!==null;)X=oe,oe=te;for(;;){if(oe===r)break t;if(X===o&&++Q===d&&(x=_),X===m&&++ie===c&&(z=_),(te=oe.nextSibling)!==null)break;oe=X,X=oe.parentNode}oe=te}o=x===-1||z===-1?null:{start:x,end:z}}else o=null}o=o||{start:0,end:0}}else o=null;for(Mm={focusedElem:r,selectionRange:o},gd=!1,En=s;En!==null;)if(s=En,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,En=r;else for(;En!==null;){switch(s=En,m=s.alternate,r=s.flags,s.tag){case 0:if((r&4)!==0&&(r=s.updateQueue,r=r!==null?r.events:null,r!==null))for(o=0;o<r.length;o++)d=r[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&m!==null){r=void 0,o=s,d=m.memoizedProps,m=m.memoizedState,c=o.stateNode;try{var we=Qa(o.type,d);r=c.getSnapshotBeforeUpdate(we,m),c.__reactInternalSnapshotBeforeUpdate=r}catch(De){bt(o,o.return,De)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)jm(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":jm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,En=r;break}En=s.return}}function zb(r,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:us(r,o),c&4&&Rc(5,o);break;case 1:if(us(r,o),c&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(_){bt(o,o.return,_)}else{var d=Qa(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(d,s,r.__reactInternalSnapshotBeforeUpdate)}catch(_){bt(o,o.return,_)}}c&64&&Ob(o),c&512&&Nc(o,o.return);break;case 3:if(us(r,o),c&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{E0(r,s)}catch(_){bt(o,o.return,_)}}break;case 27:s===null&&c&4&&Pb(o);case 26:case 5:us(r,o),s===null&&c&4&&Mb(o),c&512&&Nc(o,o.return);break;case 12:us(r,o);break;case 31:us(r,o),c&4&&Ub(r,o);break;case 13:us(r,o),c&4&&Bb(r,o),c&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=H2.bind(null,o),uC(r,o))));break;case 22:if(c=o.memoizedState!==null||ls,!c){s=s!==null&&s.memoizedState!==null||cn,d=ls;var m=cn;ls=c,(cn=s)&&!m?fs(r,o,(o.subtreeFlags&8772)!==0):us(r,o),ls=d,cn=m}break;case 30:break;default:us(r,o)}}function Vb(r){var s=r.alternate;s!==null&&(r.alternate=null,Vb(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&wo(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Vt=null,ir=!1;function cs(r,s,o){for(o=o.child;o!==null;)Lb(r,s,o),o=o.sibling}function Lb(r,s,o){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(ze,o)}catch{}switch(o.tag){case 26:cn||Ni(o,s),cs(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:cn||Ni(o,s);var c=Vt,d=ir;$s(o.type)&&(Vt=o.stateNode,ir=!1),cs(r,s,o),Vc(o.stateNode),Vt=c,ir=d;break;case 5:cn||Ni(o,s);case 6:if(c=Vt,d=ir,Vt=null,cs(r,s,o),Vt=c,ir=d,Vt!==null)if(ir)try{(Vt.nodeType===9?Vt.body:Vt.nodeName==="HTML"?Vt.ownerDocument.body:Vt).removeChild(o.stateNode)}catch(m){bt(o,s,m)}else try{Vt.removeChild(o.stateNode)}catch(m){bt(o,s,m)}break;case 18:Vt!==null&&(ir?(r=Vt,O_(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),al(r)):O_(Vt,o.stateNode));break;case 4:c=Vt,d=ir,Vt=o.stateNode.containerInfo,ir=!0,cs(r,s,o),Vt=c,ir=d;break;case 0:case 11:case 14:case 15:qs(2,o,s),cn||qs(4,o,s),cs(r,s,o);break;case 1:cn||(Ni(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Db(o,s,c)),cs(r,s,o);break;case 21:cs(r,s,o);break;case 22:cn=(c=cn)||o.memoizedState!==null,cs(r,s,o),cn=c;break;default:cs(r,s,o)}}function Ub(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{al(r)}catch(o){bt(s,s.return,o)}}}function Bb(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{al(r)}catch(o){bt(s,s.return,o)}}function j2(r){switch(r.tag){case 31:case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new jb),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new jb),s;default:throw Error(i(435,r.tag))}}function $f(r,s){var o=j2(r);s.forEach(function(c){if(!o.has(c)){o.add(c);var d=G2.bind(null,r,c);c.then(d,d)}})}function sr(r,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c],m=r,_=s,x=_;e:for(;x!==null;){switch(x.tag){case 27:if($s(x.type)){Vt=x.stateNode,ir=!1;break e}break;case 5:Vt=x.stateNode,ir=!1;break e;case 3:case 4:Vt=x.stateNode.containerInfo,ir=!0;break e}x=x.return}if(Vt===null)throw Error(i(160));Lb(m,_,d),Vt=null,ir=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Fb(s,r),s=s.sibling}var ei=null;function Fb(r,s){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:sr(s,r),ar(r),c&4&&(qs(3,r,r.return),Rc(3,r),qs(5,r,r.return));break;case 1:sr(s,r),ar(r),c&512&&(cn||o===null||Ni(o,o.return)),c&64&&ls&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var d=ei;if(sr(s,r),ar(r),c&512&&(cn||o===null||Ni(o,o.return)),c&4){var m=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){e:{c=r.type,o=r.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":m=d.getElementsByTagName("title")[0],(!m||m[mi]||m[nn]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(c),d.head.insertBefore(m,d.querySelector("head > title"))),On(m,c,o),m[nn]=r,rn(m),c=m;break e;case"link":var _=F_("link","href",d).get(c+(o.href||""));if(_){for(var x=0;x<_.length;x++)if(m=_[x],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(x,1);break t}}m=d.createElement(c),On(m,c,o),d.head.appendChild(m);break;case"meta":if(_=F_("meta","content",d).get(c+(o.content||""))){for(x=0;x<_.length;x++)if(m=_[x],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(x,1);break t}}m=d.createElement(c),On(m,c,o),d.head.appendChild(m);break;default:throw Error(i(468,c))}m[nn]=r,rn(m),c=m}r.stateNode=c}else q_(d,r.type,r.stateNode);else r.stateNode=B_(d,c,r.memoizedProps);else m!==c?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,c===null?q_(d,r.type,r.stateNode):B_(d,c,r.memoizedProps)):c===null&&r.stateNode!==null&&lm(r,r.memoizedProps,o.memoizedProps)}break;case 27:sr(s,r),ar(r),c&512&&(cn||o===null||Ni(o,o.return)),o!==null&&c&4&&lm(r,r.memoizedProps,o.memoizedProps);break;case 5:if(sr(s,r),ar(r),c&512&&(cn||o===null||Ni(o,o.return)),r.flags&32){d=r.stateNode;try{rr(d,"")}catch(we){bt(r,r.return,we)}}c&4&&r.stateNode!=null&&(d=r.memoizedProps,lm(r,d,o!==null?o.memoizedProps:d)),c&1024&&(fm=!0);break;case 6:if(sr(s,r),ar(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(we){bt(r,r.return,we)}}break;case 3:if(dd=null,d=ei,ei=ud(s.containerInfo),sr(s,r),ei=d,ar(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{al(s.containerInfo)}catch(we){bt(r,r.return,we)}fm&&(fm=!1,qb(r));break;case 4:c=ei,ei=ud(r.stateNode.containerInfo),sr(s,r),ar(r),ei=c;break;case 12:sr(s,r),ar(r);break;case 31:sr(s,r),ar(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,$f(r,c)));break;case 13:sr(s,r),ar(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Jf=Zt()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,$f(r,c)));break;case 22:d=r.memoizedState!==null;var z=o!==null&&o.memoizedState!==null,Q=ls,ie=cn;if(ls=Q||d,cn=ie||z,sr(s,r),cn=ie,ls=Q,ar(r),c&8192)e:for(s=r.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(o===null||z||ls||cn||$a(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){z=o=s;try{if(m=z.stateNode,d)_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{x=z.stateNode;var oe=z.memoizedProps.style,X=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;x.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(we){bt(z,z.return,we)}}}else if(s.tag===6){if(o===null){z=s;try{z.stateNode.nodeValue=d?"":z.memoizedProps}catch(we){bt(z,z.return,we)}}}else if(s.tag===18){if(o===null){z=s;try{var te=z.stateNode;d?D_(te,!0):D_(z.stateNode,!1)}catch(we){bt(z,z.return,we)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,$f(r,o))));break;case 19:sr(s,r),ar(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,$f(r,c)));break;case 30:break;case 21:break;default:sr(s,r),ar(r)}}function ar(r){var s=r.flags;if(s&2){try{for(var o,c=r.return;c!==null;){if(kb(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var d=o.stateNode,m=cm(r);Qf(r,m,d);break;case 5:var _=o.stateNode;o.flags&32&&(rr(_,""),o.flags&=-33);var x=cm(r);Qf(r,x,_);break;case 3:case 4:var z=o.stateNode.containerInfo,Q=cm(r);um(r,Q,z);break;default:throw Error(i(161))}}catch(ie){bt(r,r.return,ie)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function qb(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;qb(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function us(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)zb(r,s.alternate,s),s=s.sibling}function $a(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:qs(4,s,s.return),$a(s);break;case 1:Ni(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Db(s,s.return,o),$a(s);break;case 27:Vc(s.stateNode);case 26:case 5:Ni(s,s.return),$a(s);break;case 22:s.memoizedState===null&&$a(s);break;case 30:$a(s);break;default:$a(s)}r=r.sibling}}function fs(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,d=r,m=s,_=m.flags;switch(m.tag){case 0:case 11:case 15:fs(d,m,o),Rc(4,m);break;case 1:if(fs(d,m,o),c=m,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(Q){bt(c,c.return,Q)}if(c=m,d=c.updateQueue,d!==null){var x=c.stateNode;try{var z=d.shared.hiddenCallbacks;if(z!==null)for(d.shared.hiddenCallbacks=null,d=0;d<z.length;d++)_0(z[d],x)}catch(Q){bt(c,c.return,Q)}}o&&_&64&&Ob(m),Nc(m,m.return);break;case 27:Pb(m);case 26:case 5:fs(d,m,o),o&&c===null&&_&4&&Mb(m),Nc(m,m.return);break;case 12:fs(d,m,o);break;case 31:fs(d,m,o),o&&_&4&&Ub(d,m);break;case 13:fs(d,m,o),o&&_&4&&Bb(d,m);break;case 22:m.memoizedState===null&&fs(d,m,o),Nc(m,m.return);break;case 30:break;default:fs(d,m,o)}s=s.sibling}}function dm(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&mc(o))}function hm(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&mc(r))}function ti(r,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Hb(r,s,o,c),s=s.sibling}function Hb(r,s,o,c){var d=s.flags;switch(s.tag){case 0:case 11:case 15:ti(r,s,o,c),d&2048&&Rc(9,s);break;case 1:ti(r,s,o,c);break;case 3:ti(r,s,o,c),d&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&mc(r)));break;case 12:if(d&2048){ti(r,s,o,c),r=s.stateNode;try{var m=s.memoizedProps,_=m.id,x=m.onPostCommit;typeof x=="function"&&x(_,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(z){bt(s,s.return,z)}}else ti(r,s,o,c);break;case 31:ti(r,s,o,c);break;case 13:ti(r,s,o,c);break;case 23:break;case 22:m=s.stateNode,_=s.alternate,s.memoizedState!==null?m._visibility&2?ti(r,s,o,c):Ic(r,s):m._visibility&2?ti(r,s,o,c):(m._visibility|=2,Qo(r,s,o,c,(s.subtreeFlags&10256)!==0||!1)),d&2048&&dm(_,s);break;case 24:ti(r,s,o,c),d&2048&&hm(s.alternate,s);break;default:ti(r,s,o,c)}}function Qo(r,s,o,c,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=r,_=s,x=o,z=c,Q=_.flags;switch(_.tag){case 0:case 11:case 15:Qo(m,_,x,z,d),Rc(8,_);break;case 23:break;case 22:var ie=_.stateNode;_.memoizedState!==null?ie._visibility&2?Qo(m,_,x,z,d):Ic(m,_):(ie._visibility|=2,Qo(m,_,x,z,d)),d&&Q&2048&&dm(_.alternate,_);break;case 24:Qo(m,_,x,z,d),d&&Q&2048&&hm(_.alternate,_);break;default:Qo(m,_,x,z,d)}s=s.sibling}}function Ic(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,c=s,d=c.flags;switch(c.tag){case 22:Ic(o,c),d&2048&&dm(c.alternate,c);break;case 24:Ic(o,c),d&2048&&hm(c.alternate,c);break;default:Ic(o,c)}s=s.sibling}}var Oc=8192;function $o(r,s,o){if(r.subtreeFlags&Oc)for(r=r.child;r!==null;)Gb(r,s,o),r=r.sibling}function Gb(r,s,o){switch(r.tag){case 26:$o(r,s,o),r.flags&Oc&&r.memoizedState!==null&&wC(o,ei,r.memoizedState,r.memoizedProps);break;case 5:$o(r,s,o);break;case 3:case 4:var c=ei;ei=ud(r.stateNode.containerInfo),$o(r,s,o),ei=c;break;case 22:r.memoizedState===null&&(c=r.alternate,c!==null&&c.memoizedState!==null?(c=Oc,Oc=16777216,$o(r,s,o),Oc=c):$o(r,s,o));break;default:$o(r,s,o)}}function Yb(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Dc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];En=c,Wb(c,r)}Yb(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Kb(r),r=r.sibling}function Kb(r){switch(r.tag){case 0:case 11:case 15:Dc(r),r.flags&2048&&qs(9,r,r.return);break;case 3:Dc(r);break;case 12:Dc(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Xf(r)):Dc(r);break;default:Dc(r)}}function Xf(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];En=c,Wb(c,r)}Yb(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:qs(8,s,s.return),Xf(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Xf(s));break;default:Xf(s)}r=r.sibling}}function Wb(r,s){for(;En!==null;){var o=En;switch(o.tag){case 0:case 11:case 15:qs(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:mc(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,En=c;else e:for(o=r;En!==null;){c=En;var d=c.sibling,m=c.return;if(Vb(c),c===o){En=null;break e}if(d!==null){d.return=m,En=d;break e}En=m}}}var z2={getCacheForType:function(r){var s=Nn(an),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o},cacheSignal:function(){return Nn(an).controller.signal}},V2=typeof WeakMap=="function"?WeakMap:Map,dt=0,Ct=null,Xe=null,et=0,vt=0,wr=null,Hs=!1,Xo=!1,pm=!1,ds=0,qt=0,Gs=0,Xa=0,mm=0,Tr=0,Jo=0,Mc=null,or=null,gm=!1,Jf=0,Qb=0,Zf=1/0,ed=null,Ys=null,mn=0,Ks=null,Zo=null,hs=0,ym=0,vm=null,$b=null,kc=0,bm=null;function Sr(){return(dt&2)!==0&&et!==0?et&-et:q.T!==null?xm():mr()}function Xb(){if(Tr===0)if((et&536870912)===0||st){var r=$i;$i<<=1,($i&3932160)===0&&($i=262144),Tr=r}else Tr=536870912;return r=_r.current,r!==null&&(r.flags|=32),Tr}function lr(r,s,o){(r===Ct&&(vt===2||vt===9)||r.cancelPendingCommit!==null)&&(el(r,0),Ws(r,et,Tr,!1)),tr(r,o),((dt&2)===0||r!==Ct)&&(r===Ct&&((dt&2)===0&&(Xa|=o),qt===4&&Ws(r,et,Tr,!1)),Ii(r))}function Jb(r,s,o){if((dt&6)!==0)throw Error(i(327));var c=!o&&(s&127)===0&&(s&r.expiredLanes)===0||tn(r,s),d=c?B2(r,s):Em(r,s,!0),m=c;do{if(d===0){Xo&&!c&&Ws(r,s,0,!1);break}else{if(o=r.current.alternate,m&&!L2(o)){d=Em(r,s,!1),m=!1;continue}if(d===2){if(m=s,r.errorRecoveryDisabledLanes&m)var _=0;else _=r.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;e:{var x=r;d=Mc;var z=x.current.memoizedState.isDehydrated;if(z&&(el(x,_).flags|=256),_=Em(x,_,!1),_!==2){if(pm&&!z){x.errorRecoveryDisabledLanes|=m,Xa|=m,d=4;break e}m=or,or=d,m!==null&&(or===null?or=m:or.push.apply(or,m))}d=_}if(m=!1,d!==2)continue}}if(d===1){el(r,0),Ws(r,s,0,!0);break}e:{switch(c=r,m=d,m){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Ws(c,s,Tr,!Hs);break e;case 2:or=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=Jf+300-Zt(),10<d)){if(Ws(c,s,Tr,!Hs),jt(c,0,!0)!==0)break e;hs=s,c.timeoutHandle=N_(Zb.bind(null,c,o,or,ed,gm,s,Tr,Xa,Jo,Hs,m,"Throttled",-0,0),d);break e}Zb(c,o,or,ed,gm,s,Tr,Xa,Jo,Hs,m,null,-0,0)}}break}while(!0);Ii(r)}function Zb(r,s,o,c,d,m,_,x,z,Q,ie,oe,X,te){if(r.timeoutHandle=-1,oe=s.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wr},Gb(s,m,oe);var we=(m&62914560)===m?Jf-Zt():(m&4194048)===m?Qb-Zt():0;if(we=TC(oe,we),we!==null){hs=m,r.cancelPendingCommit=we(o_.bind(null,r,s,m,o,c,d,_,x,z,ie,oe,null,X,te)),Ws(r,m,_,!Q);return}}o_(r,s,m,o,c,d,_,x,z)}function L2(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var d=o[c],m=d.getSnapshot;d=d.value;try{if(!vr(m(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ws(r,s,o,c){s&=~mm,s&=~Xa,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var d=s;0<d;){var m=31-gt(d),_=1<<m;c[m]=-1,d&=~_}o!==0&&jn(r,o,s)}function td(){return(dt&6)===0?(Pc(0),!1):!0}function _m(){if(Xe!==null){if(vt===0)var r=Xe.return;else r=Xe,ns=Fa=null,jp(r),Ho=null,yc=0,r=Xe;for(;r!==null;)Ib(r.alternate,r),r=r.return;Xe=null}}function el(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,sC(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),hs=0,_m(),Ct=r,Xe=o=es(r.current,null),et=s,vt=0,wr=null,Hs=!1,Xo=tn(r,s),pm=!1,Jo=Tr=mm=Xa=Gs=qt=0,or=Mc=null,gm=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var d=31-gt(c),m=1<<d;s|=r[d],c&=~m}return ds=s,wf(),o}function e_(r,s){qe=null,q.H=xc,s===qo||s===If?(s=g0(),vt=3):s===Sp?(s=g0(),vt=4):vt=s===Jp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,wr=s,Xe===null&&(qt=1,Hf(r,kr(s,r.current)))}function t_(){var r=_r.current;return r===null?!0:(et&4194048)===et?Vr===null:(et&62914560)===et||(et&536870912)!==0?r===Vr:!1}function n_(){var r=q.H;return q.H=xc,r===null?xc:r}function r_(){var r=q.A;return q.A=z2,r}function nd(){qt=4,Hs||(et&4194048)!==et&&_r.current!==null||(Xo=!0),(Gs&134217727)===0&&(Xa&134217727)===0||Ct===null||Ws(Ct,et,Tr,!1)}function Em(r,s,o){var c=dt;dt|=2;var d=n_(),m=r_();(Ct!==r||et!==s)&&(ed=null,el(r,s)),s=!1;var _=qt;e:do try{if(vt!==0&&Xe!==null){var x=Xe,z=wr;switch(vt){case 8:_m(),_=6;break e;case 3:case 2:case 9:case 6:_r.current===null&&(s=!0);var Q=vt;if(vt=0,wr=null,tl(r,x,z,Q),o&&Xo){_=0;break e}break;default:Q=vt,vt=0,wr=null,tl(r,x,z,Q)}}U2(),_=qt;break}catch(ie){e_(r,ie)}while(!0);return s&&r.shellSuspendCounter++,ns=Fa=null,dt=c,q.H=d,q.A=m,Xe===null&&(Ct=null,et=0,wf()),_}function U2(){for(;Xe!==null;)i_(Xe)}function B2(r,s){var o=dt;dt|=2;var c=n_(),d=r_();Ct!==r||et!==s?(ed=null,Zf=Zt()+500,el(r,s)):Xo=tn(r,s);e:do try{if(vt!==0&&Xe!==null){s=Xe;var m=wr;t:switch(vt){case 1:vt=0,wr=null,tl(r,s,m,1);break;case 2:case 9:if(p0(m)){vt=0,wr=null,s_(s);break}s=function(){vt!==2&&vt!==9||Ct!==r||(vt=7),Ii(r)},m.then(s,s);break e;case 3:vt=7;break e;case 4:vt=5;break e;case 7:p0(m)?(vt=0,wr=null,s_(s)):(vt=0,wr=null,tl(r,s,m,7));break;case 5:var _=null;switch(Xe.tag){case 26:_=Xe.memoizedState;case 5:case 27:var x=Xe;if(_?H_(_):x.stateNode.complete){vt=0,wr=null;var z=x.sibling;if(z!==null)Xe=z;else{var Q=x.return;Q!==null?(Xe=Q,rd(Q)):Xe=null}break t}}vt=0,wr=null,tl(r,s,m,5);break;case 6:vt=0,wr=null,tl(r,s,m,6);break;case 8:_m(),qt=6;break e;default:throw Error(i(462))}}F2();break}catch(ie){e_(r,ie)}while(!0);return ns=Fa=null,q.H=c,q.A=d,dt=o,Xe!==null?0:(Ct=null,et=0,wf(),qt)}function F2(){for(;Xe!==null&&!Kr();)i_(Xe)}function i_(r){var s=Rb(r.alternate,r,ds);r.memoizedProps=r.pendingProps,s===null?rd(r):Xe=s}function s_(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=wb(o,s,s.pendingProps,s.type,void 0,et);break;case 11:s=wb(o,s,s.pendingProps,s.type.render,s.ref,et);break;case 5:jp(s);default:Ib(o,s),s=Xe=r0(s,ds),s=Rb(o,s,ds)}r.memoizedProps=r.pendingProps,s===null?rd(r):Xe=s}function tl(r,s,o,c){ns=Fa=null,jp(s),Ho=null,yc=0;var d=s.return;try{if(I2(r,d,s,o,et)){qt=1,Hf(r,kr(o,r.current)),Xe=null;return}}catch(m){if(d!==null)throw Xe=d,m;qt=1,Hf(r,kr(o,r.current)),Xe=null;return}s.flags&32768?(st||c===1?r=!0:Xo||(et&536870912)!==0?r=!1:(Hs=r=!0,(c===2||c===9||c===3||c===6)&&(c=_r.current,c!==null&&c.tag===13&&(c.flags|=16384))),a_(s,r)):rd(s)}function rd(r){var s=r;do{if((s.flags&32768)!==0){a_(s,Hs);return}r=s.return;var o=M2(s.alternate,s,ds);if(o!==null){Xe=o;return}if(s=s.sibling,s!==null){Xe=s;return}Xe=s=r}while(s!==null);qt===0&&(qt=5)}function a_(r,s){do{var o=k2(r.alternate,r);if(o!==null){o.flags&=32767,Xe=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Xe=r;return}Xe=r=o}while(r!==null);qt=6,Xe=null}function o_(r,s,o,c,d,m,_,x,z){r.cancelPendingCommit=null;do id();while(mn!==0);if((dt&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(m=s.lanes|s.childLanes,m|=cp,Gt(r,o,m,_,x,z),r===Ct&&(Xe=Ct=null,et=0),Zo=s,Ks=r,hs=o,ym=m,vm=d,$b=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Y2(pn,function(){return d_(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=q.T,q.T=null,d=re.p,re.p=2,_=dt,dt|=4;try{P2(r,s,o)}finally{dt=_,re.p=d,q.T=c}}mn=1,l_(),c_(),u_()}}function l_(){if(mn===1){mn=0;var r=Ks,s=Zo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=q.T,q.T=null;var c=re.p;re.p=2;var d=dt;dt|=4;try{Fb(s,r);var m=Mm,_=Wv(r.containerInfo),x=m.focusedElem,z=m.selectionRange;if(_!==x&&x&&x.ownerDocument&&Kv(x.ownerDocument.documentElement,x)){if(z!==null&&ip(x)){var Q=z.start,ie=z.end;if(ie===void 0&&(ie=Q),"selectionStart"in x)x.selectionStart=Q,x.selectionEnd=Math.min(ie,x.value.length);else{var oe=x.ownerDocument||document,X=oe&&oe.defaultView||window;if(X.getSelection){var te=X.getSelection(),we=x.textContent.length,De=Math.min(z.start,we),St=z.end===void 0?De:Math.min(z.end,we);!te.extend&&De>St&&(_=St,St=De,De=_);var H=Yv(x,De),F=Yv(x,St);if(H&&F&&(te.rangeCount!==1||te.anchorNode!==H.node||te.anchorOffset!==H.offset||te.focusNode!==F.node||te.focusOffset!==F.offset)){var W=oe.createRange();W.setStart(H.node,H.offset),te.removeAllRanges(),De>St?(te.addRange(W),te.extend(F.node,F.offset)):(W.setEnd(F.node,F.offset),te.addRange(W))}}}}for(oe=[],te=x;te=te.parentNode;)te.nodeType===1&&oe.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<oe.length;x++){var ae=oe[x];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}gd=!!Dm,Mm=Dm=null}finally{dt=d,re.p=c,q.T=o}}r.current=s,mn=2}}function c_(){if(mn===2){mn=0;var r=Ks,s=Zo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=q.T,q.T=null;var c=re.p;re.p=2;var d=dt;dt|=4;try{zb(r,s.alternate,s)}finally{dt=d,re.p=c,q.T=o}}mn=3}}function u_(){if(mn===4||mn===3){mn=0,fi();var r=Ks,s=Zo,o=hs,c=$b;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?mn=5:(mn=0,Zo=Ks=null,f_(r,r.pendingLanes));var d=r.pendingLanes;if(d===0&&(Ys=null),Wn(o),s=s.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(ze,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=q.T,d=re.p,re.p=2,q.T=null;try{for(var m=r.onRecoverableError,_=0;_<c.length;_++){var x=c[_];m(x.value,{componentStack:x.stack})}}finally{q.T=s,re.p=d}}(hs&3)!==0&&id(),Ii(r),d=r.pendingLanes,(o&261930)!==0&&(d&42)!==0?r===bm?kc++:(kc=0,bm=r):kc=0,Pc(0)}}function f_(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,mc(s)))}function id(){return l_(),c_(),u_(),d_()}function d_(){if(mn!==5)return!1;var r=Ks,s=ym;ym=0;var o=Wn(hs),c=q.T,d=re.p;try{re.p=32>o?32:o,q.T=null,o=vm,vm=null;var m=Ks,_=hs;if(mn=0,Zo=Ks=null,hs=0,(dt&6)!==0)throw Error(i(331));var x=dt;if(dt|=4,Kb(m.current),Hb(m,m.current,_,o),dt=x,Pc(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(ze,m)}catch{}return!0}finally{re.p=d,q.T=c,f_(r,s)}}function h_(r,s,o){s=kr(o,s),s=Xp(r.stateNode,s,2),r=Us(r,s,2),r!==null&&(tr(r,2),Ii(r))}function bt(r,s,o){if(r.tag===3)h_(r,r,o);else for(;s!==null;){if(s.tag===3){h_(s,r,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ys===null||!Ys.has(c))){r=kr(o,r),o=pb(2),c=Us(s,o,2),c!==null&&(mb(o,c,s,r),tr(c,2),Ii(c));break}}s=s.return}}function wm(r,s,o){var c=r.pingCache;if(c===null){c=r.pingCache=new V2;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(o)||(pm=!0,d.add(o),r=q2.bind(null,r,s,o),s.then(r,r))}function q2(r,s,o){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Ct===r&&(et&o)===o&&(qt===4||qt===3&&(et&62914560)===et&&300>Zt()-Jf?(dt&2)===0&&el(r,0):mm|=o,Jo===et&&(Jo=0)),Ii(r)}function p_(r,s){s===0&&(s=vn()),r=La(r,s),r!==null&&(tr(r,s),Ii(r))}function H2(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),p_(r,o)}function G2(r,s){var o=0;switch(r.tag){case 31:case 13:var c=r.stateNode,d=r.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),p_(r,o)}function Y2(r,s){return ht(r,s)}var sd=null,nl=null,Tm=!1,ad=!1,Sm=!1,Qs=0;function Ii(r){r!==nl&&r.next===null&&(nl===null?sd=nl=r:nl=nl.next=r),ad=!0,Tm||(Tm=!0,W2())}function Pc(r,s){if(!Sm&&ad){Sm=!0;do for(var o=!1,c=sd;c!==null;){if(r!==0){var d=c.pendingLanes;if(d===0)var m=0;else{var _=c.suspendedLanes,x=c.pingedLanes;m=(1<<31-gt(42|r)+1)-1,m&=d&~(_&~x),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,v_(c,m))}else m=et,m=jt(c,c===Ct?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||tn(c,m)||(o=!0,v_(c,m));c=c.next}while(o);Sm=!1}}function K2(){m_()}function m_(){ad=Tm=!1;var r=0;Qs!==0&&iC()&&(r=Qs);for(var s=Zt(),o=null,c=sd;c!==null;){var d=c.next,m=g_(c,s);m===0?(c.next=null,o===null?sd=d:o.next=d,d===null&&(nl=o)):(o=c,(r!==0||(m&3)!==0)&&(ad=!0)),c=d}mn!==0&&mn!==5||Pc(r),Qs!==0&&(Qs=0)}function g_(r,s){for(var o=r.suspendedLanes,c=r.pingedLanes,d=r.expirationTimes,m=r.pendingLanes&-62914561;0<m;){var _=31-gt(m),x=1<<_,z=d[_];z===-1?((x&o)===0||(x&c)!==0)&&(d[_]=Pn(x,s)):z<=s&&(r.expiredLanes|=x),m&=~x}if(s=Ct,o=et,o=jt(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,o===0||r===s&&(vt===2||vt===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&Gn(c),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||tn(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(c!==null&&Gn(c),Wn(o)){case 2:case 8:o=hn;break;case 32:o=pn;break;case 268435456:o=hi;break;default:o=pn}return c=y_.bind(null,r),o=ht(o,c),r.callbackPriority=s,r.callbackNode=o,s}return c!==null&&c!==null&&Gn(c),r.callbackPriority=2,r.callbackNode=null,2}function y_(r,s){if(mn!==0&&mn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(id()&&r.callbackNode!==o)return null;var c=et;return c=jt(r,r===Ct?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(Jb(r,c,s),g_(r,Zt()),r.callbackNode!=null&&r.callbackNode===o?y_.bind(null,r):null)}function v_(r,s){if(id())return null;Jb(r,s,!0)}function W2(){aC(function(){(dt&6)!==0?ht(di,K2):m_()})}function xm(){if(Qs===0){var r=Bo;r===0&&(r=Rr,Rr<<=1,(Rr&261888)===0&&(Rr=256)),Qs=r}return Qs}function b_(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Ao(""+r)}function __(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function Q2(r,s,o,c,d){if(s==="submit"&&o&&o.stateNode===d){var m=b_((d[bn]||null).action),_=c.submitter;_&&(s=(s=_[bn]||null)?b_(s.formAction):_.getAttribute("formAction"),s!==null&&(m=s,_=null));var x=new Ti("action","action",null,c,d);r.push({event:x,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Qs!==0){var z=_?__(d,_):new FormData(d);Gp(o,{pending:!0,data:z,method:d.method,action:m},null,z)}}else typeof m=="function"&&(x.preventDefault(),z=_?__(d,_):new FormData(d),Gp(o,{pending:!0,data:z,method:d.method,action:m},m,z))},currentTarget:d}]})}}for(var Am=0;Am<lp.length;Am++){var Cm=lp[Am],$2=Cm.toLowerCase(),X2=Cm[0].toUpperCase()+Cm.slice(1);Zr($2,"on"+X2)}Zr(Xv,"onAnimationEnd"),Zr(Jv,"onAnimationIteration"),Zr(Zv,"onAnimationStart"),Zr("dblclick","onDoubleClick"),Zr("focusin","onFocus"),Zr("focusout","onBlur"),Zr(h2,"onTransitionRun"),Zr(p2,"onTransitionStart"),Zr(m2,"onTransitionCancel"),Zr(e0,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jc));function E_(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],d=c.event;c=c.listeners;e:{var m=void 0;if(s)for(var _=c.length-1;0<=_;_--){var x=c[_],z=x.instance,Q=x.currentTarget;if(x=x.listener,z!==m&&d.isPropagationStopped())break e;m=x,d.currentTarget=Q;try{m(d)}catch(ie){Ef(ie)}d.currentTarget=null,m=z}else for(_=0;_<c.length;_++){if(x=c[_],z=x.instance,Q=x.currentTarget,x=x.listener,z!==m&&d.isPropagationStopped())break e;m=x,d.currentTarget=Q;try{m(d)}catch(ie){Ef(ie)}d.currentTarget=null,m=z}}}}function Je(r,s){var o=s[Eo];o===void 0&&(o=s[Eo]=new Set);var c=r+"__bubble";o.has(c)||(w_(s,r,2,!1),o.add(c))}function Rm(r,s,o){var c=0;s&&(c|=4),w_(o,r,c,s)}var od="_reactListening"+Math.random().toString(36).slice(2);function Nm(r){if(!r[od]){r[od]=!0,Wl.forEach(function(o){o!=="selectionchange"&&(J2.has(o)||Rm(o,!1,r),Rm(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[od]||(s[od]=!0,Rm("selectionchange",!1,s))}}function w_(r,s,o,c){switch(X_(s)){case 2:var d=AC;break;case 8:d=CC;break;default:d=Hm}o=d.bind(null,s,o,r),d=void 0,!Oa||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?r.addEventListener(s,o,{capture:!0,passive:d}):r.addEventListener(s,o,!0):d!==void 0?r.addEventListener(s,o,{passive:d}):r.addEventListener(s,o,!1)}function Im(r,s,o,c,d){var m=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var x=c.stateNode.containerInfo;if(x===d)break;if(_===4)for(_=c.return;_!==null;){var z=_.tag;if((z===3||z===4)&&_.stateNode.containerInfo===d)return;_=_.return}for(;x!==null;){if(_=gi(x),_===null)return;if(z=_.tag,z===5||z===6||z===26||z===27){c=m=_;continue e}x=x.parentNode}}c=c.return}Is(function(){var Q=m,ie=Ir(o),oe=[];e:{var X=t0.get(r);if(X!==void 0){var te=Ti,we=r;switch(r){case"keypress":if(Ma(o)===0)break e;case"keydown":case"keyup":te=vf;break;case"focusin":we="focus",te=Pa;break;case"focusout":we="blur",te=Pa;break;case"beforeblur":case"afterblur":te=Pa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=oc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=cf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=b;break;case Xv:case Jv:case Zv:te=ff;break;case e0:te=C;break;case"scroll":case"scrollend":te=ac;break;case"wheel":te=ee;break;case"copy":case"cut":case"paste":te=df;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Zi;break;case"toggle":case"beforetoggle":te=Fe}var De=(s&4)!==0,St=!De&&(r==="scroll"||r==="scrollend"),H=De?X!==null?X+"Capture":null:X;De=[];for(var F=Q,W;F!==null;){var ae=F;if(W=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||W===null||H===null||(ae=Qr(F,H),ae!=null&&De.push(zc(F,ae,W))),St)break;F=F.return}0<De.length&&(X=new te(X,we,null,o,ie),oe.push({event:X,listeners:De}))}}if((s&7)===0){e:{if(X=r==="mouseover"||r==="pointerover",te=r==="mouseout"||r==="pointerout",X&&o!==rc&&(we=o.relatedTarget||o.fromElement)&&(gi(we)||we[pi]))break e;if((te||X)&&(X=ie.window===ie?ie:(X=ie.ownerDocument)?X.defaultView||X.parentWindow:window,te?(we=o.relatedTarget||o.toElement,te=Q,we=we?gi(we):null,we!==null&&(St=l(we),De=we.tag,we!==St||De!==5&&De!==27&&De!==6)&&(we=null)):(te=null,we=Q),te!==we)){if(De=oc,ae="onMouseLeave",H="onMouseEnter",F="mouse",(r==="pointerout"||r==="pointerover")&&(De=Zi,ae="onPointerLeave",H="onPointerEnter",F="pointer"),St=te==null?X:gr(te),W=we==null?X:gr(we),X=new De(ae,F+"leave",te,o,ie),X.target=St,X.relatedTarget=W,ae=null,gi(ie)===Q&&(De=new De(H,F+"enter",we,o,ie),De.target=W,De.relatedTarget=St,ae=De),St=ae,te&&we)t:{for(De=Z2,H=te,F=we,W=0,ae=H;ae;ae=De(ae))W++;ae=0;for(var Ie=F;Ie;Ie=De(Ie))ae++;for(;0<W-ae;)H=De(H),W--;for(;0<ae-W;)F=De(F),ae--;for(;W--;){if(H===F||F!==null&&H===F.alternate){De=H;break t}H=De(H),F=De(F)}De=null}else De=null;te!==null&&T_(oe,X,te,De,!1),we!==null&&St!==null&&T_(oe,St,we,De,!0)}}e:{if(X=Q?gr(Q):window,te=X.nodeName&&X.nodeName.toLowerCase(),te==="select"||te==="input"&&X.type==="file")var ct=Uv;else if(Vv(X))if(Bv)ct=u2;else{ct=l2;var Ae=o2}else te=X.nodeName,!te||te.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Q&&xo(Q.elementType)&&(ct=Uv):ct=c2;if(ct&&(ct=ct(r,Q))){Lv(oe,ct,o,ie);break e}Ae&&Ae(r,X,Q),r==="focusout"&&Q&&X.type==="number"&&Q.memoizedProps.value!=null&&ec(X,"number",X.value)}switch(Ae=Q?gr(Q):window,r){case"focusin":(Vv(Ae)||Ae.contentEditable==="true")&&(Mo=Ae,sp=Q,dc=null);break;case"focusout":dc=sp=Mo=null;break;case"mousedown":ap=!0;break;case"contextmenu":case"mouseup":case"dragend":ap=!1,Qv(oe,o,ie);break;case"selectionchange":if(d2)break;case"keydown":case"keyup":Qv(oe,o,ie)}var He;if(ft)e:{switch(r){case"compositionstart":var tt="onCompositionStart";break e;case"compositionend":tt="onCompositionEnd";break e;case"compositionupdate":tt="onCompositionUpdate";break e}tt=void 0}else Do?ja(r,o)&&(tt="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(tt="onCompositionStart");tt&&(Ai&&o.locale!=="ko"&&(Do||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&Do&&(He=sc()):(wi=ie,ic="value"in wi?wi.value:wi.textContent,Do=!0)),Ae=ld(Q,tt),0<Ae.length&&(tt=new xi(tt,r,null,o,ie),oe.push({event:tt,listeners:Ae}),He?tt.data=He:(He=Oo(o),He!==null&&(tt.data=He)))),(He=Dr?r2(r,o):i2(r,o))&&(tt=ld(Q,"onBeforeInput"),0<tt.length&&(Ae=new xi("onBeforeInput","beforeinput",null,o,ie),oe.push({event:Ae,listeners:tt}),Ae.data=He)),Q2(oe,r,Q,o,ie)}E_(oe,s)})}function zc(r,s,o){return{instance:r,listener:s,currentTarget:o}}function ld(r,s){for(var o=s+"Capture",c=[];r!==null;){var d=r,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=Qr(r,o),d!=null&&c.unshift(zc(r,d,m)),d=Qr(r,s),d!=null&&c.push(zc(r,d,m))),r.tag===3)return c;r=r.return}return[]}function Z2(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function T_(r,s,o,c,d){for(var m=s._reactName,_=[];o!==null&&o!==c;){var x=o,z=x.alternate,Q=x.stateNode;if(x=x.tag,z!==null&&z===c)break;x!==5&&x!==26&&x!==27||Q===null||(z=Q,d?(Q=Qr(o,m),Q!=null&&_.unshift(zc(o,Q,z))):d||(Q=Qr(o,m),Q!=null&&_.push(zc(o,Q,z)))),o=o.return}_.length!==0&&r.push({event:s,listeners:_})}var eC=/\r\n?/g,tC=/\u0000|\uFFFD/g;function S_(r){return(typeof r=="string"?r:""+r).replace(eC,`
`).replace(tC,"")}function x_(r,s){return s=S_(s),S_(r)===s}function Tt(r,s,o,c,d,m){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||rr(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&rr(r,""+c);break;case"className":yr(r,"class",c);break;case"tabIndex":yr(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":yr(r,o,c);break;case"style":nc(r,c,m);break;case"data":if(s!=="object"){yr(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=Ao(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(s!=="input"&&Tt(r,s,"name",d.name,d,null),Tt(r,s,"formEncType",d.formEncType,d,null),Tt(r,s,"formMethod",d.formMethod,d,null),Tt(r,s,"formTarget",d.formTarget,d,null)):(Tt(r,s,"encType",d.encType,d,null),Tt(r,s,"method",d.method,d,null),Tt(r,s,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=Ao(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=Wr);break;case"onScroll":c!=null&&Je("scroll",r);break;case"onScrollEnd":c!=null&&Je("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=Ao(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":Je("beforetoggle",r),Je("toggle",r),To(r,"popover",c);break;case"xlinkActuate":sn(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":sn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":sn(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":sn(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":sn(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":sn(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":sn(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":sn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":sn(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":To(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=lf.get(o)||o,To(r,o,c))}}function Om(r,s,o,c,d,m){switch(o){case"style":nc(r,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof c=="string"?rr(r,c):(typeof c=="number"||typeof c=="bigint")&&rr(r,""+c);break;case"onScroll":c!=null&&Je("scroll",r);break;case"onScrollEnd":c!=null&&Je("scrollend",r);break;case"onClick":c!=null&&(r.onclick=Wr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ql.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),m=r[bn]||null,m=m!=null?m[o]:null,typeof m=="function"&&r.removeEventListener(s,m,d),typeof c=="function")){typeof m!="function"&&m!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,c,d);break e}o in r?r[o]=c:c===!0?r.setAttribute(o,""):To(r,o,c)}}}function On(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",r),Je("load",r);var c=!1,d=!1,m;for(m in o)if(o.hasOwnProperty(m)){var _=o[m];if(_!=null)switch(m){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Tt(r,s,m,_,o,null)}}d&&Tt(r,s,"srcSet",o.srcSet,o,null),c&&Tt(r,s,"src",o.src,o,null);return;case"input":Je("invalid",r);var x=m=_=d=null,z=null,Q=null;for(c in o)if(o.hasOwnProperty(c)){var ie=o[c];if(ie!=null)switch(c){case"name":d=ie;break;case"type":_=ie;break;case"checked":z=ie;break;case"defaultChecked":Q=ie;break;case"value":m=ie;break;case"defaultValue":x=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,s));break;default:Tt(r,s,c,ie,o,null)}}sf(r,m,x,z,Q,_,d,!1);return;case"select":Je("invalid",r),c=_=m=null;for(d in o)if(o.hasOwnProperty(d)&&(x=o[d],x!=null))switch(d){case"value":m=x;break;case"defaultValue":_=x;break;case"multiple":c=x;default:Tt(r,s,d,x,o,null)}s=m,o=_,r.multiple=!!c,s!=null?As(r,!!c,s,!1):o!=null&&As(r,!!c,o,!0);return;case"textarea":Je("invalid",r),m=d=c=null;for(_ in o)if(o.hasOwnProperty(_)&&(x=o[_],x!=null))switch(_){case"value":c=x;break;case"defaultValue":d=x;break;case"children":m=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(i(91));break;default:Tt(r,s,_,x,o,null)}Cs(r,c,d,m);return;case"option":for(z in o)o.hasOwnProperty(z)&&(c=o[z],c!=null)&&(z==="selected"?r.selected=c&&typeof c!="function"&&typeof c!="symbol":Tt(r,s,z,c,o,null));return;case"dialog":Je("beforetoggle",r),Je("toggle",r),Je("cancel",r),Je("close",r);break;case"iframe":case"object":Je("load",r);break;case"video":case"audio":for(c=0;c<jc.length;c++)Je(jc[c],r);break;case"image":Je("error",r),Je("load",r);break;case"details":Je("toggle",r);break;case"embed":case"source":case"link":Je("error",r),Je("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(c=o[Q],c!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Tt(r,s,Q,c,o,null)}return;default:if(xo(s)){for(ie in o)o.hasOwnProperty(ie)&&(c=o[ie],c!==void 0&&Om(r,s,ie,c,o,void 0));return}}for(x in o)o.hasOwnProperty(x)&&(c=o[x],c!=null&&Tt(r,s,x,c,o,null))}function nC(r,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,_=null,x=null,z=null,Q=null,ie=null;for(te in o){var oe=o[te];if(o.hasOwnProperty(te)&&oe!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":z=oe;default:c.hasOwnProperty(te)||Tt(r,s,te,null,c,oe)}}for(var X in c){var te=c[X];if(oe=o[X],c.hasOwnProperty(X)&&(te!=null||oe!=null))switch(X){case"type":m=te;break;case"name":d=te;break;case"checked":Q=te;break;case"defaultChecked":ie=te;break;case"value":_=te;break;case"defaultValue":x=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,s));break;default:te!==oe&&Tt(r,s,X,te,c,oe)}}So(r,_,x,z,Q,ie,m,d);return;case"select":te=_=x=X=null;for(m in o)if(z=o[m],o.hasOwnProperty(m)&&z!=null)switch(m){case"value":break;case"multiple":te=z;default:c.hasOwnProperty(m)||Tt(r,s,m,null,c,z)}for(d in c)if(m=c[d],z=o[d],c.hasOwnProperty(d)&&(m!=null||z!=null))switch(d){case"value":X=m;break;case"defaultValue":x=m;break;case"multiple":_=m;default:m!==z&&Tt(r,s,d,m,c,z)}s=x,o=_,c=te,X!=null?As(r,!!o,X,!1):!!c!=!!o&&(s!=null?As(r,!!o,s,!0):As(r,!!o,o?[]:"",!1));return;case"textarea":te=X=null;for(x in o)if(d=o[x],o.hasOwnProperty(x)&&d!=null&&!c.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Tt(r,s,x,null,c,d)}for(_ in c)if(d=c[_],m=o[_],c.hasOwnProperty(_)&&(d!=null||m!=null))switch(_){case"value":X=d;break;case"defaultValue":te=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==m&&Tt(r,s,_,d,c,m)}af(r,X,te);return;case"option":for(var we in o)X=o[we],o.hasOwnProperty(we)&&X!=null&&!c.hasOwnProperty(we)&&(we==="selected"?r.selected=!1:Tt(r,s,we,null,c,X));for(z in c)X=c[z],te=o[z],c.hasOwnProperty(z)&&X!==te&&(X!=null||te!=null)&&(z==="selected"?r.selected=X&&typeof X!="function"&&typeof X!="symbol":Tt(r,s,z,X,c,te));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in o)X=o[De],o.hasOwnProperty(De)&&X!=null&&!c.hasOwnProperty(De)&&Tt(r,s,De,null,c,X);for(Q in c)if(X=c[Q],te=o[Q],c.hasOwnProperty(Q)&&X!==te&&(X!=null||te!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:Tt(r,s,Q,X,c,te)}return;default:if(xo(s)){for(var St in o)X=o[St],o.hasOwnProperty(St)&&X!==void 0&&!c.hasOwnProperty(St)&&Om(r,s,St,void 0,c,X);for(ie in c)X=c[ie],te=o[ie],!c.hasOwnProperty(ie)||X===te||X===void 0&&te===void 0||Om(r,s,ie,X,c,te);return}}for(var H in o)X=o[H],o.hasOwnProperty(H)&&X!=null&&!c.hasOwnProperty(H)&&Tt(r,s,H,null,c,X);for(oe in c)X=c[oe],te=o[oe],!c.hasOwnProperty(oe)||X===te||X==null&&te==null||Tt(r,s,oe,X,c,te)}function A_(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function rC(){if(typeof performance.getEntriesByType=="function"){for(var r=0,s=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var d=o[c],m=d.transferSize,_=d.initiatorType,x=d.duration;if(m&&x&&A_(_)){for(_=0,x=d.responseEnd,c+=1;c<o.length;c++){var z=o[c],Q=z.startTime;if(Q>x)break;var ie=z.transferSize,oe=z.initiatorType;ie&&A_(oe)&&(z=z.responseEnd,_+=ie*(z<x?1:(x-Q)/(z-Q)))}if(--c,s+=8*(m+_)/(d.duration/1e3),r++,10<r)break}}if(0<r)return s/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Dm=null,Mm=null;function cd(r){return r.nodeType===9?r:r.ownerDocument}function C_(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function R_(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function km(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Pm=null;function iC(){var r=window.event;return r&&r.type==="popstate"?r===Pm?!1:(Pm=r,!0):(Pm=null,!1)}var N_=typeof setTimeout=="function"?setTimeout:void 0,sC=typeof clearTimeout=="function"?clearTimeout:void 0,I_=typeof Promise=="function"?Promise:void 0,aC=typeof queueMicrotask=="function"?queueMicrotask:typeof I_<"u"?function(r){return I_.resolve(null).then(r).catch(oC)}:N_;function oC(r){setTimeout(function(){throw r})}function $s(r){return r==="head"}function O_(r,s){var o=s,c=0;do{var d=o.nextSibling;if(r.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(c===0){r.removeChild(d),al(s);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Vc(r.ownerDocument.documentElement);else if(o==="head"){o=r.ownerDocument.head,Vc(o);for(var m=o.firstChild;m;){var _=m.nextSibling,x=m.nodeName;m[mi]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=_}}else o==="body"&&Vc(r.ownerDocument.body);o=d}while(o);al(s)}function D_(r,s){var o=r;r=0;do{var c=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(r===0)break;r--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||r++;o=c}while(o)}function jm(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":jm(o),wo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function lC(r,s,o,c){for(;r.nodeType===1;){var d=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[mi])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(m=r.getAttribute("rel"),m==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(m!==d.rel||r.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||r.getAttribute("title")!==(d.title==null?null:d.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(m=r.getAttribute("src"),(m!==(d.src==null?null:d.src)||r.getAttribute("type")!==(d.type==null?null:d.type)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&r.getAttribute("name")===m)return r}else return r;if(r=Lr(r.nextSibling),r===null)break}return null}function cC(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Lr(r.nextSibling),r===null))return null;return r}function M_(r,s){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=Lr(r.nextSibling),r===null))return null;return r}function zm(r){return r.data==="$?"||r.data==="$~"}function Vm(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function uC(r,s){var o=r.ownerDocument;if(r.data==="$~")r._reactRetry=s;else if(r.data!=="$?"||o.readyState!=="loading")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function Lr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return r}var Lm=null;function k_(r){r=r.nextSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"||o==="/&"){if(s===0)return Lr(r.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}r=r.nextSibling}return null}function P_(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return r;s--}else o!=="/$"&&o!=="/&"||s++}r=r.previousSibling}return null}function j_(r,s,o){switch(s=cd(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Vc(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);wo(r)}var Ur=new Map,z_=new Set;function ud(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ps=re.d;re.d={f:fC,r:dC,D:hC,C:pC,L:mC,m:gC,X:vC,S:yC,M:bC};function fC(){var r=ps.f(),s=td();return r||s}function dC(r){var s=Nr(r);s!==null&&s.tag===5&&s.type==="form"?eb(s):ps.r(r)}var rl=typeof document>"u"?null:document;function V_(r,s,o){var c=rl;if(c&&typeof s=="string"&&s){var d=nr(s);d='link[rel="'+r+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),z_.has(d)||(z_.add(d),r={rel:r,crossOrigin:o,href:s},c.querySelector(d)===null&&(s=c.createElement("link"),On(s,"link",r),rn(s),c.head.appendChild(s)))}}function hC(r){ps.D(r),V_("dns-prefetch",r,null)}function pC(r,s){ps.C(r,s),V_("preconnect",r,s)}function mC(r,s,o){ps.L(r,s,o);var c=rl;if(c&&r&&s){var d='link[rel="preload"][as="'+nr(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+nr(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+nr(o.imageSizes)+'"]')):d+='[href="'+nr(r)+'"]';var m=d;switch(s){case"style":m=il(r);break;case"script":m=sl(r)}Ur.has(m)||(r=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),Ur.set(m,r),c.querySelector(d)!==null||s==="style"&&c.querySelector(Lc(m))||s==="script"&&c.querySelector(Uc(m))||(s=c.createElement("link"),On(s,"link",r),rn(s),c.head.appendChild(s)))}}function gC(r,s){ps.m(r,s);var o=rl;if(o&&r){var c=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+nr(c)+'"][href="'+nr(r)+'"]',m=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=sl(r)}if(!Ur.has(m)&&(r=v({rel:"modulepreload",href:r},s),Ur.set(m,r),o.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Uc(m)))return}c=o.createElement("link"),On(c,"link",r),rn(c),o.head.appendChild(c)}}}function yC(r,s,o){ps.S(r,s,o);var c=rl;if(c&&r){var d=yi(c).hoistableStyles,m=il(r);s=s||"default";var _=d.get(m);if(!_){var x={loading:0,preload:null};if(_=c.querySelector(Lc(m)))x.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},o),(o=Ur.get(m))&&Um(r,o);var z=_=c.createElement("link");rn(z),On(z,"link",r),z._p=new Promise(function(Q,ie){z.onload=Q,z.onerror=ie}),z.addEventListener("load",function(){x.loading|=1}),z.addEventListener("error",function(){x.loading|=2}),x.loading|=4,fd(_,s,c)}_={type:"stylesheet",instance:_,count:1,state:x},d.set(m,_)}}}function vC(r,s){ps.X(r,s);var o=rl;if(o&&r){var c=yi(o).hoistableScripts,d=sl(r),m=c.get(d);m||(m=o.querySelector(Uc(d)),m||(r=v({src:r,async:!0},s),(s=Ur.get(d))&&Bm(r,s),m=o.createElement("script"),rn(m),On(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(d,m))}}function bC(r,s){ps.M(r,s);var o=rl;if(o&&r){var c=yi(o).hoistableScripts,d=sl(r),m=c.get(d);m||(m=o.querySelector(Uc(d)),m||(r=v({src:r,async:!0,type:"module"},s),(s=Ur.get(d))&&Bm(r,s),m=o.createElement("script"),rn(m),On(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(d,m))}}function L_(r,s,o,c){var d=(d=Se.current)?ud(d):null;if(!d)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=il(o.href),o=yi(d).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=il(o.href);var m=yi(d).hoistableStyles,_=m.get(r);if(_||(d=d.ownerDocument||d,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(r,_),(m=d.querySelector(Lc(r)))&&!m._p&&(_.instance=m,_.state.loading=5),Ur.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Ur.set(r,o),m||_C(d,r,o,_.state))),s&&c===null)throw Error(i(528,""));return _}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=sl(o),o=yi(d).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function il(r){return'href="'+nr(r)+'"'}function Lc(r){return'link[rel="stylesheet"]['+r+"]"}function U_(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function _C(r,s,o,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),On(s,"link",o),rn(s),r.head.appendChild(s))}function sl(r){return'[src="'+nr(r)+'"]'}function Uc(r){return"script[async]"+r}function B_(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+nr(o.href)+'"]');if(c)return s.instance=c,rn(c),c;var d=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),rn(c),On(c,"style",d),fd(c,o.precedence,r),s.instance=c;case"stylesheet":d=il(o.href);var m=r.querySelector(Lc(d));if(m)return s.state.loading|=4,s.instance=m,rn(m),m;c=U_(o),(d=Ur.get(d))&&Um(c,d),m=(r.ownerDocument||r).createElement("link"),rn(m);var _=m;return _._p=new Promise(function(x,z){_.onload=x,_.onerror=z}),On(m,"link",c),s.state.loading|=4,fd(m,o.precedence,r),s.instance=m;case"script":return m=sl(o.src),(d=r.querySelector(Uc(m)))?(s.instance=d,rn(d),d):(c=o,(d=Ur.get(m))&&(c=v({},o),Bm(c,d)),r=r.ownerDocument||r,d=r.createElement("script"),rn(d),On(d,"link",c),r.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,fd(c,o.precedence,r));return s.instance}function fd(r,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,m=d,_=0;_<c.length;_++){var x=c[_];if(x.dataset.precedence===s)m=x;else if(m!==d)break}m?m.parentNode.insertBefore(r,m.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function Um(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Bm(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var dd=null;function F_(r,s,o){if(dd===null){var c=new Map,d=dd=new Map;d.set(o,c)}else d=dd,c=d.get(o),c||(c=new Map,d.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),d=0;d<o.length;d++){var m=o[d];if(!(m[mi]||m[nn]||r==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(s)||"";_=r+_;var x=c.get(_);x?x.push(m):c.set(_,[m])}}return c}function q_(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function EC(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(r=s.disabled,typeof s.precedence=="string"&&r==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function H_(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function wC(r,s,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=il(c.href),m=s.querySelector(Lc(d));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(r.count++,r=hd.bind(r),s.then(r,r)),o.state.loading|=4,o.instance=m,rn(m);return}m=s.ownerDocument||s,c=U_(c),(d=Ur.get(d))&&Um(c,d),m=m.createElement("link"),rn(m);var _=m;_._p=new Promise(function(x,z){_.onload=x,_.onerror=z}),On(m,"link",c),o.instance=m}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(r.count++,o=hd.bind(r),s.addEventListener("load",o),s.addEventListener("error",o))}}var Fm=0;function TC(r,s){return r.stylesheets&&r.count===0&&md(r,r.stylesheets),0<r.count||0<r.imgCount?function(o){var c=setTimeout(function(){if(r.stylesheets&&md(r,r.stylesheets),r.unsuspend){var m=r.unsuspend;r.unsuspend=null,m()}},6e4+s);0<r.imgBytes&&Fm===0&&(Fm=62500*rC());var d=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&md(r,r.stylesheets),r.unsuspend)){var m=r.unsuspend;r.unsuspend=null,m()}},(r.imgBytes>Fm?50:800)+s);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(c),clearTimeout(d)}}:null}function hd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)md(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var pd=null;function md(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,pd=new Map,s.forEach(SC,r),pd=null,hd.call(r))}function SC(r,s){if(!(s.state.loading&4)){var o=pd.get(r);if(o)var c=o.get(null);else{o=new Map,pd.set(r,o);for(var d=r.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var _=d[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),c=_)}c&&o.set(null,c)}d=s.instance,_=d.getAttribute("data-precedence"),m=o.get(_)||c,m===c&&o.set(null,d),o.set(_,d),this.count++,c=hd.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),m?m.parentNode.insertBefore(d,m.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(d,r.firstChild)),s.state.loading|=4}}var Bc={$$typeof:K,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function xC(r,s,o,c,d,m,_,x,z){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ht(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ht(0),this.hiddenUpdates=Ht(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function G_(r,s,o,c,d,m,_,x,z,Q,ie,oe){return r=new xC(r,s,o,_,z,Q,ie,oe,x),s=1,m===!0&&(s|=24),m=br(3,null,null,s),r.current=m,m.stateNode=r,s=Ep(),s.refCount++,r.pooledCache=s,s.refCount++,m.memoizedState={element:c,isDehydrated:o,cache:s},xp(m),r}function Y_(r){return r?(r=jo,r):jo}function K_(r,s,o,c,d,m){d=Y_(d),c.context===null?c.context=d:c.pendingContext=d,c=Ls(s),c.payload={element:o},m=m===void 0?null:m,m!==null&&(c.callback=m),o=Us(r,c,s),o!==null&&(lr(o,r,s),bc(o,r,s))}function W_(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function qm(r,s){W_(r,s),(r=r.alternate)&&W_(r,s)}function Q_(r){if(r.tag===13||r.tag===31){var s=La(r,67108864);s!==null&&lr(s,r,67108864),qm(r,67108864)}}function $_(r){if(r.tag===13||r.tag===31){var s=Sr();s=pr(s);var o=La(r,s);o!==null&&lr(o,r,s),qm(r,s)}}var gd=!0;function AC(r,s,o,c){var d=q.T;q.T=null;var m=re.p;try{re.p=2,Hm(r,s,o,c)}finally{re.p=m,q.T=d}}function CC(r,s,o,c){var d=q.T;q.T=null;var m=re.p;try{re.p=8,Hm(r,s,o,c)}finally{re.p=m,q.T=d}}function Hm(r,s,o,c){if(gd){var d=Gm(c);if(d===null)Im(r,s,c,yd,o),J_(r,c);else if(NC(d,r,s,o,c))c.stopPropagation();else if(J_(r,c),s&4&&-1<RC.indexOf(r)){for(;d!==null;){var m=Nr(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=Pt(m.pendingLanes);if(_!==0){var x=m;for(x.pendingLanes|=2,x.entangledLanes|=2;_;){var z=1<<31-gt(_);x.entanglements[1]|=z,_&=~z}Ii(m),(dt&6)===0&&(Zf=Zt()+500,Pc(0))}}break;case 31:case 13:x=La(m,2),x!==null&&lr(x,m,2),td(),qm(m,2)}if(m=Gm(c),m===null&&Im(r,s,c,yd,o),m===d)break;d=m}d!==null&&c.stopPropagation()}else Im(r,s,c,null,o)}}function Gm(r){return r=Ir(r),Ym(r)}var yd=null;function Ym(r){if(yd=null,r=gi(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=u(s),r!==null)return r;r=null}else if(o===31){if(r=h(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return yd=r,null}function X_(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yn()){case di:return 2;case hn:return 8;case pn:case Cr:return 32;case hi:return 268435456;default:return 32}default:return 32}}var Km=!1,Xs=null,Js=null,Zs=null,Fc=new Map,qc=new Map,ea=[],RC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function J_(r,s){switch(r){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":Js=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":Fc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":qc.delete(s.pointerId)}}function Hc(r,s,o,c,d,m){return r===null||r.nativeEvent!==m?(r={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:m,targetContainers:[d]},s!==null&&(s=Nr(s),s!==null&&Q_(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function NC(r,s,o,c,d){switch(s){case"focusin":return Xs=Hc(Xs,r,s,o,c,d),!0;case"dragenter":return Js=Hc(Js,r,s,o,c,d),!0;case"mouseover":return Zs=Hc(Zs,r,s,o,c,d),!0;case"pointerover":var m=d.pointerId;return Fc.set(m,Hc(Fc.get(m)||null,r,s,o,c,d)),!0;case"gotpointercapture":return m=d.pointerId,qc.set(m,Hc(qc.get(m)||null,r,s,o,c,d)),!0}return!1}function Z_(r){var s=gi(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){r.blockedOn=s,An(r.priority,function(){$_(o)});return}}else if(s===31){if(s=h(o),s!==null){r.blockedOn=s,An(r.priority,function(){$_(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function vd(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Gm(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);rc=c,o.target.dispatchEvent(c),rc=null}else return s=Nr(o),s!==null&&Q_(s),r.blockedOn=o,!1;s.shift()}return!0}function eE(r,s,o){vd(r)&&o.delete(s)}function IC(){Km=!1,Xs!==null&&vd(Xs)&&(Xs=null),Js!==null&&vd(Js)&&(Js=null),Zs!==null&&vd(Zs)&&(Zs=null),Fc.forEach(eE),qc.forEach(eE)}function bd(r,s){r.blockedOn===s&&(r.blockedOn=null,Km||(Km=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,IC)))}var _d=null;function tE(r){_d!==r&&(_d=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){_d===r&&(_d=null);for(var s=0;s<r.length;s+=3){var o=r[s],c=r[s+1],d=r[s+2];if(typeof c!="function"){if(Ym(c||o)===null)continue;break}var m=Nr(o);m!==null&&(r.splice(s,3),s-=3,Gp(m,{pending:!0,data:d,method:o.method,action:c},c,d))}}))}function al(r){function s(z){return bd(z,r)}Xs!==null&&bd(Xs,r),Js!==null&&bd(Js,r),Zs!==null&&bd(Zs,r),Fc.forEach(s),qc.forEach(s);for(var o=0;o<ea.length;o++){var c=ea[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<ea.length&&(o=ea[0],o.blockedOn===null);)Z_(o),o.blockedOn===null&&ea.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var d=o[c],m=o[c+1],_=d[bn]||null;if(typeof m=="function")_||tE(o);else if(_){var x=null;if(m&&m.hasAttribute("formAction")){if(d=m,_=m[bn]||null)x=_.formAction;else if(Ym(d)!==null)continue}else x=_.action;typeof x=="function"?o[c+1]=x:(o.splice(c,3),c-=3),tE(o)}}}function nE(){function r(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(_){return d=_})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,d=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function Wm(r){this._internalRoot=r}Ed.prototype.render=Wm.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,c=Sr();K_(o,c,r,s,null,null)},Ed.prototype.unmount=Wm.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;K_(r.current,2,null,r,null,null),td(),s[pi]=null}};function Ed(r){this._internalRoot=r}Ed.prototype.unstable_scheduleHydration=function(r){if(r){var s=mr();r={blockedOn:null,target:r,priority:s};for(var o=0;o<ea.length&&s!==0&&s<ea[o].priority;o++);ea.splice(o,0,r),o===0&&Z_(r)}};var rE=e.version;if(rE!=="19.2.3")throw Error(i(527,rE,"19.2.3"));re.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=g(s),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var OC={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wd.isDisabled&&wd.supportsFiber)try{ze=wd.inject(OC),Ke=wd}catch{}}return Yc.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,c="",d=ub,m=fb,_=db;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=G_(r,1,!1,null,null,o,c,null,d,m,_,nE),r[pi]=s.current,Nm(r),new Wm(s)},Yc.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var c=!1,d="",m=ub,_=fb,x=db,z=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(x=o.onRecoverableError),o.formState!==void 0&&(z=o.formState)),s=G_(r,1,!0,s,o??null,c,d,z,m,_,x,nE),s.context=Y_(null),o=s.current,c=Sr(),c=pr(c),d=Ls(c),d.callback=null,Us(o,d,c),o=c,s.current.lanes=o,tr(s,o),Ii(s),r[pi]=s.current,Nm(r),new Ed(s)},Yc.version="19.2.3",Yc}var hE;function UC(){if(hE)return Xm.exports;hE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Xm.exports=LC(),Xm.exports}var BC=UC(),pE={},FC="@vercel/analytics",qC="1.6.1",HC=()=>{window.va||(window.va=function(...e){(window.vaq=window.vaq||[]).push(e)})};function lT(){return typeof window<"u"}function cT(){try{const t="production"}catch{}return"production"}function GC(t="auto"){if(t==="auto"){window.vam=cT();return}window.vam=t}function YC(){return(lT()?window.vam:cT())||"production"}function Pg(){return YC()==="development"}function KC(t){return t.scriptSrc?t.scriptSrc:Pg()?"https://va.vercel-scripts.com/v1/script.debug.js":t.basePath?`${t.basePath}/insights/script.js`:"/_vercel/insights/script.js"}function WC(t={debug:!0}){var e;if(!lT())return;GC(t.mode),HC(),t.beforeSend&&((e=window.va)==null||e.call(window,"beforeSend",t.beforeSend));const n=KC(t);if(document.head.querySelector(`script[src*="${n}"]`))return;const i=document.createElement("script");i.src=n,i.defer=!0,i.dataset.sdkn=FC+(t.framework?`/${t.framework}`:""),i.dataset.sdkv=qC,t.disableAutoTrack&&(i.dataset.disableAutoTrack="1"),t.endpoint?i.dataset.endpoint=t.endpoint:t.basePath&&(i.dataset.endpoint=`${t.basePath}/insights`),t.dsn&&(i.dataset.dsn=t.dsn),i.onerror=()=>{const a=Pg()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${n}. ${a}`)},Pg()&&t.debug===!1&&(i.dataset.debug="false"),document.head.appendChild(i)}function QC({route:t,path:e}){var n;(n=window.va)==null||n.call(window,"pageview",{route:t,path:e})}function $C(){if(!(typeof process>"u"||typeof pE>"u"))return pE.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}function XC(t){return k.useEffect(()=>{var e;t.beforeSend&&((e=window.va)==null||e.call(window,"beforeSend",t.beforeSend))},[t.beforeSend]),k.useEffect(()=>{WC({framework:t.framework||"react",basePath:t.basePath??$C(),...t.route!==void 0&&{disableAutoTrack:!0},...t})},[]),k.useEffect(()=>{t.route&&t.path&&QC({route:t.route,path:t.path})},[t.route,t.path]),null}function JC({children:t}){return E.jsxs("div",{className:"flex flex-col h-screen w-screen overflow-hidden bg-slate-950 text-white relative",role:"application","aria-label":"Habit tracker",children:[E.jsx("div",{className:"flex-1 flex flex-col md:flex-row overflow-hidden relative",children:t}),E.jsxs("footer",{className:"shrink-0 py-2 border-t border-zinc-900 bg-zinc-950 text-center text-[10px] text-zinc-600 uppercase tracking-wider font-medium z-50 relative",children:[" ",new Date().getFullYear()," Hone. All rights reserved."]})]})}const ZC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eR=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),mE=t=>{const e=eR(t);return e.charAt(0).toUpperCase()+e.slice(1)},uT=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),tR=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var nR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const rR=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:u,...h},p)=>k.createElement("svg",{ref:p,...nR,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:uT("lucide",a),...!l&&!tR(h)&&{"aria-hidden":"true"},...h},[...u.map(([g,y])=>k.createElement(g,y)),...Array.isArray(l)?l:[l]]));const Ut=(t,e)=>{const n=k.forwardRef(({className:i,...a},l)=>k.createElement(rR,{ref:l,iconNode:e,className:uT(`lucide-${ZC(mE(t))}`,`lucide-${t}`,i),...a}));return n.displayName=mE(t),n};const iR=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],fT=Ut("arrow-left",iR);const sR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],aR=Ut("arrow-right",sR);const oR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],lR=Ut("calendar",oR);const cR=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],uR=Ut("chevron-left",cR);const fR=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],dT=Ut("chevron-right",fR);const dR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],jg=Ut("circle-alert",dR);const hR=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],pR=Ut("circle-check-big",hR);const mR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],gE=Ut("circle-check",mR);const gR=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],yR=Ut("folder-open",gR);const vR=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],tg=Ut("folder",vR);const bR=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],_R=Ut("link",bR);const ER=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],wR=Ut("list",ER);const TR=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],SR=Ut("loader-circle",TR);const xR=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],zg=Ut("lock",xR);const AR=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Vg=Ut("log-out",AR);const CR=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Lg=Ut("mail",CR);const RR=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],NR=Ut("panels-top-left",RR);const IR=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],yE=Ut("pen",IR);const OR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],vE=Ut("plus",OR);const DR=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],MR=Ut("search",DR);const kR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],PR=Ut("shield",kR);const jR=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],to=Ut("sparkles",jR);const zR=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],bE=Ut("trash-2",zR);const VR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ng=Ut("x",VR);function hT(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=hT(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function Ye(){for(var t,e,n=0,i="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=hT(t))&&(i&&(i+=" "),i+=e);return i}const LR=()=>{};var _E={};const pT=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},UR=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],h=t[n++],p=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=t[n++],u=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},mT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,h=u?t[a+1]:0,p=a+2<t.length,g=p?t[a+2]:0,y=l>>2,v=(l&3)<<4|h>>4;let T=(h&15)<<2|g>>6,S=g&63;p||(S=64,u||(T=64)),i.push(n[y],n[v],n[T],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):UR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||g==null||v==null)throw new BR;const T=l<<2|h>>4;if(i.push(T),g!==64){const S=h<<4&240|g>>2;if(i.push(S),v!==64){const I=g<<6&192|v;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class BR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FR=function(t){const e=pT(t);return mT.encodeByteArray(e,!0)},Wd=function(t){return FR(t).replace(/\./g,"")},gT=function(t){try{return mT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function qR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const HR=()=>qR().__FIREBASE_DEFAULTS__,GR=()=>{if(typeof process>"u"||typeof _E>"u")return;const t=_E.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},YR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&gT(t[1]);return e&&JSON.parse(e)},Sh=()=>{try{return LR()||HR()||GR()||YR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yT=t=>Sh()?.emulatorHosts?.[t],KR=t=>{const e=yT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},vT=()=>Sh()?.config,bT=t=>Sh()?.[`_${t}`];class WR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function kl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _T(t){return(await fetch(t,{credentials:"include"})).ok}function QR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Wd(JSON.stringify(n)),Wd(JSON.stringify(u)),""].join(".")}const au={};function $R(){const t={prod:[],emulator:[]};for(const e of Object.keys(au))au[e]?t.emulator.push(e):t.prod.push(e);return t}function XR(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let EE=!1;function ET(t,e){if(typeof window>"u"||typeof document>"u"||!kl(window.location.host)||au[t]===e||au[t]||EE)return;au[t]=e;function n(T){return`__firebase__banner__${T}`}const i="__firebase__banner",l=$R().prod.length>0;function u(){const T=document.getElementById(i);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,S){T.setAttribute("width","24"),T.setAttribute("id",S),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{EE=!0,u()},T}function y(T,S){T.setAttribute("id",S),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function v(){const T=XR(i),S=n("text"),I=document.getElementById(S)||document.createElement("span"),D=n("learnmore"),V=document.getElementById(D)||document.createElement("a"),U=n("preprendIcon"),B=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const K=T.element;h(K),y(V,D);const G=g();p(B,U),K.append(B,I,V,G),document.body.appendChild(K)}l?(I.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function Hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hn())}function ZR(){const t=Sh()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rN(){const t=Hn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function iN(){return!ZR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sN(){try{return typeof indexedDB=="object"}catch{return!1}}function aN(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const oN="FirebaseError";class Ts extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=oN,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Iu.prototype.create)}}class Iu{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?lN(l,i):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new Ts(a,h,i)}}function lN(t,e){return t.replace(cN,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const cN=/\{\$([^}]+)}/g;function uN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ao(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],u=e[a];if(wE(l)&&wE(u)){if(!ao(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function wE(t){return t!==null&&typeof t=="object"}function Ou(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function eu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function tu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function fN(t,e){const n=new dN(t,e);return n.subscribe.bind(n)}class dN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");hN(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=rg),a.error===void 0&&(a.error=rg),a.complete===void 0&&(a.complete=rg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function rg(){}function kt(t){return t&&t._delegate?t._delegate:t}class oo{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Za="[DEFAULT]";class pN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new WR;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gN(e))try{this.getOrInitializeService({instanceIdentifier:Za})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Za){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Za){return this.instances.has(e)}getOptions(e=Za){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&u.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:mN(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Za){return this.component?this.component.multipleInstances?e:Za:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mN(t){return t===Za?void 0:t}function gN(t){return t.instantiationMode==="EAGER"}class yN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var nt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(nt||(nt={}));const vN={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},bN=nt.INFO,_N={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},EN=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=_N[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cy{constructor(e){this.name=e,this._logLevel=bN,this._logHandler=EN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...e),this._logHandler(this,nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...e),this._logHandler(this,nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...e),this._logHandler(this,nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...e),this._logHandler(this,nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...e),this._logHandler(this,nt.ERROR,...e)}}const wN=(t,e)=>e.some(n=>t instanceof n);let TE,SE;function TN(){return TE||(TE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SN(){return SE||(SE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wT=new WeakMap,Ug=new WeakMap,TT=new WeakMap,ig=new WeakMap,Ry=new WeakMap;function xN(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(da(t.result)),a()},u=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&wT.set(n,t)}).catch(()=>{}),Ry.set(e,t),e}function AN(t){if(Ug.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});Ug.set(t,e)}let Bg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ug.get(t);if(e==="objectStoreNames")return t.objectStoreNames||TT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return da(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CN(t){Bg=t(Bg)}function RN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(sg(this),e,...n);return TT.set(i,e.sort?e.sort():[e]),da(i)}:SN().includes(t)?function(...e){return t.apply(sg(this),e),da(wT.get(this))}:function(...e){return da(t.apply(sg(this),e))}}function NN(t){return typeof t=="function"?RN(t):(t instanceof IDBTransaction&&AN(t),wN(t,TN())?new Proxy(t,Bg):t)}function da(t){if(t instanceof IDBRequest)return xN(t);if(ig.has(t))return ig.get(t);const e=NN(t);return e!==t&&(ig.set(t,e),Ry.set(e,t)),e}const sg=t=>Ry.get(t);function IN(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),h=da(u);return i&&u.addEventListener("upgradeneeded",p=>{i(da(u.result),p.oldVersion,p.newVersion,da(u.transaction),p)}),n&&u.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),h.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const ON=["get","getKey","getAll","getAllKeys","count"],DN=["put","add","delete","clear"],ag=new Map;function xE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ag.get(e))return ag.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=DN.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||ON.includes(n)))return;const l=async function(u,...h){const p=this.transaction(u,a?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(h.shift())),(await Promise.all([g[n](...h),a&&p.done]))[0]};return ag.set(e,l),l}CN(t=>({...t,get:(e,n,i)=>xE(e,n)||t.get(e,n,i),has:(e,n)=>!!xE(e,n)||t.has(e,n)}));class MN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kN(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function kN(t){return t.getComponent()?.type==="VERSION"}const Fg="@firebase/app",AE="0.14.6";const bs=new Cy("@firebase/app"),PN="@firebase/app-compat",jN="@firebase/analytics-compat",zN="@firebase/analytics",VN="@firebase/app-check-compat",LN="@firebase/app-check",UN="@firebase/auth",BN="@firebase/auth-compat",FN="@firebase/database",qN="@firebase/data-connect",HN="@firebase/database-compat",GN="@firebase/functions",YN="@firebase/functions-compat",KN="@firebase/installations",WN="@firebase/installations-compat",QN="@firebase/messaging",$N="@firebase/messaging-compat",XN="@firebase/performance",JN="@firebase/performance-compat",ZN="@firebase/remote-config",eI="@firebase/remote-config-compat",tI="@firebase/storage",nI="@firebase/storage-compat",rI="@firebase/firestore",iI="@firebase/ai",sI="@firebase/firestore-compat",aI="firebase",oI="12.6.0";const qg="[DEFAULT]",lI={[Fg]:"fire-core",[PN]:"fire-core-compat",[zN]:"fire-analytics",[jN]:"fire-analytics-compat",[LN]:"fire-app-check",[VN]:"fire-app-check-compat",[UN]:"fire-auth",[BN]:"fire-auth-compat",[FN]:"fire-rtdb",[qN]:"fire-data-connect",[HN]:"fire-rtdb-compat",[GN]:"fire-fn",[YN]:"fire-fn-compat",[KN]:"fire-iid",[WN]:"fire-iid-compat",[QN]:"fire-fcm",[$N]:"fire-fcm-compat",[XN]:"fire-perf",[JN]:"fire-perf-compat",[ZN]:"fire-rc",[eI]:"fire-rc-compat",[tI]:"fire-gcs",[nI]:"fire-gcs-compat",[rI]:"fire-fst",[sI]:"fire-fst-compat",[iI]:"fire-vertex","fire-js":"fire-js",[aI]:"fire-js-all"};const Qd=new Map,cI=new Map,Hg=new Map;function CE(t,e){try{t.container.addComponent(e)}catch(n){bs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function El(t){const e=t.name;if(Hg.has(e))return bs.debug(`There were multiple attempts to register component ${e}.`),!1;Hg.set(e,t);for(const n of Qd.values())CE(n,t);for(const n of cI.values())CE(n,t);return!0}function Ny(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ur(t){return t==null?!1:t.settings!==void 0}const uI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ha=new Iu("app","Firebase",uI);class fI{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new oo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ha.create("app-deleted",{appName:this._name})}}const Pl=oI;function ST(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:qg,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw ha.create("bad-app-name",{appName:String(a)});if(n||(n=vT()),!n)throw ha.create("no-options");const l=Qd.get(a);if(l){if(ao(n,l.options)&&ao(i,l.config))return l;throw ha.create("duplicate-app",{appName:a})}const u=new yN(a);for(const p of Hg.values())u.addComponent(p);const h=new fI(n,i,u);return Qd.set(a,h),h}function xT(t=qg){const e=Qd.get(t);if(!e&&t===qg&&vT())return ST();if(!e)throw ha.create("no-app",{appName:t});return e}function pa(t,e,n){let i=lI[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bs.warn(u.join(" "));return}El(new oo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const dI="firebase-heartbeat-database",hI=1,mu="firebase-heartbeat-store";let og=null;function AT(){return og||(og=IN(dI,hI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(mu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ha.create("idb-open",{originalErrorMessage:t.message})})),og}async function pI(t){try{const n=(await AT()).transaction(mu),i=await n.objectStore(mu).get(CT(t));return await n.done,i}catch(e){if(e instanceof Ts)bs.warn(e.message);else{const n=ha.create("idb-get",{originalErrorMessage:e?.message});bs.warn(n.message)}}}async function RE(t,e){try{const i=(await AT()).transaction(mu,"readwrite");await i.objectStore(mu).put(e,CT(t)),await i.done}catch(n){if(n instanceof Ts)bs.warn(n.message);else{const i=ha.create("idb-set",{originalErrorMessage:n?.message});bs.warn(i.message)}}}function CT(t){return`${t.name}!${t.options.appId}`}const mI=1024,gI=30;class yI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bI(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=NE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>gI){const a=_I(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){bs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=NE(),{heartbeatsToSend:n,unsentEntries:i}=vI(this._heartbeatsCache.heartbeats),a=Wd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return bs.warn(e),""}}}function NE(){return new Date().toISOString().substring(0,10)}function vI(t,e=mI){const n=[];let i=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),IE(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),IE(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class bI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sN()?aN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return RE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return RE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function IE(t){return Wd(JSON.stringify({version:2,heartbeats:t})).length}function _I(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}function EI(t){El(new oo("platform-logger",e=>new MN(e),"PRIVATE")),El(new oo("heartbeat",e=>new yI(e),"PRIVATE")),pa(Fg,AE,t),pa(Fg,AE,"esm2020"),pa("fire-js","")}EI("");function RT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wI=RT,NT=new Iu("auth","Firebase",RT());const $d=new Cy("@firebase/auth");function TI(t,...e){$d.logLevel<=nt.WARN&&$d.warn(`Auth (${Pl}): ${t}`,...e)}function kd(t,...e){$d.logLevel<=nt.ERROR&&$d.error(`Auth (${Pl}): ${t}`,...e)}function Gr(t,...e){throw Oy(t,...e)}function si(t,...e){return Oy(t,...e)}function Iy(t,e,n){const i={...wI(),[e]:n};return new Iu("auth","Firebase",i).create(e,{appName:t.name})}function Li(t){return Iy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function IT(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Gr(t,"argument-error"),Iy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Oy(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return NT.create(t,...e)}function Re(t,e,...n){if(!t)throw Oy(e,...n)}function gs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw kd(e),new Error(e)}function _s(t,e){t||gs(e)}function Xd(){return typeof self<"u"&&self.location?.href||""}function SI(){return OE()==="http:"||OE()==="https:"}function OE(){return typeof self<"u"&&self.location?.protocol||null}function xI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SI()||tN()||"connection"in navigator)?navigator.onLine:!0}function AI(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Du{constructor(e,n){this.shortDelay=e,this.longDelay=n,_s(n>e,"Short delay should be less than long delay!"),this.isMobile=JR()||nN()}get(){return xI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Dy(t,e){_s(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class OT{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const CI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const RI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],NI=new Du(3e4,6e4);function Ss(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function li(t,e,n,i,a={}){return DT(t,a,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const h=Ou({key:t.config.apiKey,...u}).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:p,...l};return eN()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&kl(t.emulatorConfig.host)&&(g.credentials="include"),OT.fetch()(await MT(t,t.config.apiHost,n,h),g)})}async function DT(t,e,n){t._canInitEmulator=!1;const i={...CI,...e};try{const a=new OI(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Td(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[p,g]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Td(t,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw Td(t,"email-already-in-use",u);if(p==="USER_DISABLED")throw Td(t,"user-disabled",u);const y=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Iy(t,y,g);Gr(t,y)}}catch(a){if(a instanceof Ts)throw a;Gr(t,"network-request-failed",{message:String(a)})}}async function Mu(t,e,n,i,a={}){const l=await li(t,e,n,i,a);return"mfaPendingCredential"in l&&Gr(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function MT(t,e,n,i){const a=`${e}${n}?${i}`,l=t,u=l.config.emulator?Dy(t.config,a):`${t.config.apiScheme}://${a}`;return RI.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function II(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class OI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(si(this.auth,"network-request-failed")),NI.get())})}}function Td(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=si(t,e,i);return a.customData._tokenResponse=n,a}function DE(t){return t!==void 0&&t.enterprise!==void 0}class DI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return II(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function MI(t,e){return li(t,"GET","/v2/recaptchaConfig",Ss(t,e))}async function kI(t,e){return li(t,"POST","/v1/accounts:delete",e)}async function PI(t,e){return li(t,"POST","/v1/accounts:update",e)}async function Jd(t,e){return li(t,"POST","/v1/accounts:lookup",e)}function ou(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jI(t,e=!1){const n=kt(t),i=await n.getIdToken(e),a=My(i);Re(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:i,authTime:ou(lg(a.auth_time)),issuedAtTime:ou(lg(a.iat)),expirationTime:ou(lg(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function lg(t){return Number(t)*1e3}function My(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return kd("JWT malformed, contained fewer than 3 sections"),null;try{const a=gT(n);return a?JSON.parse(a):(kd("Failed to decode base64 JWT payload"),null)}catch(a){return kd("Caught error parsing JWT payload as JSON",a?.toString()),null}}function ME(t){const e=My(t);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function wl(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Ts&&zI(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function zI({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class VI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Gg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ou(this.lastLoginAt),this.creationTime=ou(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function gu(t){const e=t.auth,n=await t.getIdToken(),i=await wl(t,Jd(e,{idToken:n}));Re(i?.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?kT(a.providerUserInfo):[],u=UI(t.providerData,l),h=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!u?.length,g=h?p:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Gg(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,y)}async function LI(t){const e=kt(t);await gu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UI(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function kT(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function BI(t,e){const n=await DT(t,{},async()=>{const i=Ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await MT(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:h,body:i};return t.emulatorConfig&&kl(t.emulatorConfig.host)&&(p.credentials="include"),OT.fetch()(u,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function FI(t,e){return li(t,"POST","/v2/accounts:revokeToken",Ss(t,e))}class ml{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ME(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=ME(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await BI(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,u=new ml;return i&&(Re(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(Re(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Re(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ml,this.toJSON())}_performRefresh(){return gs("not implemented")}}function na(t,e){Re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ni{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new VI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Gg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await wl(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return jI(this,e)}reload(){return LI(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ni({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await gu(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ur(this.auth.app))return Promise.reject(Li(this.auth));const e=await this.getIdToken();return await wl(this,kI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,h=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:v,emailVerified:T,isAnonymous:S,providerData:I,stsTokenManager:D}=n;Re(v&&D,e,"internal-error");const V=ml.fromJSON(this.name,D);Re(typeof v=="string",e,"internal-error"),na(i,e.name),na(a,e.name),Re(typeof T=="boolean",e,"internal-error"),Re(typeof S=="boolean",e,"internal-error"),na(l,e.name),na(u,e.name),na(h,e.name),na(p,e.name),na(g,e.name),na(y,e.name);const U=new ni({uid:v,auth:e,email:a,emailVerified:T,displayName:i,isAnonymous:S,photoURL:u,phoneNumber:l,tenantId:h,stsTokenManager:V,createdAt:g,lastLoginAt:y});return I&&Array.isArray(I)&&(U.providerData=I.map(B=>({...B}))),p&&(U._redirectEventId=p),U}static async _fromIdTokenResponse(e,n,i=!1){const a=new ml;a.updateFromServerResponse(n);const l=new ni({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await gu(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Re(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?kT(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,h=new ml;h.updateFromIdToken(i);const p=new ni({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Gg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(p,g),p}}const kE=new Map;function ys(t){_s(t instanceof Function,"Expected a class definition");let e=kE.get(t);return e?(_s(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,kE.set(t,e),e)}class PT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}PT.type="NONE";const PE=PT;function Pd(t,e,n){return`firebase:${t}:${e}:${n}`}class gl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Pd(this.userKey,a.apiKey,l),this.fullPersistenceKey=Pd("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Jd(this.auth,{idToken:e}).catch(()=>{});return n?ni._fromGetAccountInfoResponse(this.auth,n,e):null}return ni._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new gl(ys(PE),e,i);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||ys(PE);const u=Pd(i,e.config.apiKey,e.name);let h=null;for(const g of n)try{const y=await g._get(u);if(y){let v;if(typeof y=="string"){const T=await Jd(e,{idToken:y}).catch(()=>{});if(!T)break;v=await ni._fromGetAccountInfoResponse(e,T,y)}else v=ni._fromJSON(e,y);g!==l&&(h=v),l=g;break}}catch{}const p=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new gl(l,e,i):(l=p[0],h&&await l._set(u,h.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(u)}catch{}})),new gl(l,e,i))}}function jE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BT(e))return"Blackberry";if(FT(e))return"Webos";if(zT(e))return"Safari";if((e.includes("chrome/")||VT(e))&&!e.includes("edge/"))return"Chrome";if(UT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function jT(t=Hn()){return/firefox\//i.test(t)}function zT(t=Hn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VT(t=Hn()){return/crios\//i.test(t)}function LT(t=Hn()){return/iemobile/i.test(t)}function UT(t=Hn()){return/android/i.test(t)}function BT(t=Hn()){return/blackberry/i.test(t)}function FT(t=Hn()){return/webos/i.test(t)}function ky(t=Hn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function qI(t=Hn()){return ky(t)&&!!window.navigator?.standalone}function HI(){return rN()&&document.documentMode===10}function qT(t=Hn()){return ky(t)||UT(t)||FT(t)||BT(t)||/windows phone/i.test(t)||LT(t)}function HT(t,e=[]){let n;switch(t){case"Browser":n=jE(Hn());break;case"Worker":n=`${jE(Hn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Pl}/${i}`}class GI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((u,h)=>{try{const p=e(l);u(p)}catch(p){h(p)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function YI(t,e={}){return li(t,"GET","/v2/passwordPolicy",Ss(t,e))}const KI=6;class WI{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??KI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class QI{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zE(this),this.idTokenSubscription=new zE(this),this.beforeStateQueue=new GI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ys(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await gl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Jd(this,{idToken:e}),i=await ni._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ur(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=i?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&h?.user&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await gu(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=AI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ur(this.app))return Promise.reject(Li(this));const n=e?kt(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ur(this.app)?Promise.reject(Li(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ur(this.app)?Promise.reject(Li(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YI(this),n=new WI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Iu("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await FI(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ys(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await gl.create(this,[ys(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,i,a);return()=>{u=!0,p()}}else{const p=e.addObserver(n);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(ur(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&TI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Wi(t){return kt(t)}class zE{constructor(e){this.auth=e,this.observer=null,this.addObserver=fN(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let xh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $I(t){xh=t}function GT(t){return xh.loadJS(t)}function XI(){return xh.recaptchaEnterpriseScript}function JI(){return xh.gapiScript}function ZI(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class eO{constructor(){this.enterprise=new tO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class tO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const nO="recaptcha-enterprise",YT="NO_RECAPTCHA";class rO{constructor(e){this.type=nO,this.auth=Wi(e)}async verify(e="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,h)=>{MI(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const g=new DI(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,u(g.siteKey)}}).catch(p=>{h(p)})})}function a(l,u,h){const p=window.grecaptcha;DE(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{u(g)}).catch(()=>{u(YT)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eO().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{i(this.auth).then(h=>{if(!n&&DE(window.grecaptcha))a(h,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=XI();p.length!==0&&(p+=h),GT(p).then(()=>{a(h,l,u)}).catch(g=>{u(g)})}}).catch(h=>{u(h)})})}}async function VE(t,e,n,i=!1,a=!1){const l=new rO(t);let u;if(a)u=YT;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const p=h.phoneEnrollmentInfo.phoneNumber,g=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const p=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function yu(t,e,n,i,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await VE(t,e,n,n==="getOobCode");return i(t,l)}else return i(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await VE(t,e,n,n==="getOobCode");return i(t,u)}else return Promise.reject(l)})}function iO(t,e){const n=Ny(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(ao(l,e??{}))return a;Gr(a,"already-initialized")}return n.initialize({options:e})}function sO(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(ys);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function aO(t,e,n){const i=Wi(t);Re(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=KT(e),{host:u,port:h}=oO(e),p=h===null?"":`:${h}`,g={url:`${l}//${u}${p}/`},y=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Re(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Re(ao(g,i.config.emulator)&&ao(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,kl(u)?(_T(`${l}//${u}${p}`),ET("Auth",!0)):lO()}function KT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function oO(t){const e=KT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:LE(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:LE(u)}}}function LE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function lO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class Py{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gs("not implemented")}_getIdTokenResponse(e){return gs("not implemented")}_linkToIdToken(e,n){return gs("not implemented")}_getReauthenticationResolver(e){return gs("not implemented")}}async function cO(t,e){return li(t,"POST","/v1/accounts:update",e)}async function uO(t,e){return li(t,"POST","/v1/accounts:signUp",e)}async function fO(t,e){return Mu(t,"POST","/v1/accounts:signInWithPassword",Ss(t,e))}async function jy(t,e){return li(t,"POST","/v1/accounts:sendOobCode",Ss(t,e))}async function dO(t,e){return jy(t,e)}async function hO(t,e){return jy(t,e)}async function pO(t,e){return jy(t,e)}async function mO(t,e){return Mu(t,"POST","/v1/accounts:signInWithEmailLink",Ss(t,e))}async function gO(t,e){return Mu(t,"POST","/v1/accounts:signInWithEmailLink",Ss(t,e))}class vu extends Py{constructor(e,n,i,a=null){super("password",i),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new vu(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new vu(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yu(e,n,"signInWithPassword",fO);case"emailLink":return mO(e,{email:this._email,oobCode:this._password});default:Gr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yu(e,i,"signUpPassword",uO);case"emailLink":return gO(e,{idToken:n,email:this._email,oobCode:this._password});default:Gr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function yl(t,e){return Mu(t,"POST","/v1/accounts:signInWithIdp",Ss(t,e))}const yO="http://localhost";class lo extends Py{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new lo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const u=new lo(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return yl(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,yl(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,yl(e,n)}buildRequest(){const e={requestUri:yO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ou(n)}return e}}function vO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function bO(t){const e=eu(tu(t)).link,n=e?eu(tu(e)).deep_link_id:null,i=eu(tu(t)).deep_link_id;return(i?eu(tu(i)).link:null)||i||n||e||t}class Ah{constructor(e){const n=eu(tu(e)),i=n.apiKey??null,a=n.oobCode??null,l=vO(n.mode??null);Re(i&&a&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=bO(e);try{return new Ah(n)}catch{return null}}}class xa{constructor(){this.providerId=xa.PROVIDER_ID}static credential(e,n){return vu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Ah.parseLink(n);return Re(i,"argument-error"),vu._fromEmailAndCode(e,i.code,i.tenantId)}}xa.PROVIDER_ID="password";xa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ch{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ku extends Ch{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class aa extends ku{constructor(){super("facebook.com")}static credential(e){return lo._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return aa.credential(e.oauthAccessToken)}catch{return null}}}aa.FACEBOOK_SIGN_IN_METHOD="facebook.com";aa.PROVIDER_ID="facebook.com";class ji extends ku{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return lo._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return ji.credential(n,i)}catch{return null}}}ji.GOOGLE_SIGN_IN_METHOD="google.com";ji.PROVIDER_ID="google.com";class oa extends ku{constructor(){super("github.com")}static credential(e){return lo._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oa.credential(e.oauthAccessToken)}catch{return null}}}oa.GITHUB_SIGN_IN_METHOD="github.com";oa.PROVIDER_ID="github.com";class la extends ku{constructor(){super("twitter.com")}static credential(e,n){return lo._fromParams({providerId:la.PROVIDER_ID,signInMethod:la.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return la.credentialFromTaggedObject(e)}static credentialFromError(e){return la.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return la.credential(n,i)}catch{return null}}}la.TWITTER_SIGN_IN_METHOD="twitter.com";la.PROVIDER_ID="twitter.com";async function _O(t,e){return Mu(t,"POST","/v1/accounts:signUp",Ss(t,e))}class co{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await ni._fromIdTokenResponse(e,i,a),u=UE(i);return new co({user:l,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=UE(i);return new co({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function UE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Zd extends Ts{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Zd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new Zd(e,n,i,a)}}function WT(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Zd._fromErrorAndOperation(t,l,e,i):l})}function QT(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}async function EO(t,e){const n=kt(t);await TO(!0,n,e);const{providerUserInfo:i}=await PI(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),a=QT(i||[]);return n.providerData=n.providerData.filter(l=>a.has(l.providerId)),a.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function wO(t,e,n=!1){const i=await wl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return co._forOperation(t,"link",i)}async function TO(t,e,n){await gu(e);const i=QT(e.providerData);Re(i.has(n)===t,e.auth,"no-such-provider")}async function $T(t,e,n=!1){const{auth:i}=t;if(ur(i.app))return Promise.reject(Li(i));const a="reauthenticate";try{const l=await wl(t,WT(i,a,e,t),n);Re(l.idToken,i,"internal-error");const u=My(l.idToken);Re(u,i,"internal-error");const{sub:h}=u;return Re(t.uid===h,i,"user-mismatch"),co._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Gr(i,"user-mismatch"),l}}async function XT(t,e,n=!1){if(ur(t.app))return Promise.reject(Li(t));const i="signIn",a=await WT(t,i,e),l=await co._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}async function JT(t,e){return XT(Wi(t),e)}async function SO(t,e){return $T(kt(t),e)}function xO(t,e,n){Re(n.url?.length>0,t,"invalid-continue-uri"),Re(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),Re(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Re(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Re(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}async function ZT(t){const e=Wi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function AO(t,e,n){const i=Wi(t);await yu(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",hO)}async function CO(t,e,n){if(ur(t.app))return Promise.reject(Li(t));const i=Wi(t),u=await yu(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_O).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&ZT(t),p}),h=await co._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(h.user),h}function RO(t,e,n){return ur(t.app)?Promise.reject(Li(t)):JT(kt(t),xa.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&ZT(t),i})}async function NO(t,e,n){const i=Wi(t),a={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function l(u,h){Re(h.handleCodeInApp,i,"argument-error"),h&&xO(i,u,h)}l(a,n),await yu(i,a,"getOobCode",pO)}function zy(t,e){return Ah.parseLink(e)?.operation==="EMAIL_SIGNIN"}async function IO(t,e,n){if(ur(t.app))return Promise.reject(Li(t));const i=kt(t),a=xa.credentialWithLink(e,n||Xd());return Re(a._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),JT(i,a)}async function OO(t,e){const n=kt(t),a={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:l}=await dO(n.auth,a);l!==t.email&&await t.reload()}function DO(t,e){return MO(kt(t),null,e)}async function MO(t,e,n){const{auth:i}=t,l={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(l.password=n);const u=await wl(t,cO(i,l));await t._updateTokensIfNecessary(u,!0)}function kO(t,e,n,i){return kt(t).onIdTokenChanged(e,n,i)}function PO(t,e,n){return kt(t).beforeAuthStateChanged(e,n)}function jO(t,e,n,i){return kt(t).onAuthStateChanged(e,n,i)}function zO(t){return kt(t).signOut()}const eh="__sak";class eS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(eh,"1"),this.storage.removeItem(eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const VO=1e3,LO=10;class tS extends eS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,p)=>{this.notifyListeners(u,p)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);HI()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,LO):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},VO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}tS.type="LOCAL";const UO=tS;class nS extends eS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}nS.type="SESSION";const rS=nS;function BO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Rh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new Rh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(u).map(async g=>g(n.origin,l)),p=await BO(h);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rh.receivers=[];function Vy(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}class FO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((h,p)=>{const g=Vy("",20);a.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(v){const T=v;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(T.data.response);break;default:clearTimeout(y),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Ui(){return window}function qO(t){Ui().location.href=t}function iS(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function HO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GO(){return navigator?.serviceWorker?.controller||null}function YO(){return iS()?self:null}const sS="firebaseLocalStorageDb",KO=1,th="firebaseLocalStorage",aS="fbase_key";class Pu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nh(t,e){return t.transaction([th],e?"readwrite":"readonly").objectStore(th)}function WO(){const t=indexedDB.deleteDatabase(sS);return new Pu(t).toPromise()}function Yg(){const t=indexedDB.open(sS,KO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(th,{keyPath:aS})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(th)?e(i):(i.close(),await WO(),e(await Yg()))})})}async function BE(t,e,n){const i=Nh(t,!0).put({[aS]:e,value:n});return new Pu(i).toPromise()}async function QO(t,e){const n=Nh(t,!1).get(e),i=await new Pu(n).toPromise();return i===void 0?null:i.value}function FE(t,e){const n=Nh(t,!0).delete(e);return new Pu(n).toPromise()}const $O=800,XO=3;class oS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>XO)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rh._getInstance(YO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await HO(),!this.activeServiceWorker)return;this.sender=new FO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Yg();return await BE(e,eh,"1"),await FE(e,eh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>BE(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>QO(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>FE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Nh(a,!1).getAll();return new Pu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$O)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oS.type="LOCAL";const JO=oS;new Du(3e4,6e4);function Ly(t,e){return e?ys(e):(Re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Uy extends Py{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return yl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return yl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ZO(t){return XT(t.auth,new Uy(t),t.bypassAuthState)}function eD(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),$T(n,new Uy(t),t.bypassAuthState)}async function tD(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),wO(n,new Uy(t),t.bypassAuthState)}class lS{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZO;case"linkViaPopup":case"linkViaRedirect":return tD;case"reauthViaPopup":case"reauthViaRedirect":return eD;default:Gr(this.auth,"internal-error")}}resolve(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const nD=new Du(2e3,1e4);async function rD(t,e,n){if(ur(t.app))return Promise.reject(si(t,"operation-not-supported-in-this-environment"));const i=Wi(t);IT(t,e,Ch);const a=Ly(i,n);return new ua(i,"signInViaPopup",e,a).executeNotNull()}async function iD(t,e,n){const i=kt(t);IT(i.auth,e,Ch);const a=Ly(i.auth,n);return new ua(i.auth,"linkViaPopup",e,a,i).executeNotNull()}class ua extends lS{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,ua.currentPopupAction&&ua.currentPopupAction.cancel(),ua.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){_s(this.filter.length===1,"Popup operations only handle one event");const e=Vy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ua.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nD.get())};e()}}ua.currentPopupAction=null;const sD="pendingRedirect",jd=new Map;class aD extends lS{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=jd.get(this.auth._key());if(!e){try{const i=await oD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}jd.set(this.auth._key(),e)}return this.bypassAuthState||jd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oD(t,e){const n=uD(e),i=cD(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function lD(t,e){jd.set(t._key(),e)}function cD(t){return ys(t._redirectPersistence)}function uD(t){return Pd(sD,t.config.apiKey,t.name)}async function fD(t,e,n=!1){if(ur(t.app))return Promise.reject(Li(t));const i=Wi(t),a=Ly(i,e),u=await new aD(i,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}const dD=600*1e3;class hD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!cS(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(si(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dD&&this.cachedEventUids.clear(),this.cachedEventUids.has(qE(e))}saveEventToCache(e){this.cachedEventUids.add(qE(e)),this.lastProcessedEventTime=Date.now()}}function qE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function cS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function pD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cS(t);default:return!1}}async function mD(t,e={}){return li(t,"GET","/v1/projects",e)}const gD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yD=/^https?/;async function vD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await mD(t);for(const n of e)try{if(bD(n))return}catch{}Gr(t,"unauthorized-domain")}function bD(t){const e=Xd(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!yD.test(n))return!1;if(gD.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const _D=new Du(3e4,6e4);function HE(){const t=Ui().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function ED(t){return new Promise((e,n)=>{function i(){HE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{HE(),n(si(t,"network-request-failed"))},timeout:_D.get()})}if(Ui().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ui().gapi?.load)i();else{const a=ZI("iframefcb");return Ui()[a]=()=>{gapi.load?i():n(si(t,"network-request-failed"))},GT(`${JI()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw zd=null,e})}let zd=null;function wD(t){return zd=zd||ED(t),zd}const TD=new Du(5e3,15e3),SD="__/auth/iframe",xD="emulator/auth/iframe",AD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RD(t){const e=t.config;Re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Dy(e,xD):`https://${t.config.authDomain}/${SD}`,i={apiKey:e.apiKey,appName:t.name,v:Pl},a=CD.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Ou(i).slice(1)}`}async function ND(t){const e=await wD(t),n=Ui().gapi;return Re(n,t,"internal-error"),e.open({where:document.body,url:RD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AD,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=si(t,"network-request-failed"),h=Ui().setTimeout(()=>{l(u)},TD.get());function p(){Ui().clearTimeout(h),a(i)}i.ping(p).then(p,()=>{l(u)})}))}const ID={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OD=500,DD=600,MD="_blank",kD="http://localhost";class GE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PD(t,e,n,i=OD,a=DD){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const p={...ID,width:i.toString(),height:a.toString(),top:l,left:u},g=Hn().toLowerCase();n&&(h=VT(g)?MD:n),jT(g)&&(e=e||kD,p.scrollbars="yes");const y=Object.entries(p).reduce((T,[S,I])=>`${T}${S}=${I},`,"");if(qI(g)&&h!=="_self")return jD(e||"",h),new GE(null);const v=window.open(e||"",h,y);Re(v,t,"popup-blocked");try{v.focus()}catch{}return new GE(v)}function jD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const zD="__/auth/handler",VD="emulator/auth/handler",LD=encodeURIComponent("fac");async function YE(t,e,n,i,a,l){Re(t.config.authDomain,t,"auth-domain-config-required"),Re(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Pl,eventId:a};if(e instanceof Ch){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",uN(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(e instanceof ku){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const p=await t._getAppCheckToken(),g=p?`#${LD}=${encodeURIComponent(p)}`:"";return`${UD(t)}?${Ou(h).slice(1)}${g}`}function UD({config:t}){return t.emulator?Dy(t,VD):`https://${t.authDomain}/${zD}`}const cg="webStorageSupport";class BD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rS,this._completeRedirectFn=fD,this._overrideRedirectResult=lD}async _openPopup(e,n,i,a){_s(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await YE(e,n,i,Xd(),a);return PD(e,l,Vy())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await YE(e,n,i,Xd(),a);return qO(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(_s(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await ND(e),i=new hD(e);return n.register("authEvent",a=>(Re(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(cg,{type:cg},a=>{const l=a?.[0]?.[cg];l!==void 0&&n(!!l),Gr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qT()||zT()||ky()}}const FD=BD;var KE="@firebase/auth",WE="1.12.0";class qD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function HD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GD(t){El(new oo("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;Re(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HT(t)},g=new QI(i,a,l,p);return sO(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),El(new oo("auth-internal",e=>{const n=Wi(e.getProvider("auth").getImmediate());return(i=>new qD(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pa(KE,WE,HD(t)),pa(KE,WE,"esm2020")}const YD=300,KD=bT("authIdTokenMaxAge")||YD;let QE=null;const WD=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>KD)return;const a=n?.token;QE!==a&&(QE=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function By(t=xT()){const e=Ny(t,"auth");if(e.isInitialized())return e.getImmediate();const n=iO(t,{popupRedirectResolver:FD,persistence:[JO,UO,rS]}),i=bT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=WD(l.toString());PO(n,u,()=>u(n.currentUser)),kO(n,h=>u(h))}}const a=yT("auth");return a&&aO(n,`http://${a}`),n}function QD(){return document.getElementsByTagName("head")?.[0]??document}$I({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=si("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",QD().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GD("Browser");var $D="firebase",XD="12.7.0";pa($D,XD,"app");var $E=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ma,uS;(function(){var t;function e(R,A){function O(){}O.prototype=A.prototype,R.F=A.prototype,R.prototype=new O,R.prototype.constructor=R,R.D=function(L,P,M){for(var N=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)N[ne-2]=arguments[ne];return A.prototype[P].apply(L,N)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,A,O){O||(O=0);const L=Array(16);if(typeof A=="string")for(var P=0;P<16;++P)L[P]=A.charCodeAt(O++)|A.charCodeAt(O++)<<8|A.charCodeAt(O++)<<16|A.charCodeAt(O++)<<24;else for(P=0;P<16;++P)L[P]=A[O++]|A[O++]<<8|A[O++]<<16|A[O++]<<24;A=R.g[0],O=R.g[1],P=R.g[2];let M=R.g[3],N;N=A+(M^O&(P^M))+L[0]+3614090360&4294967295,A=O+(N<<7&4294967295|N>>>25),N=M+(P^A&(O^P))+L[1]+3905402710&4294967295,M=A+(N<<12&4294967295|N>>>20),N=P+(O^M&(A^O))+L[2]+606105819&4294967295,P=M+(N<<17&4294967295|N>>>15),N=O+(A^P&(M^A))+L[3]+3250441966&4294967295,O=P+(N<<22&4294967295|N>>>10),N=A+(M^O&(P^M))+L[4]+4118548399&4294967295,A=O+(N<<7&4294967295|N>>>25),N=M+(P^A&(O^P))+L[5]+1200080426&4294967295,M=A+(N<<12&4294967295|N>>>20),N=P+(O^M&(A^O))+L[6]+2821735955&4294967295,P=M+(N<<17&4294967295|N>>>15),N=O+(A^P&(M^A))+L[7]+4249261313&4294967295,O=P+(N<<22&4294967295|N>>>10),N=A+(M^O&(P^M))+L[8]+1770035416&4294967295,A=O+(N<<7&4294967295|N>>>25),N=M+(P^A&(O^P))+L[9]+2336552879&4294967295,M=A+(N<<12&4294967295|N>>>20),N=P+(O^M&(A^O))+L[10]+4294925233&4294967295,P=M+(N<<17&4294967295|N>>>15),N=O+(A^P&(M^A))+L[11]+2304563134&4294967295,O=P+(N<<22&4294967295|N>>>10),N=A+(M^O&(P^M))+L[12]+1804603682&4294967295,A=O+(N<<7&4294967295|N>>>25),N=M+(P^A&(O^P))+L[13]+4254626195&4294967295,M=A+(N<<12&4294967295|N>>>20),N=P+(O^M&(A^O))+L[14]+2792965006&4294967295,P=M+(N<<17&4294967295|N>>>15),N=O+(A^P&(M^A))+L[15]+1236535329&4294967295,O=P+(N<<22&4294967295|N>>>10),N=A+(P^M&(O^P))+L[1]+4129170786&4294967295,A=O+(N<<5&4294967295|N>>>27),N=M+(O^P&(A^O))+L[6]+3225465664&4294967295,M=A+(N<<9&4294967295|N>>>23),N=P+(A^O&(M^A))+L[11]+643717713&4294967295,P=M+(N<<14&4294967295|N>>>18),N=O+(M^A&(P^M))+L[0]+3921069994&4294967295,O=P+(N<<20&4294967295|N>>>12),N=A+(P^M&(O^P))+L[5]+3593408605&4294967295,A=O+(N<<5&4294967295|N>>>27),N=M+(O^P&(A^O))+L[10]+38016083&4294967295,M=A+(N<<9&4294967295|N>>>23),N=P+(A^O&(M^A))+L[15]+3634488961&4294967295,P=M+(N<<14&4294967295|N>>>18),N=O+(M^A&(P^M))+L[4]+3889429448&4294967295,O=P+(N<<20&4294967295|N>>>12),N=A+(P^M&(O^P))+L[9]+568446438&4294967295,A=O+(N<<5&4294967295|N>>>27),N=M+(O^P&(A^O))+L[14]+3275163606&4294967295,M=A+(N<<9&4294967295|N>>>23),N=P+(A^O&(M^A))+L[3]+4107603335&4294967295,P=M+(N<<14&4294967295|N>>>18),N=O+(M^A&(P^M))+L[8]+1163531501&4294967295,O=P+(N<<20&4294967295|N>>>12),N=A+(P^M&(O^P))+L[13]+2850285829&4294967295,A=O+(N<<5&4294967295|N>>>27),N=M+(O^P&(A^O))+L[2]+4243563512&4294967295,M=A+(N<<9&4294967295|N>>>23),N=P+(A^O&(M^A))+L[7]+1735328473&4294967295,P=M+(N<<14&4294967295|N>>>18),N=O+(M^A&(P^M))+L[12]+2368359562&4294967295,O=P+(N<<20&4294967295|N>>>12),N=A+(O^P^M)+L[5]+4294588738&4294967295,A=O+(N<<4&4294967295|N>>>28),N=M+(A^O^P)+L[8]+2272392833&4294967295,M=A+(N<<11&4294967295|N>>>21),N=P+(M^A^O)+L[11]+1839030562&4294967295,P=M+(N<<16&4294967295|N>>>16),N=O+(P^M^A)+L[14]+4259657740&4294967295,O=P+(N<<23&4294967295|N>>>9),N=A+(O^P^M)+L[1]+2763975236&4294967295,A=O+(N<<4&4294967295|N>>>28),N=M+(A^O^P)+L[4]+1272893353&4294967295,M=A+(N<<11&4294967295|N>>>21),N=P+(M^A^O)+L[7]+4139469664&4294967295,P=M+(N<<16&4294967295|N>>>16),N=O+(P^M^A)+L[10]+3200236656&4294967295,O=P+(N<<23&4294967295|N>>>9),N=A+(O^P^M)+L[13]+681279174&4294967295,A=O+(N<<4&4294967295|N>>>28),N=M+(A^O^P)+L[0]+3936430074&4294967295,M=A+(N<<11&4294967295|N>>>21),N=P+(M^A^O)+L[3]+3572445317&4294967295,P=M+(N<<16&4294967295|N>>>16),N=O+(P^M^A)+L[6]+76029189&4294967295,O=P+(N<<23&4294967295|N>>>9),N=A+(O^P^M)+L[9]+3654602809&4294967295,A=O+(N<<4&4294967295|N>>>28),N=M+(A^O^P)+L[12]+3873151461&4294967295,M=A+(N<<11&4294967295|N>>>21),N=P+(M^A^O)+L[15]+530742520&4294967295,P=M+(N<<16&4294967295|N>>>16),N=O+(P^M^A)+L[2]+3299628645&4294967295,O=P+(N<<23&4294967295|N>>>9),N=A+(P^(O|~M))+L[0]+4096336452&4294967295,A=O+(N<<6&4294967295|N>>>26),N=M+(O^(A|~P))+L[7]+1126891415&4294967295,M=A+(N<<10&4294967295|N>>>22),N=P+(A^(M|~O))+L[14]+2878612391&4294967295,P=M+(N<<15&4294967295|N>>>17),N=O+(M^(P|~A))+L[5]+4237533241&4294967295,O=P+(N<<21&4294967295|N>>>11),N=A+(P^(O|~M))+L[12]+1700485571&4294967295,A=O+(N<<6&4294967295|N>>>26),N=M+(O^(A|~P))+L[3]+2399980690&4294967295,M=A+(N<<10&4294967295|N>>>22),N=P+(A^(M|~O))+L[10]+4293915773&4294967295,P=M+(N<<15&4294967295|N>>>17),N=O+(M^(P|~A))+L[1]+2240044497&4294967295,O=P+(N<<21&4294967295|N>>>11),N=A+(P^(O|~M))+L[8]+1873313359&4294967295,A=O+(N<<6&4294967295|N>>>26),N=M+(O^(A|~P))+L[15]+4264355552&4294967295,M=A+(N<<10&4294967295|N>>>22),N=P+(A^(M|~O))+L[6]+2734768916&4294967295,P=M+(N<<15&4294967295|N>>>17),N=O+(M^(P|~A))+L[13]+1309151649&4294967295,O=P+(N<<21&4294967295|N>>>11),N=A+(P^(O|~M))+L[4]+4149444226&4294967295,A=O+(N<<6&4294967295|N>>>26),N=M+(O^(A|~P))+L[11]+3174756917&4294967295,M=A+(N<<10&4294967295|N>>>22),N=P+(A^(M|~O))+L[2]+718787259&4294967295,P=M+(N<<15&4294967295|N>>>17),N=O+(M^(P|~A))+L[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(P+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+P&4294967295,R.g[3]=R.g[3]+M&4294967295}i.prototype.v=function(R,A){A===void 0&&(A=R.length);const O=A-this.blockSize,L=this.C;let P=this.h,M=0;for(;M<A;){if(P==0)for(;M<=O;)a(this,R,M),M+=this.blockSize;if(typeof R=="string"){for(;M<A;)if(L[P++]=R.charCodeAt(M++),P==this.blockSize){a(this,L),P=0;break}}else for(;M<A;)if(L[P++]=R[M++],P==this.blockSize){a(this,L),P=0;break}}this.h=P,this.o+=A},i.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var O=R.length-8;O<R.length;++O)R[O]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,O=0;O<4;++O)for(let L=0;L<32;L+=8)R[A++]=this.g[O]>>>L&255;return R};function l(R,A){var O=h;return Object.prototype.hasOwnProperty.call(O,R)?O[R]:O[R]=A(R)}function u(R,A){this.h=A;const O=[];let L=!0;for(let P=R.length-1;P>=0;P--){const M=R[P]|0;L&&M==A||(O[P]=M,L=!1)}this.g=O}var h={};function p(R){return-128<=R&&R<128?l(R,function(A){return new u([A|0],A<0?-1:0)}):new u([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return v;if(R<0)return V(g(-R));const A=[];let O=1;for(let L=0;R>=O;L++)A[L]=R/O|0,O*=4294967296;return new u(A,0)}function y(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return V(y(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=g(Math.pow(A,8));let L=v;for(let M=0;M<R.length;M+=8){var P=Math.min(8,R.length-M);const N=parseInt(R.substring(M,M+P),A);P<8?(P=g(Math.pow(A,P)),L=L.j(P).add(g(N))):(L=L.j(O),L=L.add(g(N)))}return L}var v=p(0),T=p(1),S=p(16777216);t=u.prototype,t.m=function(){if(D(this))return-V(this).m();let R=0,A=1;for(let O=0;O<this.g.length;O++){const L=this.i(O);R+=(L>=0?L:4294967296+L)*A,A*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I(this))return"0";if(D(this))return"-"+V(this).toString(R);const A=g(Math.pow(R,6));var O=this;let L="";for(;;){const P=G(O,A).g;O=U(O,P.j(A));let M=((O.g.length>0?O.g[0]:O.h)>>>0).toString(R);if(O=P,I(O))return M+L;for(;M.length<6;)M="0"+M;L=M+L}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function I(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function D(R){return R.h==-1}t.l=function(R){return R=U(this,R),D(R)?-1:I(R)?0:1};function V(R){const A=R.g.length,O=[];for(let L=0;L<A;L++)O[L]=~R.g[L];return new u(O,~R.h).add(T)}t.abs=function(){return D(this)?V(this):this},t.add=function(R){const A=Math.max(this.g.length,R.g.length),O=[];let L=0;for(let P=0;P<=A;P++){let M=L+(this.i(P)&65535)+(R.i(P)&65535),N=(M>>>16)+(this.i(P)>>>16)+(R.i(P)>>>16);L=N>>>16,M&=65535,N&=65535,O[P]=N<<16|M}return new u(O,O[O.length-1]&-2147483648?-1:0)};function U(R,A){return R.add(V(A))}t.j=function(R){if(I(this)||I(R))return v;if(D(this))return D(R)?V(this).j(V(R)):V(V(this).j(R));if(D(R))return V(this.j(V(R)));if(this.l(S)<0&&R.l(S)<0)return g(this.m()*R.m());const A=this.g.length+R.g.length,O=[];for(var L=0;L<2*A;L++)O[L]=0;for(L=0;L<this.g.length;L++)for(let P=0;P<R.g.length;P++){const M=this.i(L)>>>16,N=this.i(L)&65535,ne=R.i(P)>>>16,de=R.i(P)&65535;O[2*L+2*P]+=N*de,B(O,2*L+2*P),O[2*L+2*P+1]+=M*de,B(O,2*L+2*P+1),O[2*L+2*P+1]+=N*ne,B(O,2*L+2*P+1),O[2*L+2*P+2]+=M*ne,B(O,2*L+2*P+2)}for(R=0;R<A;R++)O[R]=O[2*R+1]<<16|O[2*R];for(R=A;R<2*A;R++)O[R]=0;return new u(O,0)};function B(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function K(R,A){this.g=R,this.h=A}function G(R,A){if(I(A))throw Error("division by zero");if(I(R))return new K(v,v);if(D(R))return A=G(V(R),A),new K(V(A.g),V(A.h));if(D(A))return A=G(R,V(A)),new K(V(A.g),A.h);if(R.g.length>30){if(D(R)||D(A))throw Error("slowDivide_ only works with positive integers.");for(var O=T,L=A;L.l(R)<=0;)O=$(O),L=$(L);var P=Z(O,1),M=Z(L,1);for(L=Z(L,2),O=Z(O,2);!I(L);){var N=M.add(L);N.l(R)<=0&&(P=P.add(O),M=N),L=Z(L,1),O=Z(O,1)}return A=U(R,P.j(A)),new K(P,A)}for(P=v;R.l(A)>=0;){for(O=Math.max(1,Math.floor(R.m()/A.m())),L=Math.ceil(Math.log(O)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),M=g(O),N=M.j(A);D(N)||N.l(R)>0;)O-=L,M=g(O),N=M.j(A);I(M)&&(M=T),P=P.add(M),R=U(R,N)}return new K(P,R)}t.B=function(R){return G(this,R).h},t.and=function(R){const A=Math.max(this.g.length,R.g.length),O=[];for(let L=0;L<A;L++)O[L]=this.i(L)&R.i(L);return new u(O,this.h&R.h)},t.or=function(R){const A=Math.max(this.g.length,R.g.length),O=[];for(let L=0;L<A;L++)O[L]=this.i(L)|R.i(L);return new u(O,this.h|R.h)},t.xor=function(R){const A=Math.max(this.g.length,R.g.length),O=[];for(let L=0;L<A;L++)O[L]=this.i(L)^R.i(L);return new u(O,this.h^R.h)};function $(R){const A=R.g.length+1,O=[];for(let L=0;L<A;L++)O[L]=R.i(L)<<1|R.i(L-1)>>>31;return new u(O,R.h)}function Z(R,A){const O=A>>5;A%=32;const L=R.g.length-O,P=[];for(let M=0;M<L;M++)P[M]=A>0?R.i(M+O)>>>A|R.i(M+O+1)<<32-A:R.i(M+O);return new u(P,R.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,uS=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=y,ma=u}).apply(typeof $E<"u"?$E:typeof self<"u"?self:typeof window<"u"?window:{});var Sd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fS,nu,dS,Vd,Kg,hS,pS,mS;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sd=="object"&&Sd];for(var b=0;b<f.length;++b){var w=f[b];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=n(this);function a(f,b){if(b)e:{var w=i;f=f.split(".");for(var C=0;C<f.length-1;C++){var Y=f[C];if(!(Y in w))break e;w=w[Y]}f=f[f.length-1],C=w[f],b=b(C),b!=C&&b!=null&&e(w,f,{configurable:!0,writable:!0,value:b})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(b){var w=[],C;for(C in b)Object.prototype.hasOwnProperty.call(b,C)&&w.push([C,b[C]]);return w}});var l=l||{},u=this||self;function h(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function p(f,b,w){return f.call.apply(f.bind,arguments)}function g(f,b,w){return g=p,g.apply(null,arguments)}function y(f,b){var w=Array.prototype.slice.call(arguments,1);return function(){var C=w.slice();return C.push.apply(C,arguments),f.apply(this,C)}}function v(f,b){function w(){}w.prototype=b.prototype,f.Z=b.prototype,f.prototype=new w,f.prototype.constructor=f,f.Ob=function(C,Y,ee){for(var ye=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)ye[Fe-2]=arguments[Fe];return b.prototype[Y].apply(C,ye)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function S(f){const b=f.length;if(b>0){const w=Array(b);for(let C=0;C<b;C++)w[C]=f[C];return w}return[]}function I(f,b){for(let C=1;C<arguments.length;C++){const Y=arguments[C];var w=typeof Y;if(w=w!="object"?w:Y?Array.isArray(Y)?"array":w:"null",w=="array"||w=="object"&&typeof Y.length=="number"){w=f.length||0;const ee=Y.length||0;f.length=w+ee;for(let ye=0;ye<ee;ye++)f[w+ye]=Y[ye]}else f.push(Y)}}class D{constructor(b,w){this.i=b,this.j=w,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function V(f){u.setTimeout(()=>{throw f},0)}function U(){var f=R;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class B{constructor(){this.h=this.g=null}add(b,w){const C=K.get();C.set(b,w),this.h?this.h.next=C:this.g=C,this.h=C}}var K=new D(()=>new G,f=>f.reset());class G{constructor(){this.next=this.g=this.h=null}set(b,w){this.h=b,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let $,Z=!1,R=new B,A=()=>{const f=Promise.resolve(void 0);$=()=>{f.then(O)}};function O(){for(var f;f=U();){try{f.h.call(f.g)}catch(w){V(w)}var b=K;b.j(f),b.h<100&&(b.h++,f.next=b.g,b.g=f)}Z=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const w=()=>{};u.addEventListener("test",w,b),u.removeEventListener("test",w,b)}catch{}return f})();function N(f){return/^[\s\xa0]*$/.test(f)}function ne(f,b){P.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,b)}v(ne,P),ne.prototype.init=function(f,b){const w=this.type=f.type,C=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget,b||(w=="mouseover"?b=f.fromElement:w=="mouseout"&&(b=f.toElement)),this.relatedTarget=b,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),q=0;function re(f,b,w,C,Y){this.listener=f,this.proxy=null,this.src=b,this.type=w,this.capture=!!C,this.ha=Y,this.key=++q,this.da=this.fa=!1}function he(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function pe(f,b,w){for(const C in f)b.call(w,f[C],C,f)}function ve(f,b){for(const w in f)b.call(void 0,f[w],w,f)}function j(f){const b={};for(const w in f)b[w]=f[w];return b}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fe(f,b){let w,C;for(let Y=1;Y<arguments.length;Y++){C=arguments[Y];for(w in C)f[w]=C[w];for(let ee=0;ee<J.length;ee++)w=J[ee],Object.prototype.hasOwnProperty.call(C,w)&&(f[w]=C[w])}}function me(f){this.src=f,this.g={},this.h=0}me.prototype.add=function(f,b,w,C,Y){const ee=f.toString();f=this.g[ee],f||(f=this.g[ee]=[],this.h++);const ye=Se(f,b,C,Y);return ye>-1?(b=f[ye],w||(b.fa=!1)):(b=new re(b,this.src,ee,!!C,Y),b.fa=w,f.push(b)),b};function Ce(f,b){const w=b.type;if(w in f.g){var C=f.g[w],Y=Array.prototype.indexOf.call(C,b,void 0),ee;(ee=Y>=0)&&Array.prototype.splice.call(C,Y,1),ee&&(he(b),f.g[w].length==0&&(delete f.g[w],f.h--))}}function Se(f,b,w,C){for(let Y=0;Y<f.length;++Y){const ee=f[Y];if(!ee.da&&ee.listener==b&&ee.capture==!!w&&ee.ha==C)return Y}return-1}var je="closure_lm_"+(Math.random()*1e6|0),Qe={};function Me(f,b,w,C,Y){if(Array.isArray(b)){for(let ee=0;ee<b.length;ee++)Me(f,b[ee],w,C,Y);return null}return w=Yr(w),f&&f[de]?f.J(b,w,h(C)?!!C.capture:!1,Y):ke(f,b,w,!1,C,Y)}function ke(f,b,w,C,Y,ee){if(!b)throw Error("Invalid event type");const ye=h(Y)?!!Y.capture:!!Y;let Fe=It(f);if(Fe||(f[je]=Fe=new me(f)),w=Fe.add(b,w,C,ye,ee),w.proxy)return w;if(C=Ze(),w.proxy=C,C.src=f,C.listener=w,f.addEventListener)M||(Y=ye),Y===void 0&&(Y=!1),f.addEventListener(b.toString(),C,Y);else if(f.attachEvent)f.attachEvent(xt(b.toString()),C);else if(f.addListener&&f.removeListener)f.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Ze(){function f(w){return b.call(f.src,f.listener,w)}const b=er;return f}function Ge(f,b,w,C,Y){if(Array.isArray(b))for(var ee=0;ee<b.length;ee++)Ge(f,b[ee],w,C,Y);else C=h(C)?!!C.capture:!!C,w=Yr(w),f&&f[de]?(f=f.i,ee=String(b).toString(),ee in f.g&&(b=f.g[ee],w=Se(b,w,C,Y),w>-1&&(he(b[w]),Array.prototype.splice.call(b,w,1),b.length==0&&(delete f.g[ee],f.h--)))):f&&(f=It(f))&&(b=f.g[b.toString()],f=-1,b&&(f=Se(b,w,C,Y)),(w=f>-1?b[f]:null)&&Jt(w))}function Jt(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[de])Ce(b.i,f);else{var w=f.type,C=f.proxy;b.removeEventListener?b.removeEventListener(w,C,f.capture):b.detachEvent?b.detachEvent(xt(w),C):b.addListener&&b.removeListener&&b.removeListener(C),(w=It(b))?(Ce(w,f),w.h==0&&(w.src=null,b[je]=null)):he(f)}}}function xt(f){return f in Qe?Qe[f]:Qe[f]="on"+f}function er(f,b){if(f.da)f=!0;else{b=new ne(b,this);const w=f.listener,C=f.ha||f.src;f.fa&&Jt(f),f=w.call(C,b)}return f}function It(f){return f=f[je],f instanceof me?f:null}var xn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Yr(f){return typeof f=="function"?f:(f[xn]||(f[xn]=function(b){return f.handleEvent(b)}),f[xn])}function Rt(){L.call(this),this.i=new me(this),this.M=this,this.G=null}v(Rt,L),Rt.prototype[de]=!0,Rt.prototype.removeEventListener=function(f,b,w,C){Ge(this,f,b,w,C)};function ht(f,b){var w,C=f.G;if(C)for(w=[];C;C=C.G)w.push(C);if(f=f.M,C=b.type||b,typeof b=="string")b=new P(b,f);else if(b instanceof P)b.target=b.target||f;else{var Y=b;b=new P(C,f),fe(b,Y)}Y=!0;let ee,ye;if(w)for(ye=w.length-1;ye>=0;ye--)ee=b.g=w[ye],Y=Gn(ee,C,!0,b)&&Y;if(ee=b.g=f,Y=Gn(ee,C,!0,b)&&Y,Y=Gn(ee,C,!1,b)&&Y,w)for(ye=0;ye<w.length;ye++)ee=b.g=w[ye],Y=Gn(ee,C,!1,b)&&Y}Rt.prototype.N=function(){if(Rt.Z.N.call(this),this.i){var f=this.i;for(const b in f.g){const w=f.g[b];for(let C=0;C<w.length;C++)he(w[C]);delete f.g[b],f.h--}}this.G=null},Rt.prototype.J=function(f,b,w,C){return this.i.add(String(f),b,!1,w,C)},Rt.prototype.K=function(f,b,w,C){return this.i.add(String(f),b,!0,w,C)};function Gn(f,b,w,C){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();let Y=!0;for(let ee=0;ee<b.length;++ee){const ye=b[ee];if(ye&&!ye.da&&ye.capture==w){const Fe=ye.listener,Yt=ye.ha||ye.src;ye.fa&&Ce(f.i,ye),Y=Fe.call(Yt,C)!==!1&&Y}}return Y&&!C.defaultPrevented}function Kr(f,b){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=g(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:u.setTimeout(f,b||0)}function fi(f){f.g=Kr(()=>{f.g=null,f.i&&(f.i=!1,fi(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class Zt extends L{constructor(b,w){super(),this.m=b,this.l=w,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:fi(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yn(f){L.call(this),this.h=f,this.g={}}v(Yn,L);var di=[];function hn(f){pe(f.g,function(b,w){this.g.hasOwnProperty(w)&&Jt(b)},f),f.g={}}Yn.prototype.N=function(){Yn.Z.N.call(this),hn(this)},Yn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pn=u.JSON.stringify,Cr=u.JSON.parse,hi=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function ce(){}function At(){}var ze={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ke(){P.call(this,"d")}v(Ke,P);function en(){P.call(this,"c")}v(en,P);var gt={},bo=null;function Qi(){return bo=bo||new Rt}gt.Ia="serverreachability";function _o(f){P.call(this,gt.Ia,f)}v(_o,P);function Rr(f){const b=Qi();ht(b,new _o(b))}gt.STAT_EVENT="statevent";function $i(f,b){P.call(this,gt.STAT_EVENT,f),this.stat=b}v($i,P);function $e(f){const b=Qi();ht(b,new $i(b,f))}gt.Ja="timingevent";function Pt(f,b){P.call(this,gt.Ja,f),this.size=b}v(Pt,P);function jt(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},b)}function tn(){this.g=!0}tn.prototype.ua=function(){this.g=!1};function Pn(f,b,w,C,Y,ee){f.info(function(){if(f.g)if(ee){var ye="",Fe=ee.split("&");for(let ft=0;ft<Fe.length;ft++){var Yt=Fe[ft].split("=");if(Yt.length>1){const zt=Yt[0];Yt=Yt[1];const Dr=zt.split("_");ye=Dr.length>=2&&Dr[1]=="type"?ye+(zt+"="+Yt+"&"):ye+(zt+"=redacted&")}}}else ye=null;else ye=ee;return"XMLHTTP REQ ("+C+") [attempt "+Y+"]: "+b+`
`+w+`
`+ye})}function vn(f,b,w,C,Y,ee,ye){f.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+Y+"]: "+b+`
`+w+`
`+ee+" "+ye})}function Ht(f,b,w,C){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+Gt(f,w)+(C?" "+C:"")})}function tr(f,b){f.info(function(){return"TIMEOUT: "+b})}tn.prototype.info=function(){};function Gt(f,b){if(!f.g)return b;if(!b)return null;try{const ee=JSON.parse(b);if(ee){for(f=0;f<ee.length;f++)if(Array.isArray(ee[f])){var w=ee[f];if(!(w.length<2)){var C=w[1];if(Array.isArray(C)&&!(C.length<1)){var Y=C[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let ye=1;ye<C.length;ye++)C[ye]=""}}}}return pn(ee)}catch{return b}}var jn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},zn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Kn;function pr(){}v(pr,ce),pr.prototype.g=function(){return new XMLHttpRequest},Kn=new pr;function Wn(f){return encodeURIComponent(String(f))}function mr(f){var b=1;f=f.split(":");const w=[];for(;b>0&&f.length;)w.push(f.shift()),b--;return f.length&&w.push(f.join(":")),w}function An(f,b,w,C){this.j=f,this.i=b,this.l=w,this.S=C||1,this.V=new Yn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qn}function Qn(){this.i=null,this.g="",this.h=!1}var nn={},bn={};function pi(f,b,w){f.M=1,f.A=Ra(sn(b)),f.u=w,f.R=!0,Eo(f,null)}function Eo(f,b){f.F=Date.now(),mi(f),f.B=sn(f.A);var w=f.B,C=f.S;Array.isArray(C)||(C=[String(C)]),xo(w.i,"t",C),f.C=0,w=f.j.L,f.h=new Qn,f.g=gf(f.j,w?b:null,!f.u),f.P>0&&(f.O=new Zt(g(f.Y,f,f.g),f.P)),b=f.V,w=f.g,C=f.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(di[0]=Y.toString()),Y=di);for(let ee=0;ee<Y.length;ee++){const ye=Me(w,Y[ee],C||b.handleEvent,!1,b.h||b);if(!ye)break;b.g[ye.key]=ye}b=f.J?j(f.J):{},f.u?(f.v||(f.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,b)):(f.v="GET",f.g.ea(f.B,f.v,null,b)),Rr(),Pn(f.i,f.v,f.B,f.l,f.S,f.u)}An.prototype.ba=function(f){f=f.target;const b=this.O;b&&$r(f)==3?b.j():this.Y(f)},An.prototype.Y=function(f){try{if(f==this.g)e:{const Fe=$r(this.g),Yt=this.g.ya(),ft=this.g.ca();if(!(Fe<3)&&(Fe!=3||this.g&&(this.h.h||this.g.la()||Cn(this.g)))){this.K||Fe!=4||Yt==7||(Yt==8||ft<=0?Rr(3):Rr(2)),gi(this);var b=this.g.ca();this.X=b;var w=tp(this);if(this.o=b==200,vn(this.i,this.v,this.B,this.l,this.S,Fe,b),this.o){if(this.U&&!this.L){t:{if(this.g){var C,Y=this.g;if((C=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(C)){var ee=C;break t}}ee=null}if(f=ee)Ht(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,yi(this,f);else{this.o=!1,this.m=3,$e(12),gr(this),Nr(this);break e}}if(this.R){f=!0;let zt;for(;!this.K&&this.C<w.length;)if(zt=nf(this,w),zt==bn){Fe==4&&(this.m=4,$e(14),f=!1),Ht(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==nn){this.m=4,$e(15),Ht(this.i,this.l,w,"[Invalid Chunk]"),f=!1;break}else Ht(this.i,this.l,zt,null),yi(this,zt);if(tf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fe!=4||w.length!=0||this.h.h||(this.m=1,$e(16),f=!1),this.o=this.o&&f,!f)Ht(this.i,this.l,w,"[Invalid Chunked Response]"),gr(this),Nr(this);else if(w.length>0&&!this.W){this.W=!0;var ye=this.j;ye.g==this&&ye.aa&&!ye.P&&(ye.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),lc(ye),ye.P=!0,$e(11))}}else Ht(this.i,this.l,w,null),yi(this,w);Fe==4&&gr(this),this.o&&!this.K&&(Fe==4?df(this.j,this):(this.o=!1,mi(this)))}else Ji(this.g),b==400&&w.indexOf("Unknown SID")>0?(this.m=3,$e(12)):(this.m=0,$e(13)),gr(this),Nr(this)}}}catch{}};function tp(f){if(!tf(f))return f.g.la();const b=Cn(f.g);if(b==="")return"";let w="";const C=b.length,Y=$r(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return gr(f),Nr(f),"";f.h.i=new u.TextDecoder}for(let ee=0;ee<C;ee++)f.h.h=!0,w+=f.h.i.decode(b[ee],{stream:!(Y&&ee==C-1)});return b.length=0,f.h.g+=w,f.C=0,f.h.g}function tf(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function nf(f,b){var w=f.C,C=b.indexOf(`
`,w);return C==-1?bn:(w=Number(b.substring(w,C)),isNaN(w)?nn:(C+=1,C+w>b.length?bn:(b=b.slice(C,C+w),f.C=C+w,b)))}An.prototype.cancel=function(){this.K=!0,gr(this)};function mi(f){f.T=Date.now()+f.H,wo(f,f.H)}function wo(f,b){if(f.D!=null)throw Error("WatchDog timer not null");f.D=jt(g(f.aa,f),b)}function gi(f){f.D&&(u.clearTimeout(f.D),f.D=null)}An.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(tr(this.i,this.B),this.M!=2&&(Rr(),$e(17)),gr(this),this.m=2,Nr(this)):wo(this,this.T-f)};function Nr(f){f.j.I==0||f.K||df(f.j,f)}function gr(f){gi(f);var b=f.O;b&&typeof b.dispose=="function"&&b.dispose(),f.O=null,hn(f.V),f.g&&(b=f.g,f.g=null,b.abort(),b.dispose())}function yi(f,b){try{var w=f.j;if(w.I!=0&&(w.g==f||bi(w.h,f))){if(!f.L&&bi(w.h,f)&&w.I==3){try{var C=w.Ba.g.parse(b)}catch{C=null}if(Array.isArray(C)&&C.length==3){var Y=C;if(Y[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<f.F)Io(w),Ds(w);else break e;Pa(w),$e(18)}}else w.xa=Y[1],0<w.xa-w.K&&Y[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=jt(g(w.Va,w),6e3));vi(w.h)<=1&&w.ta&&(w.ta=void 0)}else xi(w,11)}else if((f.L||w.g==f)&&Io(w),!N(b))for(Y=w.Ba.g.parse(b),b=0;b<Y.length;b++){let ft=Y[b];const zt=ft[0];if(!(zt<=w.K))if(w.K=zt,ft=ft[1],w.I==2)if(ft[0]=="c"){w.M=ft[1],w.ba=ft[2];const Dr=ft[3];Dr!=null&&(w.ka=Dr,w.j.info("VER="+w.ka));const Ai=ft[4];Ai!=null&&(w.za=Ai,w.j.info("SVER="+w.za));const Xr=ft[5];Xr!=null&&typeof Xr=="number"&&Xr>0&&(C=1.5*Xr,w.O=C,w.j.info("backChannelRequestTimeoutMs_="+C)),C=w;const Jr=f.g;if(Jr){const ja=Jr.g?Jr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ja){var ee=C.h;ee.g||ja.indexOf("spdy")==-1&&ja.indexOf("quic")==-1&&ja.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&($l(ee,ee.h),ee.h=null))}if(C.G){const Oo=Jr.g?Jr.g.getResponseHeader("X-HTTP-Session-Id"):null;Oo&&(C.wa=Oo,yt(C.J,C.G,Oo))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-f.F,w.j.info("Handshake RTT: "+w.T+"ms")),C=w;var ye=f;if(C.na=mf(C,C.L?C.ba:null,C.W),ye.L){Xl(C.h,ye);var Fe=ye,Yt=C.O;Yt&&(Fe.H=Yt),Fe.D&&(gi(Fe),mi(Fe)),C.g=ye}else uf(C);w.i.length>0&&Si(w)}else ft[0]!="stop"&&ft[0]!="close"||xi(w,7);else w.I==3&&(ft[0]=="stop"||ft[0]=="close"?ft[0]=="stop"?xi(w,7):ac(w):ft[0]!="noop"&&w.l&&w.l.qa(ft),w.A=0)}}Rr(4)}catch{}}var rn=class{constructor(f,b){this.g=f,this.map=b}};function Wl(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ql(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function vi(f){return f.h?1:f.g?f.g.size:0}function bi(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function $l(f,b){f.g?f.g.add(b):f.h=b}function Xl(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}Wl.prototype.cancel=function(){if(this.i=Jl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Jl(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const w of f.g.values())b=b.concat(w.G);return b}return S(f.i)}var rf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function To(f,b){if(f){f=f.split("&");for(let w=0;w<f.length;w++){const C=f[w].indexOf("=");let Y,ee=null;C>=0?(Y=f[w].substring(0,C),ee=f[w].substring(C+1)):Y=f[w],b(Y,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function yr(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;f instanceof yr?(this.l=f.l,_n(this,f.j),this.o=f.o,this.g=f.g,xs(this,f.u),this.h=f.h,Zl(this,lf(f.i)),this.m=f.m):f&&(b=String(f).match(rf))?(this.l=!1,_n(this,b[1]||"",!0),this.o=_i(b[2]||""),this.g=_i(b[3]||"",!0),xs(this,b[4]),this.h=_i(b[5]||"",!0),Zl(this,b[6]||"",!0),this.m=_i(b[7]||"")):(this.l=!1,this.i=new Cs(null,this.l))}yr.prototype.toString=function(){const f=[];var b=this.j;b&&f.push(Na(b,So,!0),":");var w=this.g;return(w||b=="file")&&(f.push("//"),(b=this.o)&&f.push(Na(b,So,!0),"@"),f.push(Wn(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&f.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&f.push("/"),f.push(Na(w,w.charAt(0)=="/"?ec:sf,!0))),(w=this.i.toString())&&f.push("?",w),(w=this.m)&&f.push("#",Na(w,af)),f.join("")},yr.prototype.resolve=function(f){const b=sn(this);let w=!!f.j;w?_n(b,f.j):w=!!f.o,w?b.o=f.o:w=!!f.g,w?b.g=f.g:w=f.u!=null;var C=f.h;if(w)xs(b,f.u);else if(w=!!f.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var Y=b.h.lastIndexOf("/");Y!=-1&&(C=b.h.slice(0,Y+1)+C)}if(Y=C,Y==".."||Y==".")C="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){C=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const ee=[];for(let ye=0;ye<Y.length;){const Fe=Y[ye++];Fe=="."?C&&ye==Y.length&&ee.push(""):Fe==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),C&&ye==Y.length&&ee.push("")):(ee.push(Fe),C=!0)}C=ee.join("/")}else C=Y}return w?b.h=C:w=f.i.toString()!=="",w?Zl(b,lf(f.i)):w=!!f.m,w&&(b.m=f.m),b};function sn(f){return new yr(f)}function _n(f,b,w){f.j=w?_i(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function xs(f,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);f.u=b}else f.u=null}function Zl(f,b,w){b instanceof Cs?(f.i=b,Ao(f.i,f.l)):(w||(b=Na(b,As)),f.i=new Cs(b,f.l))}function yt(f,b,w){f.i.set(b,w)}function Ra(f){return yt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function _i(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Na(f,b,w){return typeof f=="string"?(f=encodeURI(f).replace(b,nr),w&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function nr(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var So=/[#\/\?@]/g,sf=/[#\?:]/g,ec=/[#\?]/g,As=/[#\?@]/g,af=/#/g;function Cs(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function rr(f){f.g||(f.g=new Map,f.h=0,f.i&&To(f.i,function(b,w){f.add(decodeURIComponent(b.replace(/\+/g," ")),w)}))}t=Cs.prototype,t.add=function(f,b){rr(this),this.i=null,f=Rs(this,f);let w=this.g.get(f);return w||this.g.set(f,w=[]),w.push(b),this.h+=1,this};function of(f,b){rr(f),b=Rs(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function tc(f,b){return rr(f),b=Rs(f,b),f.g.has(b)}t.forEach=function(f,b){rr(this),this.g.forEach(function(w,C){w.forEach(function(Y){f.call(b,Y,C,this)},this)},this)};function nc(f,b){rr(f);let w=[];if(typeof b=="string")tc(f,b)&&(w=w.concat(f.g.get(Rs(f,b))));else for(f=Array.from(f.g.values()),b=0;b<f.length;b++)w=w.concat(f[b]);return w}t.set=function(f,b){return rr(this),this.i=null,f=Rs(this,f),tc(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},t.get=function(f,b){return f?(f=nc(this,f),f.length>0?String(f[0]):b):b};function xo(f,b,w){of(f,b),w.length>0&&(f.i=null,f.g.set(Rs(f,b),S(w)),f.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(let C=0;C<b.length;C++){var w=b[C];const Y=Wn(w);w=nc(this,w);for(let ee=0;ee<w.length;ee++){let ye=Y;w[ee]!==""&&(ye+="="+Wn(w[ee])),f.push(ye)}}return this.i=f.join("&")};function lf(f){const b=new Cs;return b.i=f.i,f.g&&(b.g=new Map(f.g),b.h=f.h),b}function Rs(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function Ao(f,b){b&&!f.j&&(rr(f),f.i=null,f.g.forEach(function(w,C){const Y=C.toLowerCase();C!=Y&&(of(this,C),xo(this,Y,w))},f)),f.j=b}function Wr(f,b){const w=new tn;if(u.Image){const C=new Image;C.onload=y(Ir,w,"TestLoadImage: loaded",!0,b,C),C.onerror=y(Ir,w,"TestLoadImage: error",!1,b,C),C.onabort=y(Ir,w,"TestLoadImage: abort",!1,b,C),C.ontimeout=y(Ir,w,"TestLoadImage: timeout",!1,b,C),u.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=f}else b(!1)}function rc(f,b){const w=new tn,C=new AbortController,Y=setTimeout(()=>{C.abort(),Ir(w,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:C.signal}).then(ee=>{clearTimeout(Y),ee.ok?Ir(w,"TestPingServer: ok",!0,b):Ir(w,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Y),Ir(w,"TestPingServer: error",!1,b)})}function Ir(f,b,w,C,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),C(w)}catch{}}function Ns(){this.g=new hi}function Ei(f){this.i=f.Sb||null,this.h=f.ab||!1}v(Ei,ce),Ei.prototype.g=function(){return new Ia(this.i,this.h)};function Ia(f,b){Rt.call(this),this.H=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Ia,Rt),t=Ia.prototype,t.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=b,this.readyState=1,Qr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(b.body=f),(this.H||u).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Is(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Qr(this)),this.g&&(this.readyState=3,Qr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Co(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Co(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?Is(this):Qr(this),this.readyState==3&&Co(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,Is(this))},t.Na=function(f){this.g&&(this.response=f,Is(this))},t.ga=function(){this.g&&Is(this)};function Is(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Qr(f)}t.setRequestHeader=function(f,b){this.A.append(f,b)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var w=b.next();!w.done;)w=w.value,f.push(w[0]+": "+w[1]),w=b.next();return f.join(`\r
`)};function Qr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ia.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Or(f){let b="";return pe(f,function(w,C){b+=C,b+=":",b+=w,b+=`\r
`}),b}function Oa(f,b,w){e:{for(C in w){var C=!1;break e}C=!0}C||(w=Or(w),typeof f=="string"?w!=null&&Wn(w):yt(f,b,w))}function Et(f){Rt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(Et,Rt);var wi=/^https?$/i,ic=["POST","PUT"];t=Et.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,b,w,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Kn.g(),this.g.onreadystatechange=T(g(this.Ca,this));try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(ee){Da(this,ee);return}if(f=w||"",w=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var Y in C)w.set(Y,C[Y]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const ee of C.keys())w.set(ee,C.get(ee));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(w.keys()).find(ee=>ee.toLowerCase()=="content-type"),Y=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(ic,b,void 0)>=0)||C||Y||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,ye]of w)this.g.setRequestHeader(ee,ye);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(ee){Da(this,ee)}};function Da(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.o=5,sc(f),Xi(f)}function sc(f){f.A||(f.A=!0,ht(f,"complete"),ht(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,ht(this,"complete"),ht(this,"abort"),Xi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xi(this,!0)),Et.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ma(this):this.Xa())},t.Xa=function(){Ma(this)};function Ma(f){if(f.h&&typeof l<"u"){if(f.v&&$r(f)==4)setTimeout(f.Ca.bind(f),0);else if(ht(f,"readystatechange"),$r(f)==4){f.h=!1;try{const ee=f.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var w;if(!(w=b)){var C;if(C=ee===0){let ye=String(f.D).match(rf)[1]||null;!ye&&u.self&&u.self.location&&(ye=u.self.location.protocol.slice(0,-1)),C=!wi.test(ye?ye.toLowerCase():"")}w=C}if(w)ht(f,"complete"),ht(f,"success");else{f.o=6;try{var Y=$r(f)>2?f.g.statusText:""}catch{Y=""}f.l=Y+" ["+f.ca()+"]",sc(f)}}finally{Xi(f)}}}}function Xi(f,b){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const w=f.g;f.g=null,b||ht(f,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function $r(f){return f.g?f.g.readyState:0}t.ca=function(){try{return $r(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),Cr(b)}};function Cn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Ji(f){const b={};f=(f.g&&$r(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<f.length;C++){if(N(f[C]))continue;var w=mr(f[C]);const Y=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const ee=b[Y]||[];b[Y]=ee,ee.push(w)}ve(b,function(C){return C.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(f,b,w){return w&&w.internalChannelParams&&w.internalChannelParams[f]||b}function Os(f){this.za=0,this.i=[],this.j=new tn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ti("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ti("baseRetryDelayMs",5e3,f),this.Za=Ti("retryDelaySeedMs",1e4,f),this.Ta=Ti("forwardChannelMaxRetries",2,f),this.va=Ti("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Wl(f&&f.concurrentRequestLimit),this.Ba=new Ns,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Os.prototype,t.ka=8,t.I=1,t.connect=function(f,b,w,C){$e(0),this.W=f,this.H=b||{},w&&C!==void 0&&(this.H.OSID=w,this.H.OAID=C),this.F=this.X,this.J=mf(this,null,this.W),Si(this)};function ac(f){if(Ro(f),f.I==3){var b=f.V++,w=sn(f.J);if(yt(w,"SID",f.M),yt(w,"RID",b),yt(w,"TYPE","terminate"),ka(f,w),b=new An(f,f.j,b),b.M=2,b.A=Ra(sn(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(b.A.toString(),"")}catch{}!w&&u.Image&&(new Image().src=b.A,w=!0),w||(b.g=gf(b.j,null),b.g.ea(b.A)),b.F=Date.now(),mi(b)}pf(f)}function Ds(f){f.g&&(lc(f),f.g.cancel(),f.g=null)}function Ro(f){Ds(f),f.v&&(u.clearTimeout(f.v),f.v=null),Io(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function Si(f){if(!Ql(f.h)&&!f.m){f.m=!0;var b=f.Ea;$||A(),Z||($(),Z=!0),R.add(b,f),f.D=0}}function No(f,b){return vi(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=b.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=jt(g(f.Ea,f,b),hf(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const Y=new An(this,this.j,f);let ee=this.o;if(this.U&&(ee?(ee=j(ee),fe(ee,this.U)):ee=this.U),this.u!==null||this.R||(Y.J=ee,ee=null),this.S)e:{for(var b=0,w=0;w<this.i.length;w++){t:{var C=this.i[w];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(b+=C,b>4096){b=w;break e}if(b===4096||w===this.i.length-1){b=w+1;break e}}b=1e3}else b=1e3;b=cf(this,Y,b),w=sn(this.J),yt(w,"RID",f),yt(w,"CVER",22),this.G&&yt(w,"X-HTTP-Session-Id",this.G),ka(this,w),ee&&(this.R?b="headers="+Wn(Or(ee))+"&"+b:this.u&&Oa(w,this.u,ee)),$l(this.h,Y),this.Ra&&yt(w,"TYPE","init"),this.S?(yt(w,"$req",b),yt(w,"SID","null"),Y.U=!0,pi(Y,w,null)):pi(Y,w,b),this.I=2}}else this.I==3&&(f?oc(this,f):this.i.length==0||Ql(this.h)||oc(this))};function oc(f,b){var w;b?w=b.l:w=f.V++;const C=sn(f.J);yt(C,"SID",f.M),yt(C,"RID",w),yt(C,"AID",f.K),ka(f,C),f.u&&f.o&&Oa(C,f.u,f.o),w=new An(f,f.j,w,f.D+1),f.u===null&&(w.J=f.o),b&&(f.i=b.G.concat(f.i)),b=cf(f,w,1e3),w.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),$l(f.h,w),pi(w,C,b)}function ka(f,b){f.H&&pe(f.H,function(w,C){yt(b,C,w)}),f.l&&pe({},function(w,C){yt(b,C,w)})}function cf(f,b,w){w=Math.min(f.i.length,w);const C=f.l?g(f.l.Ka,f.l,f):null;e:{var Y=f.i;let Fe=-1;for(;;){const Yt=["count="+w];Fe==-1?w>0?(Fe=Y[0].g,Yt.push("ofs="+Fe)):Fe=0:Yt.push("ofs="+Fe);let ft=!0;for(let zt=0;zt<w;zt++){var ee=Y[zt].g;const Dr=Y[zt].map;if(ee-=Fe,ee<0)Fe=Math.max(0,Y[zt].g-100),ft=!1;else try{ee="req"+ee+"_"||"";try{var ye=Dr instanceof Map?Dr:Object.entries(Dr);for(const[Ai,Xr]of ye){let Jr=Xr;h(Xr)&&(Jr=pn(Xr)),Yt.push(ee+Ai+"="+encodeURIComponent(Jr))}}catch(Ai){throw Yt.push(ee+"type="+encodeURIComponent("_badmap")),Ai}}catch{C&&C(Dr)}}if(ft){ye=Yt.join("&");break e}}ye=void 0}return f=f.i.splice(0,w),b.G=f,ye}function uf(f){if(!f.g&&!f.v){f.Y=1;var b=f.Da;$||A(),Z||($(),Z=!0),R.add(b,f),f.A=0}}function Pa(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=jt(g(f.Da,f),hf(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,ff(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=jt(g(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,$e(10),Ds(this),ff(this))};function lc(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function ff(f){f.g=new An(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var b=sn(f.na);yt(b,"RID","rpc"),yt(b,"SID",f.M),yt(b,"AID",f.K),yt(b,"CI",f.F?"0":"1"),!f.F&&f.ia&&yt(b,"TO",f.ia),yt(b,"TYPE","xmlhttp"),ka(f,b),f.u&&f.o&&Oa(b,f.u,f.o),f.O&&(f.g.H=f.O);var w=f.g;f=f.ba,w.M=1,w.A=Ra(sn(b)),w.u=null,w.R=!0,Eo(w,f)}t.Va=function(){this.C!=null&&(this.C=null,Ds(this),Pa(this),$e(19))};function Io(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function df(f,b){var w=null;if(f.g==b){Io(f),lc(f),f.g=null;var C=2}else if(bi(f.h,b))w=b.G,Xl(f.h,b),C=1;else return;if(f.I!=0){if(b.o)if(C==1){w=b.u?b.u.length:0,b=Date.now()-b.F;var Y=f.D;C=Qi(),ht(C,new Pt(C,w)),Si(f)}else uf(f);else if(Y=b.m,Y==3||Y==0&&b.X>0||!(C==1&&No(f,b)||C==2&&Pa(f)))switch(w&&w.length>0&&(b=f.h,b.i=b.i.concat(w)),Y){case 1:xi(f,5);break;case 4:xi(f,10);break;case 3:xi(f,6);break;default:xi(f,2)}}}function hf(f,b){let w=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(w*=2),w*b}function xi(f,b){if(f.j.info("Error code "+b),b==2){var w=g(f.bb,f),C=f.Ua;const Y=!C;C=new yr(C||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||_n(C,"https"),Ra(C),Y?Wr(C.toString(),w):rc(C.toString(),w)}else $e(2);f.I=0,f.l&&f.l.pa(b),pf(f),Ro(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),$e(2)):(this.j.info("Failed to ping google.com"),$e(1))};function pf(f){if(f.I=0,f.ja=[],f.l){const b=Jl(f.h);(b.length!=0||f.i.length!=0)&&(I(f.ja,b),I(f.ja,f.i),f.h.i.length=0,S(f.i),f.i.length=0),f.l.oa()}}function mf(f,b,w){var C=w instanceof yr?sn(w):new yr(w);if(C.g!="")b&&(C.g=b+"."+C.g),xs(C,C.u);else{var Y=u.location;C=Y.protocol,b=b?b+"."+Y.hostname:Y.hostname,Y=+Y.port;const ee=new yr(null);C&&_n(ee,C),b&&(ee.g=b),Y&&xs(ee,Y),w&&(ee.h=w),C=ee}return w=f.G,b=f.wa,w&&b&&yt(C,w,b),yt(C,"VER",f.ka),ka(f,C),C}function gf(f,b,w){if(b&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Aa&&!f.ma?new Et(new Ei({ab:w})):new Et(f.ma),b.Fa(f.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function yf(){}t=yf.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ms(){}Ms.prototype.g=function(f,b){return new $n(f,b)};function $n(f,b){Rt.call(this),this.g=new Os(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(f?f["X-WebChannel-Client-Profile"]=b.sa:f={"X-WebChannel-Client-Profile":b.sa}),this.g.U=f,(f=b&&b.Qb)&&!N(f)&&(this.g.u=f),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!N(b)&&(this.g.G=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new Zi(this)}v($n,Rt),$n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},$n.prototype.close=function(){ac(this.g)},$n.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var w={};w.__data__=f,f=w}else this.v&&(w={},w.__data__=pn(f),f=w);b.i.push(new rn(b.Ya++,f)),b.I==3&&Si(b)},$n.prototype.N=function(){this.g.l=null,delete this.j,ac(this.g),delete this.g,$n.Z.N.call(this)};function vf(f){Ke.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const w in b){f=w;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}v(vf,Ke);function bf(){en.call(this),this.status=1}v(bf,en);function Zi(f){this.g=f}v(Zi,yf),Zi.prototype.ra=function(){ht(this.g,"a")},Zi.prototype.qa=function(f){ht(this.g,new vf(f))},Zi.prototype.pa=function(f){ht(this.g,new bf)},Zi.prototype.oa=function(){ht(this.g,"b")},Ms.prototype.createWebChannel=Ms.prototype.g,$n.prototype.send=$n.prototype.o,$n.prototype.open=$n.prototype.m,$n.prototype.close=$n.prototype.close,mS=function(){return new Ms},pS=function(){return Qi()},hS=gt,Kg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},jn.NO_ERROR=0,jn.TIMEOUT=8,jn.HTTP_ERROR=6,Vd=jn,zn.COMPLETE="complete",dS=zn,At.EventType=ze,ze.OPEN="a",ze.CLOSE="b",ze.ERROR="c",ze.MESSAGE="d",Rt.prototype.listen=Rt.prototype.J,nu=At,Et.prototype.listenOnce=Et.prototype.K,Et.prototype.getLastError=Et.prototype.Ha,Et.prototype.getLastErrorCode=Et.prototype.ya,Et.prototype.getStatus=Et.prototype.ca,Et.prototype.getResponseJson=Et.prototype.La,Et.prototype.getResponseText=Et.prototype.la,Et.prototype.send=Et.prototype.ea,Et.prototype.setWithCredentials=Et.prototype.Fa,fS=Et}).apply(typeof Sd<"u"?Sd:typeof self<"u"?self:typeof window<"u"?window:{});const XE="@firebase/firestore",JE="4.9.3";class Bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bn.UNAUTHENTICATED=new Bn(null),Bn.GOOGLE_CREDENTIALS=new Bn("google-credentials-uid"),Bn.FIRST_PARTY=new Bn("first-party-uid"),Bn.MOCK_USER=new Bn("mock-user");let jl="12.7.0";const uo=new Cy("@firebase/firestore");function ul(){return uo.logLevel}function be(t,...e){if(uo.logLevel<=nt.DEBUG){const n=e.map(Fy);uo.debug(`Firestore (${jl}): ${t}`,...n)}}function Es(t,...e){if(uo.logLevel<=nt.ERROR){const n=e.map(Fy);uo.error(`Firestore (${jl}): ${t}`,...n)}}function Tl(t,...e){if(uo.logLevel<=nt.WARN){const n=e.map(Fy);uo.warn(`Firestore (${jl}): ${t}`,...n)}}function Fy(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Pe(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,gS(t,i,n)}function gS(t,e,n){let i=`FIRESTORE (${jl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Es(i),new Error(i)}function mt(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||gS(e,a,i)}function Ue(t,e){return t}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends Ts{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class io{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class yS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Bn.UNAUTHENTICATED)))}shutdown(){}}class ZD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class eM{constructor(e){this.t=e,this.currentUser=Bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){mt(this.o===void 0,42304);let i=this.i;const a=p=>this.i!==i?(i=this.i,n(p)):Promise.resolve();let l=new io;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new io,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},h=p=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>h(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new io)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(mt(typeof i.accessToken=="string",31837,{l:i}),new yS(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return mt(e===null||typeof e=="string",2055,{h:e}),new Bn(e)}}class tM{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class nM{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new tM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Bn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ZE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ur(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){mt(this.o===void 0,3512);const i=l=>{l.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,be("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ZE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(mt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ZE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function iM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class qy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=iM(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function rt(t,e){return t<e?-1:t>e?1:0}function Wg(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),l=e.charAt(i);if(a!==l)return ug(a)===ug(l)?rt(a,l):ug(a)?1:-1}return rt(t.length,e.length)}const sM=55296,aM=57343;function ug(t){const e=t.charCodeAt(0);return e>=sM&&e<=aM}function Sl(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}const e1="__name__";class Mi{constructor(e,n,i){n===void 0?n=0:n>e.length&&Pe(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Pe(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Mi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mi?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=Mi.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return rt(e.length,n.length)}static compareSegments(e,n){const i=Mi.isNumericId(e),a=Mi.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?Mi.extractNumericId(e).compare(Mi.extractNumericId(n)):Wg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ma.fromString(e.substring(4,e.length-2))}}class Nt extends Mi{construct(e,n,i){return new Nt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ee(le.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new Nt(n)}static emptyPath(){return new Nt([])}}const oM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mn extends Mi{construct(e,n,i){return new Mn(e,n,i)}static isValidIdentifier(e){return oM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===e1}static keyField(){return new Mn([e1])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new Ee(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new Ee(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ee(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(i+=h,a++):(l(),a++)}if(l(),u)throw new Ee(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mn(n)}static emptyPath(){return new Mn([])}}class Oe{constructor(e){this.path=e}static fromPath(e){return new Oe(Nt.fromString(e))}static fromName(e){return new Oe(Nt.fromString(e).popFirst(5))}static empty(){return new Oe(Nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Oe(new Nt(e.slice()))}}function vS(t,e,n){if(!n)throw new Ee(le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function lM(t,e,n,i){if(e===!0&&i===!0)throw new Ee(le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function t1(t){if(!Oe.isDocumentKey(t))throw new Ee(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function n1(t){if(Oe.isDocumentKey(t))throw new Ee(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function bS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ih(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Pe(12329,{type:typeof t})}function Bi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ee(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ih(t);throw new Ee(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function dn(t,e){const n={typeString:t};return e&&(n.value=e),n}function ju(t,e){if(!bS(t))throw new Ee(le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const u=t[i];if(a&&typeof u!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new Ee(le.INVALID_ARGUMENT,n);return!0}const r1=-62135596800,i1=1e6;class Mt{static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*i1);return new Mt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ee(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ee(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<r1)throw new Ee(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/i1}_compareTo(e){return this.seconds===e.seconds?rt(this.nanoseconds,e.nanoseconds):rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ju(e,Mt._jsonSchema))return new Mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-r1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Mt._jsonSchemaVersion="firestore/timestamp/1.0",Mt._jsonSchema={type:dn("string",Mt._jsonSchemaVersion),seconds:dn("number"),nanoseconds:dn("number")};class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new Mt(0,0))}static max(){return new Ve(new Mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const bu=-1;function cM(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=Ve.fromTimestamp(i===1e9?new Mt(n+1,0):new Mt(n,i));return new ya(a,Oe.empty(),e)}function uM(t){return new ya(t.readTime,t.key,bu)}class ya{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new ya(Ve.min(),Oe.empty(),bu)}static max(){return new ya(Ve.max(),Oe.empty(),bu)}}function fM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Oe.comparator(t.documentKey,e.documentKey),n!==0?n:rt(t.largestBatchId,e.largestBatchId))}const dM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function zl(t){if(t.code!==le.FAILED_PRECONDITION||t.message!==dM)throw t;be("LocalStore","Unexpectedly lost primary lease")}class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ue(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ue?n:ue.resolve(n)}catch(n){return ue.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ue.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ue.reject(n)}static resolve(e){return new ue(((n,i)=>{n(e)}))}static reject(e){return new ue(((n,i)=>{i(e)}))}static waitFor(e){return new ue(((n,i)=>{let a=0,l=0,u=!1;e.forEach((h=>{++a,h.next((()=>{++l,u&&l===a&&n()}),(p=>i(p)))})),u=!0,l===a&&n()}))}static or(e){let n=ue.resolve(!1);for(const i of e)n=n.next((a=>a?ue.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,l)=>{i.push(n.call(this,a,l))})),this.waitFor(i)}static mapArray(e,n){return new ue(((i,a)=>{const l=e.length,u=new Array(l);let h=0;for(let p=0;p<l;p++){const g=p;n(e[g]).next((y=>{u[g]=y,++h,h===l&&i(u)}),(y=>a(y)))}}))}static doWhile(e,n){return new ue(((i,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):i()};l()}))}}function pM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vl(t){return t.name==="IndexedDbTransactionError"}class Oh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Oh.ce=-1;const Hy=-1;function Dh(t){return t==null}function nh(t){return t===0&&1/t==-1/0}function mM(t){return typeof t=="number"&&Number.isInteger(t)&&!nh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const _S="";function gM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=s1(e)),e=yM(t.get(n),e);return s1(e)}function yM(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case _S:n+="";break;default:n+=l}}return n}function s1(t){return t+_S+""}function a1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Aa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ES(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Bt{constructor(e,n){this.comparator=e,this.root=n||Dn.EMPTY}insert(e,n){return new Bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Dn.BLACK,null,null))}remove(e){return new Bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xd(this.root,e,this.comparator,!1)}getReverseIterator(){return new xd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xd(this.root,e,this.comparator,!0)}}class xd{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dn{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??Dn.RED,this.left=a??Dn.EMPTY,this.right=l??Dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new Dn(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Dn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Pe(27949);return e+(this.isRed()?0:1)}}Dn.EMPTY=null,Dn.RED=!0,Dn.BLACK=!1;Dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe(57766)}get value(){throw Pe(16141)}get color(){throw Pe(16727)}get left(){throw Pe(29726)}get right(){throw Pe(36894)}copy(e,n,i,a,l){return this}insert(e,n,i){return new Dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class yn{constructor(e){this.comparator=e,this.data=new Bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new o1(this.data.getIterator())}getIteratorFrom(e){return new o1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof yn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new yn(this.comparator);return n.data=e,n}}class o1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ar{constructor(e){this.fields=e,e.sort(Mn.comparator)}static empty(){return new Ar([])}unionWith(e){let n=new yn(Mn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Ar(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Sl(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class wS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class kn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new wS("Invalid base64 string: "+l):l}})(e);return new kn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new kn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kn.EMPTY_BYTE_STRING=new kn("");const vM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function va(t){if(mt(!!t,39018),typeof t=="string"){let e=0;const n=vM.exec(t);if(mt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:$t(t.seconds),nanos:$t(t.nanos)}}function $t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ba(t){return typeof t=="string"?kn.fromBase64String(t):kn.fromUint8Array(t)}const TS="server_timestamp",SS="__type__",xS="__previous_value__",AS="__local_write_time__";function Gy(t){return(t?.mapValue?.fields||{})[SS]?.stringValue===TS}function Mh(t){const e=t.mapValue.fields[xS];return Gy(e)?Mh(e):e}function _u(t){const e=va(t.mapValue.fields[AS].timestampValue);return new Mt(e.seconds,e.nanos)}class bM{constructor(e,n,i,a,l,u,h,p,g,y){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=y}}const rh="(default)";class Eu{constructor(e,n){this.projectId=e,this.database=n||rh}static empty(){return new Eu("","")}get isDefaultDatabase(){return this.database===rh}isEqual(e){return e instanceof Eu&&e.projectId===this.projectId&&e.database===this.database}}const CS="__type__",_M="__max__",Ad={mapValue:{}},RS="__vector__",ih="value";function _a(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gy(t)?4:wM(t)?9007199254740991:EM(t)?10:11:Pe(28295,{value:t})}function Yi(t,e){if(t===e)return!0;const n=_a(t);if(n!==_a(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _u(t).isEqual(_u(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=va(a.timestampValue),h=va(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return ba(a.bytesValue).isEqual(ba(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return $t(a.geoPointValue.latitude)===$t(l.geoPointValue.latitude)&&$t(a.geoPointValue.longitude)===$t(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return $t(a.integerValue)===$t(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=$t(a.doubleValue),h=$t(l.doubleValue);return u===h?nh(u)===nh(h):isNaN(u)&&isNaN(h)}return!1})(t,e);case 9:return Sl(t.arrayValue.values||[],e.arrayValue.values||[],Yi);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},h=l.mapValue.fields||{};if(a1(u)!==a1(h))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(h[p]===void 0||!Yi(u[p],h[p])))return!1;return!0})(t,e);default:return Pe(52216,{left:t})}}function wu(t,e){return(t.values||[]).find((n=>Yi(n,e)))!==void 0}function xl(t,e){if(t===e)return 0;const n=_a(t),i=_a(e);if(n!==i)return rt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return rt(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const h=$t(l.integerValue||l.doubleValue),p=$t(u.integerValue||u.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1})(t,e);case 3:return l1(t.timestampValue,e.timestampValue);case 4:return l1(_u(t),_u(e));case 5:return Wg(t.stringValue,e.stringValue);case 6:return(function(l,u){const h=ba(l),p=ba(u);return h.compareTo(p)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const h=l.split("/"),p=u.split("/");for(let g=0;g<h.length&&g<p.length;g++){const y=rt(h[g],p[g]);if(y!==0)return y}return rt(h.length,p.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const h=rt($t(l.latitude),$t(u.latitude));return h!==0?h:rt($t(l.longitude),$t(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return c1(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const h=l.fields||{},p=u.fields||{},g=h[ih]?.arrayValue,y=p[ih]?.arrayValue,v=rt(g?.values?.length||0,y?.values?.length||0);return v!==0?v:c1(g,y)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Ad.mapValue&&u===Ad.mapValue)return 0;if(l===Ad.mapValue)return 1;if(u===Ad.mapValue)return-1;const h=l.fields||{},p=Object.keys(h),g=u.fields||{},y=Object.keys(g);p.sort(),y.sort();for(let v=0;v<p.length&&v<y.length;++v){const T=Wg(p[v],y[v]);if(T!==0)return T;const S=xl(h[p[v]],g[y[v]]);if(S!==0)return S}return rt(p.length,y.length)})(t.mapValue,e.mapValue);default:throw Pe(23264,{he:n})}}function l1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return rt(t,e);const n=va(t),i=va(e),a=rt(n.seconds,i.seconds);return a!==0?a:rt(n.nanos,i.nanos)}function c1(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=xl(n[a],i[a]);if(l)return l}return rt(n.length,i.length)}function Al(t){return Qg(t)}function Qg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=va(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ba(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Oe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=Qg(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of i)l?l=!1:a+=",",a+=`${u}:${Qg(n.fields[u])}`;return a+"}"})(t.mapValue):Pe(61005,{value:t})}function Ld(t){switch(_a(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Mh(t);return e?16+Ld(e):16;case 5:return 2*t.stringValue.length;case 6:return ba(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+Ld(l)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return Aa(i.fields,((l,u)=>{a+=l.length+Ld(u)})),a})(t.mapValue);default:throw Pe(13486,{value:t})}}function u1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $g(t){return!!t&&"integerValue"in t}function Yy(t){return!!t&&"arrayValue"in t}function f1(t){return!!t&&"nullValue"in t}function d1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ud(t){return!!t&&"mapValue"in t}function EM(t){return(t?.mapValue?.fields||{})[CS]?.stringValue===RS}function lu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Aa(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=lu(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=lu(t.arrayValue.values[n]);return e}return{...t}}function wM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===_M}class fr{constructor(e){this.value=e}static empty(){return new fr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Ud(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=lu(n)}setAll(e){let n=Mn.emptyPath(),i={},a=[];e.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const p=this.getFieldsMap(n);this.applyChanges(p,i,a),i={},a=[],n=h.popLast()}u?i[h.lastSegment()]=lu(u):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());Ud(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];Ud(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){Aa(n,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new fr(lu(this.value))}}function NS(t){const e=[];return Aa(t.fields,((n,i)=>{const a=new Mn([n]);if(Ud(i)){const l=NS(i.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new Ar(e)}class qn{constructor(e,n,i,a,l,u,h){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new qn(e,0,Ve.min(),Ve.min(),Ve.min(),fr.empty(),0)}static newFoundDocument(e,n,i,a){return new qn(e,1,n,Ve.min(),i,a,0)}static newNoDocument(e,n){return new qn(e,2,n,Ve.min(),Ve.min(),fr.empty(),0)}static newUnknownDocument(e,n){return new qn(e,3,n,Ve.min(),Ve.min(),fr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sh{constructor(e,n){this.position=e,this.inclusive=n}}function h1(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?i=Oe.comparator(Oe.fromName(u.referenceValue),n.key):i=xl(u,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function p1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Yi(t.position[n],e.position[n]))return!1;return!0}class ah{constructor(e,n="asc"){this.field=e,this.dir=n}}function TM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class IS{}class fn extends IS{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new xM(e,n,i):n==="array-contains"?new RM(e,i):n==="in"?new NM(e,i):n==="not-in"?new IM(e,i):n==="array-contains-any"?new OM(e,i):new fn(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new AM(e,i):new CM(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(xl(n,this.value)):n!==null&&_a(this.value)===_a(n)&&this.matchesComparison(xl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends IS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ai(e,n)}matches(e){return OS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function OS(t){return t.op==="and"}function DS(t){return SM(t)&&OS(t)}function SM(t){for(const e of t.filters)if(e instanceof ai)return!1;return!0}function Xg(t){if(t instanceof fn)return t.field.canonicalString()+t.op.toString()+Al(t.value);if(DS(t))return t.filters.map((e=>Xg(e))).join(",");{const e=t.filters.map((n=>Xg(n))).join(",");return`${t.op}(${e})`}}function MS(t,e){return t instanceof fn?(function(i,a){return a instanceof fn&&i.op===a.op&&i.field.isEqual(a.field)&&Yi(i.value,a.value)})(t,e):t instanceof ai?(function(i,a){return a instanceof ai&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,u,h)=>l&&MS(u,a.filters[h])),!0):!1})(t,e):void Pe(19439)}function kS(t){return t instanceof fn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Al(n.value)}`})(t):t instanceof ai?(function(n){return n.op.toString()+" {"+n.getFilters().map(kS).join(" ,")+"}"})(t):"Filter"}class xM extends fn{constructor(e,n,i){super(e,n,i),this.key=Oe.fromName(i.referenceValue)}matches(e){const n=Oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class AM extends fn{constructor(e,n){super(e,"in",n),this.keys=PS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class CM extends fn{constructor(e,n){super(e,"not-in",n),this.keys=PS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function PS(t,e){return(e.arrayValue?.values||[]).map((n=>Oe.fromName(n.referenceValue)))}class RM extends fn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yy(n)&&wu(n.arrayValue,this.value)}}class NM extends fn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wu(this.value.arrayValue,n)}}class IM extends fn{constructor(e,n){super(e,"not-in",n)}matches(e){if(wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!wu(this.value.arrayValue,n)}}class OM extends fn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>wu(this.value.arrayValue,i)))}}class DM{constructor(e,n=null,i=[],a=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=u,this.endAt=h,this.Te=null}}function m1(t,e=null,n=[],i=[],a=null,l=null,u=null){return new DM(t,e,n,i,a,l,u)}function Ky(t){const e=Ue(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>Xg(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Dh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Al(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Al(i))).join(",")),e.Te=n}return e.Te}function Wy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!TM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!MS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!p1(t.startAt,e.startAt)&&p1(t.endAt,e.endAt)}function Jg(t){return Oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class zu{constructor(e,n=null,i=[],a=[],l=null,u="F",h=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function MM(t,e,n,i,a,l,u,h){return new zu(t,e,n,i,a,l,u,h)}function Qy(t){return new zu(t)}function g1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jS(t){return t.collectionGroup!==null}function cu(t){const e=Ue(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new yn(Mn.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(h=h.add(g.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new ah(l,i))})),n.has(Mn.keyField().canonicalString())||e.Ie.push(new ah(Mn.keyField(),i))}return e.Ie}function Fi(t){const e=Ue(t);return e.Ee||(e.Ee=kM(e,cu(t))),e.Ee}function kM(t,e){if(t.limitType==="F")return m1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new ah(a.field,l)}));const n=t.endAt?new sh(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new sh(t.startAt.position,t.startAt.inclusive):null;return m1(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Zg(t,e){const n=t.filters.concat([e]);return new zu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ey(t,e,n){return new zu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function kh(t,e){return Wy(Fi(t),Fi(e))&&t.limitType===e.limitType}function zS(t){return`${Ky(Fi(t))}|lt:${t.limitType}`}function fl(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>kS(a))).join(", ")}]`),Dh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>Al(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>Al(a))).join(",")),`Target(${i})`})(Fi(t))}; limitType=${t.limitType})`}function Ph(t,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Oe.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,a){for(const l of cu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(u,h,p){const g=h1(u,h,p);return u.inclusive?g<=0:g<0})(i.startAt,cu(i),a)||i.endAt&&!(function(u,h,p){const g=h1(u,h,p);return u.inclusive?g>=0:g>0})(i.endAt,cu(i),a))})(t,e)}function PM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function VS(t){return(e,n)=>{let i=!1;for(const a of cu(t)){const l=jM(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function jM(t,e,n){const i=t.field.isKeyField()?Oe.comparator(e.key,n.key):(function(l,u,h){const p=u.data.field(l),g=h.data.field(l);return p!==null&&g!==null?xl(p,g):Pe(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Pe(19790,{direction:t.dir})}}class go{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Aa(this.inner,((n,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return ES(this.inner)}size(){return this.innerSize}}const zM=new Bt(Oe.comparator);function ws(){return zM}const LS=new Bt(Oe.comparator);function ru(...t){let e=LS;for(const n of t)e=e.insert(n.key,n);return e}function US(t){let e=LS;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function no(){return uu()}function BS(){return uu()}function uu(){return new go((t=>t.toString()),((t,e)=>t.isEqual(e)))}const VM=new Bt(Oe.comparator),LM=new yn(Oe.comparator);function it(...t){let e=LM;for(const n of t)e=e.add(n);return e}const UM=new yn(rt);function BM(){return UM}function $y(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(e)?"-0":e}}function FS(t){return{integerValue:""+t}}function FM(t,e){return mM(e)?FS(e):$y(t,e)}class jh{constructor(){this._=void 0}}function qM(t,e,n){return t instanceof oh?(function(a,l){const u={fields:{[SS]:{stringValue:TS},[AS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Gy(l)&&(l=Mh(l)),l&&(u.fields[xS]=l),{mapValue:u}})(n,e):t instanceof Tu?HS(t,e):t instanceof Su?GS(t,e):(function(a,l){const u=qS(a,l),h=y1(u)+y1(a.Ae);return $g(u)&&$g(a.Ae)?FS(h):$y(a.serializer,h)})(t,e)}function HM(t,e,n){return t instanceof Tu?HS(t,e):t instanceof Su?GS(t,e):n}function qS(t,e){return t instanceof lh?(function(i){return $g(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class oh extends jh{}class Tu extends jh{constructor(e){super(),this.elements=e}}function HS(t,e){const n=YS(e);for(const i of t.elements)n.some((a=>Yi(a,i)))||n.push(i);return{arrayValue:{values:n}}}class Su extends jh{constructor(e){super(),this.elements=e}}function GS(t,e){let n=YS(e);for(const i of t.elements)n=n.filter((a=>!Yi(a,i)));return{arrayValue:{values:n}}}class lh extends jh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function y1(t){return $t(t.integerValue||t.doubleValue)}function YS(t){return Yy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function GM(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof Tu&&a instanceof Tu||i instanceof Su&&a instanceof Su?Sl(i.elements,a.elements,Yi):i instanceof lh&&a instanceof lh?Yi(i.Ae,a.Ae):i instanceof oh&&a instanceof oh})(t.transform,e.transform)}class YM{constructor(e,n){this.version=e,this.transformResults=n}}class Hr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hr}static exists(e){return new Hr(void 0,e)}static updateTime(e){return new Hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zh{}function KS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Xy(t.key,Hr.none()):new Vu(t.key,t.data,Hr.none());{const n=t.data,i=fr.empty();let a=new yn(Mn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?i.delete(l):i.set(l,u),a=a.add(l)}return new Ca(t.key,i,new Ar(a.toArray()),Hr.none())}}function KM(t,e,n){t instanceof Vu?(function(a,l,u){const h=a.value.clone(),p=b1(a.fieldTransforms,l,u.transformResults);h.setAll(p),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):t instanceof Ca?(function(a,l,u){if(!Bd(a.precondition,l))return void l.convertToUnknownDocument(u.version);const h=b1(a.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(WS(a)),p.setAll(h),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function fu(t,e,n,i){return t instanceof Vu?(function(l,u,h,p){if(!Bd(l.precondition,u))return h;const g=l.value.clone(),y=_1(l.fieldTransforms,p,u);return g.setAll(y),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(t,e,n,i):t instanceof Ca?(function(l,u,h,p){if(!Bd(l.precondition,u))return h;const g=_1(l.fieldTransforms,p,u),y=u.data;return y.setAll(WS(l)),y.setAll(g),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(t,e,n,i):(function(l,u,h){return Bd(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(t,e,n)}function WM(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=qS(i.transform,a||null);l!=null&&(n===null&&(n=fr.empty()),n.set(i.field,l))}return n||null}function v1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Sl(i,a,((l,u)=>GM(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vu extends zh{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ca extends zh{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function WS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function b1(t,e,n){const i=new Map;mt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,h=e.data.field(l.field);i.set(l.field,HM(u,h,n[a]))}return i}function _1(t,e,n){const i=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);i.set(a.field,qM(l,u,e))}return i}class Xy extends zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QM extends zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $M{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&KM(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=fu(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=fu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=BS();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=n.has(a.key)?null:h;const p=KS(u,h);p!==null&&i.set(a.key,p),u.isValidDocument()||u.convertToNoDocument(Ve.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),it())}isEqual(e){return this.batchId===e.batchId&&Sl(this.mutations,e.mutations,((n,i)=>v1(n,i)))&&Sl(this.baseMutations,e.baseMutations,((n,i)=>v1(n,i)))}}class Jy{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){mt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return VM})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,i[u].version);return new Jy(e,n,i,a)}}class XM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class JM{constructor(e,n){this.count=e,this.unchangedNames=n}}var un,ot;function ZM(t){switch(t){case le.OK:return Pe(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Pe(15467,{code:t})}}function QS(t){if(t===void 0)return Es("GRPC error has no .code"),le.UNKNOWN;switch(t){case un.OK:return le.OK;case un.CANCELLED:return le.CANCELLED;case un.UNKNOWN:return le.UNKNOWN;case un.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case un.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case un.INTERNAL:return le.INTERNAL;case un.UNAVAILABLE:return le.UNAVAILABLE;case un.UNAUTHENTICATED:return le.UNAUTHENTICATED;case un.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case un.NOT_FOUND:return le.NOT_FOUND;case un.ALREADY_EXISTS:return le.ALREADY_EXISTS;case un.PERMISSION_DENIED:return le.PERMISSION_DENIED;case un.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case un.ABORTED:return le.ABORTED;case un.OUT_OF_RANGE:return le.OUT_OF_RANGE;case un.UNIMPLEMENTED:return le.UNIMPLEMENTED;case un.DATA_LOSS:return le.DATA_LOSS;default:return Pe(39323,{code:t})}}(ot=un||(un={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";function e4(){return new TextEncoder}const t4=new ma([4294967295,4294967295],0);function E1(t){const e=e4().encode(t),n=new uS;return n.update(e),new Uint8Array(n.digest())}function w1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ma([n,i],0),new ma([a,l],0)]}class Zy{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new iu(`Invalid padding: ${n}`);if(i<0)throw new iu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new iu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new iu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ma.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(ma.fromNumber(i)));return a.compare(t4)===1&&(a=new ma([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=E1(e),[i,a]=w1(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);if(!this.we(u))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Zy(l,a,n);return i.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const n=E1(e),[i,a]=w1(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class iu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vh{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,Lu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Vh(Ve.min(),a,new Bt(rt),ws(),it())}}class Lu{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Lu(i,n,it(),it(),it())}}class Fd{constructor(e,n,i,a){this.be=e,this.removedTargetIds=n,this.key=i,this.De=a}}class $S{constructor(e,n){this.targetId=e,this.Ce=n}}class XS{constructor(e,n,i=kn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class T1{constructor(){this.ve=0,this.Fe=S1(),this.Me=kn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=it(),n=it(),i=it();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Pe(38017,{changeType:l})}})),new Lu(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=S1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,mt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class n4{constructor(e){this.Ge=e,this.ze=new Map,this.je=ws(),this.Je=Cd(),this.He=Cd(),this.Ye=new Bt(rt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Pe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Jg(l))if(i===0){const u=new Oe(l.path);this.et(n,u,qn.newNoDocument(u,Ve.min()))}else mt(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const h=this.ut(e),p=h?this.ct(h,e,u):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let u,h;try{u=ba(i).toUint8Array()}catch(p){if(p instanceof wS)return Tl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new Zy(u,a,l)}catch(p){return Tl(p instanceof iu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.ge===0?null:h}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((l=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const h=this.ot(u);if(h){if(l.current&&Jg(h.target)){const p=new Oe(h.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,qn.newNoDocument(p,e))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let i=it();this.He.forEach(((l,u)=>{let h=!0;u.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new Vh(e,n,this.Ye,this.je,i);return this.je=ws(),this.Je=Cd(),this.He=Cd(),this.Ye=new Bt(rt),a}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new T1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new yn(rt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new yn(rt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||be("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new T1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Cd(){return new Bt(Oe.comparator)}function S1(){return new Bt(Oe.comparator)}const r4={asc:"ASCENDING",desc:"DESCENDING"},i4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},s4={and:"AND",or:"OR"};class a4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ty(t,e){return t.useProto3Json||Dh(e)?e:{value:e}}function ch(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function o4(t,e){return ch(t,e.toTimestamp())}function qi(t){return mt(!!t,49232),Ve.fromTimestamp((function(n){const i=va(n);return new Mt(i.seconds,i.nanos)})(t))}function ev(t,e){return ny(t,e).canonicalString()}function ny(t,e){const n=(function(a){return new Nt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function ZS(t){const e=Nt.fromString(t);return mt(ix(e),10190,{key:e.toString()}),e}function ry(t,e){return ev(t.databaseId,e.path)}function fg(t,e){const n=ZS(e);if(n.get(1)!==t.databaseId.projectId)throw new Ee(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ee(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Oe(tx(n))}function ex(t,e){return ev(t.databaseId,e)}function l4(t){const e=ZS(t);return e.length===4?Nt.emptyPath():tx(e)}function iy(t){return new Nt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tx(t){return mt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function x1(t,e,n){return{name:ry(t,e),fields:n.value.mapValue.fields}}function c4(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Pe(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,y){return g.useProto3Json?(mt(y===void 0||typeof y=="string",58123),kn.fromBase64String(y||"")):(mt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),kn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(g){const y=g.code===void 0?le.UNKNOWN:QS(g.code);return new Ee(y,g.message||"")})(u);n=new XS(i,a,l,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=fg(t,i.document.name),l=qi(i.document.updateTime),u=i.document.createTime?qi(i.document.createTime):Ve.min(),h=new fr({mapValue:{fields:i.document.fields}}),p=qn.newFoundDocument(a,l,u,h),g=i.targetIds||[],y=i.removedTargetIds||[];n=new Fd(g,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=fg(t,i.document),l=i.readTime?qi(i.readTime):Ve.min(),u=qn.newNoDocument(a,l),h=i.removedTargetIds||[];n=new Fd([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=fg(t,i.document),l=i.removedTargetIds||[];n=new Fd([],l,a,null)}else{if(!("filter"in e))return Pe(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,u=new JM(a,l),h=i.targetId;n=new $S(h,u)}}return n}function u4(t,e){let n;if(e instanceof Vu)n={update:x1(t,e.key,e.value)};else if(e instanceof Xy)n={delete:ry(t,e.key)};else if(e instanceof Ca)n={update:x1(t,e.key,e.data),updateMask:b4(e.fieldMask)};else{if(!(e instanceof QM))return Pe(16599,{Vt:e.type});n={verify:ry(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,u){const h=u.transform;if(h instanceof oh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Tu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Su)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof lh)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Pe(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:o4(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Pe(27497)})(t,e.precondition)),n}function f4(t,e){return t&&t.length>0?(mt(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?qi(a.updateTime):qi(l);return u.isEqual(Ve.min())&&(u=qi(l)),new YM(u,a.transformResults||[])})(n,e)))):[]}function d4(t,e){return{documents:[ex(t,e.path)]}}function h4(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=ex(t,a);const l=(function(g){if(g.length!==0)return rx(ai.create(g,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(g){if(g.length!==0)return g.map((y=>(function(T){return{field:dl(T.field),direction:g4(T.dir)}})(y)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=ty(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:a}}function p4(t){let e=l4(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){mt(i===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(v){const T=nx(v);return T instanceof ai&&DS(T)?T.getFilters():[T]})(n.where));let u=[];n.orderBy&&(u=(function(v){return v.map((T=>(function(I){return new ah(hl(I.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(T)))})(n.orderBy));let h=null;n.limit&&(h=(function(v){let T;return T=typeof v=="object"?v.value:v,Dh(T)?null:T})(n.limit));let p=null;n.startAt&&(p=(function(v){const T=!!v.before,S=v.values||[];return new sh(S,T)})(n.startAt));let g=null;return n.endAt&&(g=(function(v){const T=!v.before,S=v.values||[];return new sh(S,T)})(n.endAt)),MM(e,a,u,l,h,"F",p,g)}function m4(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function nx(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=hl(n.unaryFilter.field);return fn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=hl(n.unaryFilter.field);return fn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=hl(n.unaryFilter.field);return fn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=hl(n.unaryFilter.field);return fn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pe(61313);default:return Pe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return fn.create(hl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pe(58110);default:return Pe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ai.create(n.compositeFilter.filters.map((i=>nx(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Pe(1026)}})(n.compositeFilter.op))})(t):Pe(30097,{filter:t})}function g4(t){return r4[t]}function y4(t){return i4[t]}function v4(t){return s4[t]}function dl(t){return{fieldPath:t.canonicalString()}}function hl(t){return Mn.fromServerFormat(t.fieldPath)}function rx(t){return t instanceof fn?(function(n){if(n.op==="=="){if(d1(n.value))return{unaryFilter:{field:dl(n.field),op:"IS_NAN"}};if(f1(n.value))return{unaryFilter:{field:dl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(d1(n.value))return{unaryFilter:{field:dl(n.field),op:"IS_NOT_NAN"}};if(f1(n.value))return{unaryFilter:{field:dl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dl(n.field),op:y4(n.op),value:n.value}}})(t):t instanceof ai?(function(n){const i=n.getFilters().map((a=>rx(a)));return i.length===1?i[0]:{compositeFilter:{op:v4(n.op),filters:i}}})(t):Pe(54877,{filter:t})}function b4(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function ix(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class fa{constructor(e,n,i,a,l=Ve.min(),u=Ve.min(),h=kn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new fa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class _4{constructor(e){this.yt=e}}function E4(t){const e=p4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ey(e,e.limit,"L"):e}class w4{constructor(){this.Cn=new T4}addToCollectionParentIndex(e,n){return this.Cn.add(n),ue.resolve()}getCollectionParents(e,n){return ue.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ue.resolve()}deleteFieldIndex(e,n){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,n){return ue.resolve()}getDocumentsMatchingTarget(e,n){return ue.resolve(null)}getIndexType(e,n){return ue.resolve(0)}getFieldIndexes(e,n){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,n){return ue.resolve(ya.min())}getMinOffsetFromCollectionGroup(e,n){return ue.resolve(ya.min())}updateCollectionGroup(e,n,i){return ue.resolve()}updateIndexEntries(e,n){return ue.resolve()}}class T4{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new yn(Nt.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new yn(Nt.comparator)).toArray()}}const A1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sx=41943040;class cr{static withCacheSize(e){return new cr(e,cr.DEFAULT_COLLECTION_PERCENTILE,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}cr.DEFAULT_COLLECTION_PERCENTILE=10,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cr.DEFAULT=new cr(sx,cr.DEFAULT_COLLECTION_PERCENTILE,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cr.DISABLED=new cr(-1,0,0);class Cl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Cl(0)}static cr(){return new Cl(-1)}}const C1="LruGarbageCollector",S4=1048576;function R1([t,e],[n,i]){const a=rt(t,n);return a===0?rt(e,i):a}class x4{constructor(e){this.Ir=e,this.buffer=new yn(R1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();R1(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class A4{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){be(C1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vl(n)?be(C1,"Ignoring IndexedDB error during garbage collection: ",n):await zl(n)}await this.Vr(3e5)}))}}class C4{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return ue.resolve(Oh.ce);const i=new x4(n);return this.mr.forEachTarget(e,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(A1)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),A1):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,a,l,u,h,p,g;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(i=v,h=Date.now(),this.removeTargets(e,i,n)))).next((v=>(l=v,p=Date.now(),this.removeOrphanedDocuments(e,i)))).next((v=>(g=Date.now(),ul()<=nt.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${l} targets in `+(p-h)+`ms
	Removed ${v} documents in `+(g-p)+`ms
Total Duration: ${g-y}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function R4(t,e){return new C4(t,e)}class N4{constructor(){this.changes=new go((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ue.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class I4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class O4{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&fu(i.mutation,a,Ar.empty(),Mt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,it()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=it()){const a=no();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((l=>{let u=ru();return l.forEach(((h,p)=>{u=u.insert(h,p.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const i=no();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,it())))}populateOverlays(e,n,i){const a=[];return i.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(e,n,i,a){let l=ws();const u=uu(),h=(function(){return uu()})();return n.forEach(((p,g)=>{const y=i.get(g.key);a.has(g.key)&&(y===void 0||y.mutation instanceof Ca)?l=l.insert(g.key,g):y!==void 0?(u.set(g.key,y.mutation.getFieldMask()),fu(y.mutation,g,y.mutation.getFieldMask(),Mt.now())):u.set(g.key,Ar.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((g,y)=>u.set(g,y))),n.forEach(((g,y)=>h.set(g,new I4(y,u.get(g)??null)))),h)))}recalculateAndSaveOverlays(e,n){const i=uu();let a=new Bt(((u,h)=>u-h)),l=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const h of u)h.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let y=i.get(p)||Ar.empty();y=h.applyToLocalView(g,y),i.set(p,y);const v=(a.get(h.batchId)||it()).add(p);a=a.insert(h.batchId,v)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),g=p.key,y=p.value,v=BS();y.forEach((T=>{if(!l.has(T)){const S=KS(n.get(T),i.get(T));S!==null&&v.set(T,S),l=l.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,v))}return ue.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return(function(u){return Oe.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):ue.resolve(no());let h=bu,p=l;return u.next((g=>ue.forEach(g,((y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(y)?ue.resolve():this.remoteDocumentCache.getEntry(e,y).next((T=>{p=p.insert(y,T)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,p,g,it()))).next((y=>({batchId:h,changes:US(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Oe(n)).next((i=>{let a=ru();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let u=ru();return this.indexManager.getCollectionParents(e,l).next((h=>ue.forEach(h,(p=>{const g=(function(v,T){return new zu(T,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next((y=>{y.forEach(((v,T)=>{u=u.insert(v,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a)))).next((u=>{l.forEach(((p,g)=>{const y=g.getKey();u.get(y)===null&&(u=u.insert(y,qn.newInvalidDocument(y)))}));let h=ru();return u.forEach(((p,g)=>{const y=l.get(p);y!==void 0&&fu(y.mutation,g,Ar.empty(),Mt.now()),Ph(n,g)&&(h=h.insert(p,g))})),h}))}}class D4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ue.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:qi(a.createTime)}})(n)),ue.resolve()}getNamedQuery(e,n){return ue.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:E4(a.bundledQuery),readTime:qi(a.readTime)}})(n)),ue.resolve()}}class M4{constructor(){this.overlays=new Bt(Oe.comparator),this.qr=new Map}getOverlay(e,n){return ue.resolve(this.overlays.get(n))}getOverlays(e,n){const i=no();return ue.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,l)=>{this.St(e,n,l)})),ue.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),ue.resolve()}getOverlaysForCollection(e,n,i){const a=no(),l=n.length+1,u=new Oe(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const p=h.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>i&&a.set(p.getKey(),p)}return ue.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new Bt(((g,y)=>g-y));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>i){let y=l.get(g.largestBatchId);y===null&&(y=no(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const h=no(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,y)=>h.set(g,y))),!(h.size()>=a)););return ue.resolve(h)}St(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new XM(n,i));let l=this.qr.get(n);l===void 0&&(l=it(),this.qr.set(n,l)),this.qr.set(n,l.add(i.key))}}class k4{constructor(){this.sessionToken=kn.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ue.resolve()}}class tv{constructor(){this.Qr=new yn(wn.$r),this.Ur=new yn(wn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new wn(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new wn(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new Oe(new Nt([])),i=new wn(n,e),a=new wn(n,e+1),l=[];return this.Ur.forEachInRange([i,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Oe(new Nt([])),i=new wn(n,e),a=new wn(n,e+1);let l=it();return this.Ur.forEachInRange([i,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new wn(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class wn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Oe.comparator(e.key,n.key)||rt(e.Yr,n.Yr)}static Kr(e,n){return rt(e.Yr,n.Yr)||Oe.comparator(e.key,n.key)}}class P4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new yn(wn.$r)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new $M(l,n,i,a);this.mutationQueue.push(u);for(const h of a)this.Zr=this.Zr.add(new wn(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ue.resolve(u)}lookupMutationBatch(e,n){return ue.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.ei(i),l=a<0?0:a;return ue.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?Hy:this.tr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new wn(n,0),a=new wn(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],(u=>{const h=this.Xr(u.Yr);l.push(h)})),ue.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new yn(rt);return n.forEach((a=>{const l=new wn(a,0),u=new wn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(h=>{i=i.add(h.Yr)}))})),ue.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;Oe.isDocumentKey(l)||(l=l.child(""));const u=new wn(new Oe(l),0);let h=new yn(rt);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(h=h.add(p.Yr)),!0)}),u),ue.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((i=>{const a=this.Xr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){mt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ue.forEach(n.mutations,(a=>{const l=new wn(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new wn(n,0),a=this.Zr.firstAfterOrEqual(i);return ue.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class j4{constructor(e){this.ri=e,this.docs=(function(){return new Bt(Oe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ue.resolve(i?i.document.mutableCopy():qn.newInvalidDocument(n))}getEntries(e,n){let i=ws();return n.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():qn.newInvalidDocument(a))})),ue.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=ws();const u=n.path,h=new Oe(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:g,value:{document:y}}=p.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||fM(uM(y),i)<=0||(a.has(y.key)||Ph(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ue.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Pe(9500)}ii(e,n){return ue.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new z4(this)}getSize(e){return ue.resolve(this.size)}}class z4 extends N4{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)})),ue.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class V4{constructor(e){this.persistence=e,this.si=new go((n=>Ky(n)),Wy),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.oi=0,this._i=new tv,this.targetCount=0,this.ai=Cl.ur()}forEachTarget(e,n){return this.si.forEach(((i,a)=>n(a))),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),ue.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Cl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ue.resolve()}updateTargetData(e,n){return this.Pr(n),ue.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),ue.waitFor(l).next((()=>a))}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return ue.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),ue.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),ue.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ue.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return ue.resolve(i)}containsKey(e,n){return ue.resolve(this._i.containsKey(n))}}class ax{constructor(e,n){this.ui={},this.overlays={},this.ci=new Oh(0),this.li=!1,this.li=!0,this.hi=new k4,this.referenceDelegate=e(this),this.Pi=new V4(this),this.indexManager=new w4,this.remoteDocumentCache=(function(a){return new j4(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new _4(n),this.Ii=new D4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new M4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new P4(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){be("MemoryPersistence","Starting transaction:",e);const a=new L4(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return ue.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class L4 extends hM{constructor(e){super(),this.currentSequenceNumber=e}}class nv{constructor(e){this.persistence=e,this.Ri=new tv,this.Vi=null}static mi(e){return new nv(e)}get fi(){if(this.Vi)return this.Vi;throw Pe(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),ue.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),ue.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ue.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.fi,(i=>{const a=Oe.fromPath(i);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Ve.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ue.or([()=>ue.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class uh{constructor(e,n){this.persistence=e,this.pi=new go((i=>gM(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=R4(this,n)}static mi(e,n){return new uh(e,n)}Ei(){}di(e){return ue.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return ue.forEach(this.pi,((i,a)=>this.br(e,i,a).next((l=>l?ue.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((h=>{h||(i++,l.removeEntry(u,Ve.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ue.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ue.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ue.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ld(e.data.value)),n}br(e,n,i){return ue.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return ue.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class rv{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=a}static As(e,n){let i=it(),a=it();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new rv(e,n.fromCache,i,a)}}class U4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class B4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return iN()?8:pM(Hn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,a,i).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new U4;return this.Ss(e,n,u).next((h=>{if(l.result=h,this.Vs)return this.bs(e,n,u,h.size)}))})).next((()=>l.result))}bs(e,n,i,a){return i.documentReadCount<this.fs?(ul()<=nt.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",fl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ue.resolve()):(ul()<=nt.DEBUG&&be("QueryEngine","Query:",fl(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(ul()<=nt.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",fl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fi(n))):ue.resolve())}ys(e,n){if(g1(n))return ue.resolve(null);let i=Fi(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=ey(n,null,"F"),i=Fi(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const u=it(...l);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,i).next((p=>{const g=this.Ds(n,h);return this.Cs(n,g,u,p.readTime)?this.ys(e,ey(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,i,a){return g1(n)||a.isEqual(Ve.min())?ue.resolve(null):this.ps.getDocuments(e,i).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,i,a)?ue.resolve(null):(ul()<=nt.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),fl(n)),this.vs(e,u,n,cM(a,bu)).next((h=>h)))}))}Ds(e,n){let i=new yn(VS(e));return n.forEach(((a,l)=>{Ph(e,l)&&(i=i.add(l))})),i}Cs(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,i){return ul()<=nt.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",fl(n)),this.ps.getDocumentsMatchingQuery(e,n,ya.min(),i)}vs(e,n,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const iv="LocalStore",F4=3e8;class q4{constructor(e,n,i,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Bt(rt),this.xs=new go((l=>Ky(l)),Wy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new O4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function H4(t,e,n,i){return new q4(t,e,n,i)}async function ox(t,e){const n=Ue(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const u=[],h=[];let p=it();for(const g of a){u.push(g.batchId);for(const y of g.mutations)p=p.add(y.key)}for(const g of l){h.push(g.batchId);for(const y of g.mutations)p=p.add(y.key)}return n.localDocuments.getDocuments(i,p).next((g=>({Ls:g,removedBatchIds:u,addedBatchIds:h})))}))}))}function G4(t,e){const n=Ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,p,g,y){const v=g.batch,T=v.keys();let S=ue.resolve();return T.forEach((I=>{S=S.next((()=>y.getEntry(p,I))).next((D=>{const V=g.docVersions.get(I);mt(V!==null,48541),D.version.compareTo(V)<0&&(v.applyToRemoteDocument(D,g),D.isValidDocument()&&(D.setReadTime(g.commitVersion),y.addEntry(D)))}))})),S.next((()=>h.mutationQueue.removeMutationBatch(p,v)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let p=it();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(p=p.add(h.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function lx(t){const e=Ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Y4(t,e){const n=Ue(t),i=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const h=[];e.targetChanges.forEach(((y,v)=>{const T=a.get(v);if(!T)return;h.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,v))));let S=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?S=S.withResumeToken(kn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,i)),a=a.insert(v,S),(function(D,V,U){return D.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=F4?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(T,S,y)&&h.push(n.Pi.updateTargetData(l,S))}));let p=ws(),g=it();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),h.push(K4(l,u,e.documentUpdates).next((y=>{p=y.ks,g=y.qs}))),!i.isEqual(Ve.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((v=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));h.push(y)}return ue.waitFor(h).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(n.Ms=a,l)))}function K4(t,e,n){let i=it(),a=it();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let u=ws();return n.forEach(((h,p)=>{const g=l.get(h);p.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(h)),p.isNoDocument()&&p.version.isEqual(Ve.min())?(e.removeEntry(h,p.readTime),u=u.insert(h,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),u=u.insert(h,p)):be(iv,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",p.version)})),{ks:u,qs:a}}))}function W4(t,e){const n=Ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Hy),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function Q4(t,e){const n=Ue(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.Pi.getTargetData(i,e).next((l=>l?(a=l,ue.resolve(a)):n.Pi.allocateTargetId(i).next((u=>(a=new fa(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function sy(t,e,n){const i=Ue(t),a=i.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(u=>i.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Vl(u))throw u;be(iv,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function N1(t,e,n){const i=Ue(t);let a=Ve.min(),l=it();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,g,y){const v=Ue(p),T=v.xs.get(y);return T!==void 0?ue.resolve(v.Ms.get(T)):v.Pi.getTargetData(g,y)})(i,u,Fi(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,h.targetId).next((p=>{l=p}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,e,n?a:Ve.min(),n?l:it()))).next((h=>($4(i,PM(e),h),{documents:h,Qs:l})))))}function $4(t,e,n){let i=t.Os.get(e)||Ve.min();n.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.Os.set(e,i)}class I1{constructor(){this.activeTargetIds=BM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class X4{constructor(){this.Mo=new I1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new I1,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class J4{Oo(e){}shutdown(){}}const O1="ConnectivityMonitor";class D1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){be(O1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){be(O1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Rd=null;function ay(){return Rd===null?Rd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Rd++,"0x"+Rd.toString(16)}const dg="RestConnection",Z4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ek{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===rh?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,n,i,a,l){const u=ay(),h=this.zo(e,n.toUriEncodedString());be(dg,`Sending RPC '${e}' ${u}:`,h,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,a,l);const{host:g}=new URL(h),y=kl(g);return this.Jo(e,h,p,i,y).then((v=>(be(dg,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw Tl(dg,`RPC '${e}' ${u} failed with error: `,v,"url: ",h,"request:",i),v}))}Ho(e,n,i,a,l,u){return this.Go(e,n,i,a,l)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+jl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const i=Z4[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}class tk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Ln="WebChannelConnection";class nk extends ek{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,a,l){const u=ay();return new Promise(((h,p)=>{const g=new fS;g.setWithCredentials(!0),g.listenOnce(dS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Vd.NO_ERROR:const v=g.getResponseJson();be(Ln,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case Vd.TIMEOUT:be(Ln,`RPC '${e}' ${u} timed out`),p(new Ee(le.DEADLINE_EXCEEDED,"Request time out"));break;case Vd.HTTP_ERROR:const T=g.getStatus();if(be(Ln,`RPC '${e}' ${u} failed with status:`,T,"response text:",g.getResponseText()),T>0){let S=g.getResponseJson();Array.isArray(S)&&(S=S[0]);const I=S?.error;if(I&&I.status&&I.message){const D=(function(U){const B=U.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(B)>=0?B:le.UNKNOWN})(I.status);p(new Ee(D,I.message))}else p(new Ee(le.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new Ee(le.UNAVAILABLE,"Connection failed."));break;default:Pe(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{be(Ln,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);be(Ln,`RPC '${e}' ${u} sending request:`,a),g.send(n,"POST",y,i,15)}))}T_(e,n,i){const a=ay(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=mS(),h=pS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const y=l.join("");be(Ln,`Creating RPC '${e}' stream ${a}: ${y}`,p);const v=u.createWebChannel(y,p);this.I_(v);let T=!1,S=!1;const I=new tk({Yo:V=>{S?be(Ln,`Not sending because RPC '${e}' stream ${a} is closed:`,V):(T||(be(Ln,`Opening RPC '${e}' stream ${a} transport.`),v.open(),T=!0),be(Ln,`RPC '${e}' stream ${a} sending:`,V),v.send(V))},Zo:()=>v.close()}),D=(V,U,B)=>{V.listen(U,(K=>{try{B(K)}catch(G){setTimeout((()=>{throw G}),0)}}))};return D(v,nu.EventType.OPEN,(()=>{S||(be(Ln,`RPC '${e}' stream ${a} transport opened.`),I.o_())})),D(v,nu.EventType.CLOSE,(()=>{S||(S=!0,be(Ln,`RPC '${e}' stream ${a} transport closed`),I.a_(),this.E_(v))})),D(v,nu.EventType.ERROR,(V=>{S||(S=!0,Tl(Ln,`RPC '${e}' stream ${a} transport errored. Name:`,V.name,"Message:",V.message),I.a_(new Ee(le.UNAVAILABLE,"The operation could not be completed")))})),D(v,nu.EventType.MESSAGE,(V=>{if(!S){const U=V.data[0];mt(!!U,16349);const B=U,K=B?.error||B[0]?.error;if(K){be(Ln,`RPC '${e}' stream ${a} received error:`,K);const G=K.status;let $=(function(A){const O=un[A];if(O!==void 0)return QS(O)})(G),Z=K.message;$===void 0&&($=le.INTERNAL,Z="Unknown error status: "+G+" with message "+K.message),S=!0,I.a_(new Ee($,Z)),v.close()}else be(Ln,`RPC '${e}' stream ${a} received:`,U),I.u_(U)}})),D(h,hS.STAT_EVENT,(V=>{V.stat===Kg.PROXY?be(Ln,`RPC '${e}' stream ${a} detected buffering proxy`):V.stat===Kg.NOPROXY&&be(Ln,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function hg(){return typeof document<"u"?document:null}function Lh(t){return new a4(t,!0)}class cx{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&be("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const M1="PersistentStream";class ux{constructor(e,n,i,a,l,u,h,p){this.Mi=e,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new cx(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(Es(n.toString()),Es("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new Ee(le.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return be(M1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(be(M1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class rk extends ux{constructor(e,n,i,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=c4(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Ve.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ve.min():u.readTime?qi(u.readTime):Ve.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=iy(this.serializer),n.addTarget=(function(l,u){let h;const p=u.target;if(h=Jg(p)?{documents:d4(l,p)}:{query:h4(l,p).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=JS(l,u.resumeToken);const g=ty(l,u.expectedCount);g!==null&&(h.expectedCount=g)}else if(u.snapshotVersion.compareTo(Ve.min())>0){h.readTime=ch(l,u.snapshotVersion.toTimestamp());const g=ty(l,u.expectedCount);g!==null&&(h.expectedCount=g)}return h})(this.serializer,e);const i=m4(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=iy(this.serializer),n.removeTarget=e,this.q_(n)}}class ik extends ux{constructor(e,n,i,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return mt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,mt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){mt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=f4(e.writeResults,e.commitTime),i=qi(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=iy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>u4(this.serializer,i)))};this.q_(n)}}class sk{}class ak extends sk{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Ee(le.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,ny(n,i),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ee(le.UNKNOWN,l.toString())}))}Ho(e,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,ny(n,i),a,u,h,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ee(le.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ok{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Es(n),this.aa=!1):be("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const fo="RemoteStore";class lk{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{yo(this)&&(be(fo,"Restarting streams for network reachability change."),await(async function(p){const g=Ue(p);g.Ea.add(4),await Uu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Uh(g)})(this))}))})),this.Ra=new ok(i,a)}}async function Uh(t){if(yo(t))for(const e of t.da)await e(!0)}async function Uu(t){for(const e of t.da)await e(!1)}function fx(t,e){const n=Ue(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),lv(n)?ov(n):Ll(n).O_()&&av(n,e))}function sv(t,e){const n=Ue(t),i=Ll(n);n.Ia.delete(e),i.O_()&&dx(n,e),n.Ia.size===0&&(i.O_()?i.L_():yo(n)&&n.Ra.set("Unknown"))}function av(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ll(t).Y_(e)}function dx(t,e){t.Va.Ue(e),Ll(t).Z_(e)}function ov(t){t.Va=new n4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ll(t).start(),t.Ra.ua()}function lv(t){return yo(t)&&!Ll(t).x_()&&t.Ia.size>0}function yo(t){return Ue(t).Ea.size===0}function hx(t){t.Va=void 0}async function ck(t){t.Ra.set("Online")}async function uk(t){t.Ia.forEach(((e,n)=>{av(t,e)}))}async function fk(t,e){hx(t),lv(t)?(t.Ra.ha(e),ov(t)):t.Ra.set("Unknown")}async function dk(t,e,n){if(t.Ra.set("Online"),e instanceof XS&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.Va.removeTarget(h))})(t,e)}catch(i){be(fo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await fh(t,i)}else if(e instanceof Fd?t.Va.Ze(e):e instanceof $S?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ve.min()))try{const i=await lx(t.localStore);n.compareTo(i)>=0&&await(function(l,u){const h=l.Va.Tt(u);return h.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const y=l.Ia.get(g);y&&l.Ia.set(g,y.withResumeToken(p.resumeToken,u))}})),h.targetMismatches.forEach(((p,g)=>{const y=l.Ia.get(p);if(!y)return;l.Ia.set(p,y.withResumeToken(kn.EMPTY_BYTE_STRING,y.snapshotVersion)),dx(l,p);const v=new fa(y.target,p,g,y.sequenceNumber);av(l,v)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(i){be(fo,"Failed to raise snapshot:",i),await fh(t,i)}}async function fh(t,e,n){if(!Vl(e))throw e;t.Ea.add(1),await Uu(t),t.Ra.set("Offline"),n||(n=()=>lx(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{be(fo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Uh(t)}))}function px(t,e){return e().catch((n=>fh(t,n,e)))}async function Bh(t){const e=Ue(t),n=Ea(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Hy;for(;hk(e);)try{const a=await W4(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,pk(e,a)}catch(a){await fh(e,a)}mx(e)&&gx(e)}function hk(t){return yo(t)&&t.Ta.length<10}function pk(t,e){t.Ta.push(e);const n=Ea(t);n.O_()&&n.X_&&n.ea(e.mutations)}function mx(t){return yo(t)&&!Ea(t).x_()&&t.Ta.length>0}function gx(t){Ea(t).start()}async function mk(t){Ea(t).ra()}async function gk(t){const e=Ea(t);for(const n of t.Ta)e.ea(n.mutations)}async function yk(t,e,n){const i=t.Ta.shift(),a=Jy.from(i,e,n);await px(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Bh(t)}async function vk(t,e){e&&Ea(t).X_&&await(async function(i,a){if((function(u){return ZM(u)&&u!==le.ABORTED})(a.code)){const l=i.Ta.shift();Ea(i).B_(),await px(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Bh(i)}})(t,e),mx(t)&&gx(t)}async function k1(t,e){const n=Ue(t);n.asyncQueue.verifyOperationInProgress(),be(fo,"RemoteStore received new credentials");const i=yo(n);n.Ea.add(3),await Uu(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Uh(n)}async function bk(t,e){const n=Ue(t);e?(n.Ea.delete(2),await Uh(n)):e||(n.Ea.add(2),await Uu(n),n.Ra.set("Unknown"))}function Ll(t){return t.ma||(t.ma=(function(n,i,a){const l=Ue(n);return l.sa(),new rk(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:ck.bind(null,t),t_:uk.bind(null,t),r_:fk.bind(null,t),H_:dk.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),lv(t)?ov(t):t.Ra.set("Unknown")):(await t.ma.stop(),hx(t))}))),t.ma}function Ea(t){return t.fa||(t.fa=(function(n,i,a){const l=Ue(n);return l.sa(),new ik(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:mk.bind(null,t),r_:vk.bind(null,t),ta:gk.bind(null,t),na:yk.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Bh(t)):(await t.fa.stop(),t.Ta.length>0&&(be(fo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class cv{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new io,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const u=Date.now()+i,h=new cv(e,n,u,a,l);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uv(t,e){if(Es("AsyncQueue",`${e}: ${t}`),Vl(t))return new Ee(le.UNAVAILABLE,`${e}: ${t}`);throw t}class vl{static emptySet(e){return new vl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Oe.comparator(n.key,i.key):(n,i)=>Oe.comparator(n.key,i.key),this.keyedMap=ru(),this.sortedSet=new Bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new vl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class P1{constructor(){this.ga=new Bt(Oe.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Pe(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Rl{constructor(e,n,i,a,l,u,h,p,g){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,i,a,l){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new Rl(e,n,vl.emptySet(n),u,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}class _k{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Ek{constructor(){this.queries=j1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=Ue(n),l=a.queries;a.queries=j1(),l.forEach(((u,h)=>{for(const p of h.Sa)p.onError(i)}))})(this,new Ee(le.ABORTED,"Firestore shutting down"))}}function j1(){return new go((t=>zS(t)),kh)}async function wk(t,e){const n=Ue(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(i=2):(l=new _k,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const h=uv(u,`Initialization of query '${fl(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&fv(n)}async function Tk(t,e){const n=Ue(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function Sk(t,e){const n=Ue(t);let i=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const h of u.Sa)h.Fa(a)&&(i=!0);u.wa=a}}i&&fv(n)}function xk(t,e,n){const i=Ue(t),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);i.queries.delete(e)}function fv(t){t.Ca.forEach((e=>{e.next()}))}var oy,z1;(z1=oy||(oy={})).Ma="default",z1.Cache="cache";class Ak{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Rl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==oy.Cache}}class yx{constructor(e){this.key=e}}class vx{constructor(e){this.key=e}}class Ck{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=it(),this.mutatedKeys=it(),this.eu=VS(e),this.tu=new vl(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new P1,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,h=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,v)=>{const T=a.get(y),S=Ph(this.query,v)?v:null,I=!!T&&this.mutatedKeys.has(T.key),D=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let V=!1;T&&S?T.data.isEqual(S.data)?I!==D&&(i.track({type:3,doc:S}),V=!0):this.su(T,S)||(i.track({type:2,doc:S}),V=!0,(p&&this.eu(S,p)>0||g&&this.eu(S,g)<0)&&(h=!0)):!T&&S?(i.track({type:0,doc:S}),V=!0):T&&!S&&(i.track({type:1,doc:T}),V=!0,(p||g)&&(h=!0)),V&&(S?(u=u.add(S),l=D?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{tu:u,iu:i,Cs:h,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,v)=>(function(S,I){const D=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe(20277,{Rt:V})}};return D(S)-D(I)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(i),a=a??!1;const h=n&&!a?this._u():[],p=this.Xa.size===0&&this.current&&!a?1:0,g=p!==this.Za;return this.Za=p,u.length!==0||g?{snapshot:new Rl(this.query,e.tu,l,u,e.mutatedKeys,p===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new P1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=it(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new vx(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new yx(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=it();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Rl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const dv="SyncEngine";class Rk{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class Nk{constructor(e){this.key=e,this.hu=!1}}class Ik{constructor(e,n,i,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new go((h=>zS(h)),kh),this.Iu=new Map,this.Eu=new Set,this.du=new Bt(Oe.comparator),this.Au=new Map,this.Ru=new tv,this.Vu={},this.mu=new Map,this.fu=Cl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Ok(t,e,n=!0){const i=Sx(t);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await bx(i,e,n,!0),a}async function Dk(t,e){const n=Sx(t);await bx(n,e,!0,!1)}async function bx(t,e,n,i){const a=await Q4(t.localStore,Fi(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let h;return i&&(h=await Mk(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&fx(t.remoteStore,a),h}async function Mk(t,e,n,i,a){t.pu=(v,T,S)=>(async function(D,V,U,B){let K=V.view.ru(U);K.Cs&&(K=await N1(D.localStore,V.query,!1).then((({documents:R})=>V.view.ru(R,K))));const G=B&&B.targetChanges.get(V.targetId),$=B&&B.targetMismatches.get(V.targetId)!=null,Z=V.view.applyChanges(K,D.isPrimaryClient,G,$);return L1(D,V.targetId,Z.au),Z.snapshot})(t,v,T,S);const l=await N1(t.localStore,e,!0),u=new Ck(e,l.Qs),h=u.ru(l.documents),p=Lu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),g=u.applyChanges(h,t.isPrimaryClient,p);L1(t,n,g.au);const y=new Rk(e,n,u);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function kk(t,e,n){const i=Ue(t),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((u=>!kh(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await sy(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&sv(i.remoteStore,a.targetId),ly(i,a.targetId)})).catch(zl)):(ly(i,a.targetId),await sy(i.localStore,a.targetId,!0))}async function Pk(t,e){const n=Ue(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),sv(n.remoteStore,i.targetId))}async function jk(t,e,n){const i=qk(t);try{const a=await(function(u,h){const p=Ue(u),g=Mt.now(),y=h.reduce(((S,I)=>S.add(I.key)),it());let v,T;return p.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let I=ws(),D=it();return p.Ns.getEntries(S,y).next((V=>{I=V,I.forEach(((U,B)=>{B.isValidDocument()||(D=D.add(U))}))})).next((()=>p.localDocuments.getOverlayedDocuments(S,I))).next((V=>{v=V;const U=[];for(const B of h){const K=WM(B,v.get(B.key).overlayedDocument);K!=null&&U.push(new Ca(B.key,K,NS(K.value.mapValue),Hr.exists(!0)))}return p.mutationQueue.addMutationBatch(S,g,U,h)})).next((V=>{T=V;const U=V.applyToLocalDocumentSet(v,D);return p.documentOverlayCache.saveOverlays(S,V.batchId,U)}))})).then((()=>({batchId:T.batchId,changes:US(v)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(u,h,p){let g=u.Vu[u.currentUser.toKey()];g||(g=new Bt(rt)),g=g.insert(h,p),u.Vu[u.currentUser.toKey()]=g})(i,a.batchId,n),await Bu(i,a.changes),await Bh(i.remoteStore)}catch(a){const l=uv(a,"Failed to persist write");n.reject(l)}}async function _x(t,e){const n=Ue(t);try{const i=await Y4(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(mt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?mt(u.hu,14607):a.removedDocuments.size>0&&(mt(u.hu,42227),u.hu=!1))})),await Bu(n,i,e)}catch(i){await zl(i)}}function V1(t,e,n){const i=Ue(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((l,u)=>{const h=u.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const p=Ue(u);p.onlineState=h;let g=!1;p.queries.forEach(((y,v)=>{for(const T of v.Sa)T.va(h)&&(g=!0)})),g&&fv(p)})(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function zk(t,e,n){const i=Ue(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),l=a&&a.key;if(l){let u=new Bt(Oe.comparator);u=u.insert(l,qn.newNoDocument(l,Ve.min()));const h=it().add(l),p=new Vh(Ve.min(),new Map,new Bt(rt),u,h);await _x(i,p),i.du=i.du.remove(l),i.Au.delete(e),hv(i)}else await sy(i.localStore,e,!1).then((()=>ly(i,e,n))).catch(zl)}async function Vk(t,e){const n=Ue(t),i=e.batch.batchId;try{const a=await G4(n.localStore,e);wx(n,i,null),Ex(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Bu(n,a)}catch(a){await zl(a)}}async function Lk(t,e,n){const i=Ue(t);try{const a=await(function(u,h){const p=Ue(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return p.mutationQueue.lookupMutationBatch(g,h).next((v=>(mt(v!==null,37113),y=v.keys(),p.mutationQueue.removeMutationBatch(g,v)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,y,h))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>p.localDocuments.getDocuments(g,y)))}))})(i.localStore,e);wx(i,e,n),Ex(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Bu(i,a)}catch(a){await zl(a)}}function Ex(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function wx(t,e,n){const i=Ue(t);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function ly(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((i=>{t.Ru.containsKey(i)||Tx(t,i)}))}function Tx(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(sv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),hv(t))}function L1(t,e,n){for(const i of n)i instanceof yx?(t.Ru.addReference(i.key,e),Uk(t,i)):i instanceof vx?(be(dv,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||Tx(t,i.key)):Pe(19791,{wu:i})}function Uk(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(be(dv,"New document in limbo: "+n),t.Eu.add(i),hv(t))}function hv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Oe(Nt.fromString(e)),i=t.fu.next();t.Au.set(i,new Nk(n)),t.du=t.du.insert(n,i),fx(t.remoteStore,new fa(Fi(Qy(n.path)),i,"TargetPurposeLimboResolution",Oh.ce))}}async function Bu(t,e,n){const i=Ue(t),a=[],l=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,p)=>{u.push(i.pu(p,e,n).then((g=>{if((g||n)&&i.isPrimaryClient){const y=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;i.sharedClientState.updateQueryState(p.targetId,y?"current":"not-current")}if(g){a.push(g);const y=rv.As(p.targetId,g);l.push(y)}})))})),await Promise.all(u),i.Pu.H_(a),await(async function(p,g){const y=Ue(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>ue.forEach(g,(T=>ue.forEach(T.Es,(S=>y.persistence.referenceDelegate.addReference(v,T.targetId,S))).next((()=>ue.forEach(T.ds,(S=>y.persistence.referenceDelegate.removeReference(v,T.targetId,S)))))))))}catch(v){if(!Vl(v))throw v;be(iv,"Failed to update sequence numbers: "+v)}for(const v of g){const T=v.targetId;if(!v.fromCache){const S=y.Ms.get(T),I=S.snapshotVersion,D=S.withLastLimboFreeSnapshotVersion(I);y.Ms=y.Ms.insert(T,D)}}})(i.localStore,l))}async function Bk(t,e){const n=Ue(t);if(!n.currentUser.isEqual(e)){be(dv,"User change. New user:",e.toKey());const i=await ox(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((h=>{h.forEach((p=>{p.reject(new Ee(le.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Bu(n,i.Ls)}}function Fk(t,e){const n=Ue(t),i=n.Au.get(e);if(i&&i.hu)return it().add(i.key);{let a=it();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const h=n.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function Sx(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_x.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Fk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zk.bind(null,e),e.Pu.H_=Sk.bind(null,e.eventManager),e.Pu.yu=xk.bind(null,e.eventManager),e}function qk(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Vk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Lk.bind(null,e),e}class dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return H4(this.persistence,new B4,e.initialUser,this.serializer)}Cu(e){return new ax(nv.mi,this.serializer)}Du(e){return new X4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dh.provider={build:()=>new dh};class Hk extends dh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){mt(this.persistence.referenceDelegate instanceof uh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new A4(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?cr.withCacheSize(this.cacheSizeBytes):cr.DEFAULT;return new ax((i=>uh.mi(i,n)),this.serializer)}}class cy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>V1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Bk.bind(null,this.syncEngine),await bk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Ek})()}createDatastore(e){const n=Lh(e.databaseInfo.databaseId),i=(function(l){return new nk(l)})(e.databaseInfo);return(function(l,u,h,p){return new ak(l,u,h,p)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,l,u,h){return new lk(i,a,l,u,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>V1(this.syncEngine,n,0)),(function(){return D1.v()?new D1:new J4})())}createSyncEngine(e,n){return(function(a,l,u,h,p,g,y){const v=new Ik(a,l,u,h,p,g);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Ue(n);be(fo,"RemoteStore shutting down."),i.Ea.add(5),await Uu(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}cy.provider={build:()=>new cy};class Gk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Es("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const wa="FirestoreClient";class Yk{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=Bn.UNAUTHENTICATED,this.clientId=qy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async u=>{be(wa,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(be(wa,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new io;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=uv(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function pg(t,e){t.asyncQueue.verifyOperationInProgress(),be(wa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await ox(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function U1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Kk(t);be(wa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>k1(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>k1(e.remoteStore,a))),t._onlineComponents=e}async function Kk(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){be(wa,"Using user provided OfflineComponentProvider");try{await pg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===le.FAILED_PRECONDITION||a.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Tl("Error using user provided cache. Falling back to memory cache: "+n),await pg(t,new dh)}}else be(wa,"Using default OfflineComponentProvider"),await pg(t,new Hk(void 0));return t._offlineComponents}async function xx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(be(wa,"Using user provided OnlineComponentProvider"),await U1(t,t._uninitializedComponentsProvider._online)):(be(wa,"Using default OnlineComponentProvider"),await U1(t,new cy))),t._onlineComponents}function Wk(t){return xx(t).then((e=>e.syncEngine))}async function B1(t){const e=await xx(t),n=e.eventManager;return n.onListen=Ok.bind(null,e.syncEngine),n.onUnlisten=kk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Dk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Pk.bind(null,e.syncEngine),n}function Ax(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const F1=new Map;const Cx="firestore.googleapis.com",q1=!0;class H1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Cx,this.ssl=q1}else this.host=e.host,this.ssl=e.ssl??q1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<S4)throw new Ee(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ax(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ee(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ee(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ee(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fh{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new H1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new H1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new JD;switch(i.type){case"firstParty":return new nM(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ee(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=F1.get(n);i&&(be("ComponentProvider","Removing Datastore"),F1.delete(n),i.terminate())})(this),Promise.resolve()}}function Qk(t,e,n,i={}){t=Bi(t,Fh);const a=kl(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(_T(`https://${h}`),ET("Firestore",!0)),l.host!==Cx&&l.host!==h&&Tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:h,ssl:a,emulatorOptions:i};if(!ao(p,u)&&(t._setSettings(p),i.mockUserToken)){let g,y;if(typeof i.mockUserToken=="string")g=i.mockUserToken,y=Bn.MOCK_USER;else{g=QR(i.mockUserToken,t._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new Ee(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Bn(v)}t._authCredentials=new ZD(new yS(g,y))}}class Ul{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ul(this.firestore,e,this._query)}}class Xt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xt(this.firestore,e,this._key)}toJSON(){return{type:Xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(ju(n,Xt._jsonSchema))return new Xt(e,i||null,new Oe(Nt.fromString(n.referencePath)))}}Xt._jsonSchemaVersion="firestore/documentReference/1.0",Xt._jsonSchema={type:dn("string",Xt._jsonSchemaVersion),referencePath:dn("string")};class ga extends Ul{constructor(e,n,i){super(e,n,Qy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new Oe(e))}withConverter(e){return new ga(this.firestore,e,this._path)}}function Ja(t,e,...n){if(t=kt(t),vS("collection","path",e),t instanceof Fh){const i=Nt.fromString(e,...n);return n1(i),new ga(t,null,i)}{if(!(t instanceof Xt||t instanceof ga))throw new Ee(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Nt.fromString(e,...n));return n1(i),new ga(t.firestore,null,i)}}function Di(t,e,...n){if(t=kt(t),arguments.length===1&&(e=qy.newId()),vS("doc","path",e),t instanceof Fh){const i=Nt.fromString(e,...n);return t1(i),new Xt(t,null,new Oe(i))}{if(!(t instanceof Xt||t instanceof ga))throw new Ee(le.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Nt.fromString(e,...n));return t1(i),new Xt(t.firestore,t instanceof ga?t.converter:null,new Oe(i))}}const G1="AsyncQueue";class Y1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new cx(this,"async_queue_retry"),this._c=()=>{const i=hg();i&&be(G1,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=hg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=hg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new io;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Vl(e))throw e;be(G1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Es("INTERNAL UNHANDLED ERROR: ",K1(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=cv.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Pe(47125,{Pc:K1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function K1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function W1(t){return(function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class ho extends Fh{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new Y1,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Y1(e),this._firestoreClient=void 0,await e}}}function $k(t,e){const n=typeof t=="object"?t:xT(),i=typeof t=="string"?t:rh,a=Ny(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=KR("firestore");l&&Qk(a,...l)}return a}function Rx(t){if(t._terminated)throw new Ee(le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Xk(t),t._firestoreClient}function Xk(t){const e=t._freezeSettings(),n=(function(a,l,u,h){return new bM(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Ax(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Yk(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class Fr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fr(kn.fromBase64String(e))}catch(n){throw new Ee(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fr(kn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ju(e,Fr._jsonSchema))return Fr.fromBase64String(e.bytes)}}Fr._jsonSchemaVersion="firestore/bytes/1.0",Fr._jsonSchema={type:dn("string",Fr._jsonSchemaVersion),bytes:dn("string")};class qh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ee(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pv{constructor(e){this._methodName=e}}class Hi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ee(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ee(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return rt(this._lat,e._lat)||rt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hi._jsonSchemaVersion}}static fromJSON(e){if(ju(e,Hi._jsonSchema))return new Hi(e.latitude,e.longitude)}}Hi._jsonSchemaVersion="firestore/geoPoint/1.0",Hi._jsonSchema={type:dn("string",Hi._jsonSchemaVersion),latitude:dn("number"),longitude:dn("number")};class Gi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ju(e,Gi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Gi(e.vectorValues);throw new Ee(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gi._jsonSchemaVersion="firestore/vectorValue/1.0",Gi._jsonSchema={type:dn("string",Gi._jsonSchemaVersion),vectorValues:dn("object")};const Jk=/^__.*__$/;class Zk{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Ca(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vu(e,this.data,n,this.fieldTransforms)}}class Nx{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Ca(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ix(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe(40011,{Ac:t})}}class mv{constructor(e,n,i,a,l,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new mv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return hh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Ix(this.Ac)&&Jk.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class e3{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Lh(e)}Cc(e,n,i,a=!1){return new mv({Ac:e,methodName:n,Dc:i,path:Mn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hh(t){const e=t._freezeSettings(),n=Lh(t._databaseId);return new e3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ox(t,e,n,i,a,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);gv("Data must be an object, but it was:",u,i);const h=Dx(i,u);let p,g;if(l.merge)p=new Ar(u.fieldMask),g=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const T=uy(e,v,n);if(!u.contains(T))throw new Ee(le.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);kx(y,T)||y.push(T)}p=new Ar(y),g=u.fieldTransforms.filter((v=>p.covers(v.field)))}else p=null,g=u.fieldTransforms;return new Zk(new fr(h),p,g)}class Gh extends pv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gh}}function t3(t,e,n,i){const a=t.Cc(1,e,n);gv("Data must be an object, but it was:",a,i);const l=[],u=fr.empty();Aa(i,((p,g)=>{const y=yv(e,p,n);g=kt(g);const v=a.yc(y);if(g instanceof Gh)l.push(y);else{const T=Fu(g,v);T!=null&&(l.push(y),u.set(y,T))}}));const h=new Ar(l);return new Nx(u,h,a.fieldTransforms)}function n3(t,e,n,i,a,l){const u=t.Cc(1,e,n),h=[uy(e,i,n)],p=[a];if(l.length%2!=0)throw new Ee(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)h.push(uy(e,l[T])),p.push(l[T+1]);const g=[],y=fr.empty();for(let T=h.length-1;T>=0;--T)if(!kx(g,h[T])){const S=h[T];let I=p[T];I=kt(I);const D=u.yc(S);if(I instanceof Gh)g.push(S);else{const V=Fu(I,D);V!=null&&(g.push(S),y.set(S,V))}}const v=new Ar(g);return new Nx(y,v,u.fieldTransforms)}function r3(t,e,n,i=!1){return Fu(n,t.Cc(i?4:3,e))}function Fu(t,e){if(Mx(t=kt(t)))return gv("Unsupported field value:",e,t),Dx(t,e);if(t instanceof pv)return(function(i,a){if(!Ix(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,a){const l=[];let u=0;for(const h of i){let p=Fu(h,a.wc(u));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),u++}return{arrayValue:{values:l}}})(t,e)}return(function(i,a){if((i=kt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return FM(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Mt.fromDate(i);return{timestampValue:ch(a.serializer,l)}}if(i instanceof Mt){const l=new Mt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ch(a.serializer,l)}}if(i instanceof Hi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Fr)return{bytesValue:JS(a.serializer,i._byteString)};if(i instanceof Xt){const l=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ev(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Gi)return(function(u,h){return{mapValue:{fields:{[CS]:{stringValue:RS},[ih]:{arrayValue:{values:u.toArray().map((g=>{if(typeof g!="number")throw h.Sc("VectorValues must only contain numeric values.");return $y(h.serializer,g)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${Ih(i)}`)})(t,e)}function Dx(t,e){const n={};return ES(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Aa(t,((i,a)=>{const l=Fu(a,e.mc(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function Mx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Mt||t instanceof Hi||t instanceof Fr||t instanceof Xt||t instanceof pv||t instanceof Gi)}function gv(t,e,n){if(!Mx(n)||!bS(n)){const i=Ih(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function uy(t,e,n){if((e=kt(e))instanceof qh)return e._internalPath;if(typeof e=="string")return yv(t,e);throw hh("Field path arguments must be of type string or ",t,!1,void 0,n)}const i3=new RegExp("[~\\*/\\[\\]]");function yv(t,e,n){if(e.search(i3)>=0)throw hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qh(...e.split("."))._internalPath}catch{throw hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hh(t,e,n,i,a){const l=i&&!i.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(l||u)&&(p+=" (found",l&&(p+=` in field ${i}`),u&&(p+=` in document ${a}`),p+=")"),new Ee(le.INVALID_ARGUMENT,h+t+p)}function kx(t,e){return t.some((n=>n.isEqual(e)))}class Px{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new s3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(vv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class s3 extends Px{data(){return super.data()}}function vv(t,e){return typeof e=="string"?yv(t,e):e instanceof qh?e._internalPath:e._delegate._internalPath}function a3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ee(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bv{}class o3 extends bv{}function mg(t,e,...n){let i=[];e instanceof bv&&i.push(e),i=i.concat(n),(function(l){const u=l.filter((p=>p instanceof _v)).length,h=l.filter((p=>p instanceof Yh)).length;if(u>1||u>0&&h>0)throw new Ee(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class Yh extends o3{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Yh(e,n,i)}_apply(e){const n=this._parse(e);return jx(e._query,n),new Ul(e.firestore,e.converter,Zg(e._query,n))}_parse(e){const n=Hh(e.firestore);return(function(l,u,h,p,g,y,v){let T;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new Ee(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){$1(v,y);const I=[];for(const D of v)I.push(Q1(p,l,D));T={arrayValue:{values:I}}}else T=Q1(p,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||$1(v,y),T=r3(h,u,v,y==="in"||y==="not-in");return fn.create(g,y,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function gg(t,e,n){const i=e,a=vv("where",t);return Yh._create(a,i,n)}class _v extends bv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new _v(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:ai.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const h=l.getFlattenedFilters();for(const p of h)jx(u,p),u=Zg(u,p)})(e._query,n),new Ul(e.firestore,e.converter,Zg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Q1(t,e,n){if(typeof(n=kt(n))=="string"){if(n==="")throw new Ee(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jS(e)&&n.indexOf("/")!==-1)throw new Ee(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Nt.fromString(n));if(!Oe.isDocumentKey(i))throw new Ee(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return u1(t,new Oe(i))}if(n instanceof Xt)return u1(t,n._key);throw new Ee(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ih(n)}.`)}function $1(t,e){if(!Array.isArray(t)||t.length===0)throw new Ee(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jx(t,e){const n=(function(a,l){for(const u of a)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ee(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ee(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class l3{convertValue(e,n="none"){switch(_a(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ba(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Aa(e,((a,l)=>{i[a]=this.convertValue(l,n)})),i}convertVectorValue(e){const n=e.fields?.[ih].arrayValue?.values?.map((i=>$t(i.doubleValue)));return new Gi(n)}convertGeoPoint(e){return new Hi($t(e.latitude),$t(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Mh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(_u(e));default:return null}}convertTimestamp(e){const n=va(e);return new Mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Nt.fromString(e);mt(ix(i),9688,{name:e});const a=new Eu(i.get(1),i.get(3)),l=new Oe(i.popFirst(5));return a.isEqual(n)||Es(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function zx(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class su{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class so extends Px{constructor(e,n,i,a,l,u){super(e,n,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(vv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=so._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}so._jsonSchemaVersion="firestore/documentSnapshot/1.0",so._jsonSchema={type:dn("string",so._jsonSchemaVersion),bundleSource:dn("string","DocumentSnapshot"),bundleName:dn("string"),bundle:dn("string")};class qd extends so{data(e={}){return super.data(e)}}class bl{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new su(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new qd(this._firestore,this._userDataWriter,i.key,i,new su(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ee(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const p=new qd(a._firestore,a._userDataWriter,h.doc.key,h.doc,new su(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const p=new qd(a._firestore,a._userDataWriter,h.doc.key,h.doc,new su(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,y=-1;return h.type!==0&&(g=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:c3(h.type),doc:p,oldIndex:g,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=bl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function c3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe(61501,{type:t})}}bl._jsonSchemaVersion="firestore/querySnapshot/1.0",bl._jsonSchema={type:dn("string",bl._jsonSchemaVersion),bundleSource:dn("string","QuerySnapshot"),bundleName:dn("string"),bundle:dn("string")};class Vx extends l3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,n)}}function X1(t,e,n){t=Bi(t,Xt);const i=Bi(t.firestore,ho),a=zx(t.converter,e,n);return Kh(i,[Ox(Hh(i),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Hr.none())])}function Nd(t,e,n,...i){t=Bi(t,Xt);const a=Bi(t.firestore,ho),l=Hh(a);let u;return u=typeof(e=kt(e))=="string"||e instanceof qh?n3(l,"updateDoc",t._key,e,n,i):t3(l,"updateDoc",t._key,e),Kh(a,[u.toMutation(t._key,Hr.exists(!0))])}function yg(t){return Kh(Bi(t.firestore,ho),[new Xy(t._key,Hr.none())])}function Id(t,e){const n=Bi(t.firestore,ho),i=Di(t),a=zx(t.converter,e);return Kh(n,[Ox(Hh(t.firestore),"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,Hr.exists(!1))]).then((()=>i))}function vg(t,...e){t=kt(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||W1(e[i])||(n=e[i++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(W1(e[i])){const p=e[i];e[i]=p.next?.bind(p),e[i+1]=p.error?.bind(p),e[i+2]=p.complete?.bind(p)}let l,u,h;if(t instanceof Xt)u=Bi(t.firestore,ho),h=Qy(t._key.path),l={next:p=>{e[i]&&e[i](u3(u,t,p))},error:e[i+1],complete:e[i+2]};else{const p=Bi(t,Ul);u=Bi(p.firestore,ho),h=p._query;const g=new Vx(u);l={next:y=>{e[i]&&e[i](new bl(u,g,p,y))},error:e[i+1],complete:e[i+2]},a3(t._query)}return(function(g,y,v,T){const S=new Gk(T),I=new Ak(y,S,v);return g.asyncQueue.enqueueAndForget((async()=>wk(await B1(g),I))),()=>{S.Nu(),g.asyncQueue.enqueueAndForget((async()=>Tk(await B1(g),I)))}})(Rx(u),h,a,l)}function Kh(t,e){return(function(i,a){const l=new io;return i.asyncQueue.enqueueAndForget((async()=>jk(await Wk(i),a,l))),l.promise})(Rx(t),e)}function u3(t,e,n){const i=n.docs.get(e._key),a=new Vx(t);return new so(t,a,e._key,i,new su(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){jl=a})(Pl),El(new oo("firestore",((i,{instanceIdentifier:a,options:l})=>{const u=i.getProvider("app").getImmediate(),h=new ho(new eM(i.getProvider("auth-internal")),new rM(u,i.getProvider("app-check-internal")),(function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Ee(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eu(g.options.projectId,y)})(u,a),u);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),pa(XE,JE,e),pa(XE,JE,"esm2020")})();const f3={apiKey:"AIzaSyBKYjUTN6Z1VNMAlJWG8C7YhLYFfm6AX0c",authDomain:"hone-habit-tracker.firebaseapp.com",projectId:"hone-habit-tracker",storageBucket:"hone-habit-tracker.firebasestorage.app",messagingSenderId:"21861264010",appId:"1:21861264010:web:80cc3bc228ad947d9e9b73"},Lx=ST(f3),Oi=By(Lx),Un=$k(Lx),Ux=k.createContext(void 0);function Bl(){const t=k.useContext(Ux);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}function d3({children:t}){const[e,n]=k.useState(null),[i,a]=k.useState(!0);async function l(G,$){await CO(Oi,G,$)}async function u(G,$){await RO(Oi,G,$)}async function h(){await zO(Oi)}async function p(){const G=new ji;await rD(Oi,G)}async function g(){if(!e)return;const G=new ji;await iD(e,G)}async function y(G){e&&await EO(e,G)}async function v(G){await AO(Oi,G)}async function T(G){if(!e)throw new Error("No authenticated user found");await DO(e,G)}async function S(){e&&await OO(e)}async function I(G){const $={url:window.location.origin,handleCodeInApp:!0};await NO(Oi,G,$),window.localStorage.setItem("emailForSignIn",G)}async function D(G,$){zy(Oi,$)&&(await IO(Oi,G,$),window.localStorage.removeItem("emailForSignIn"))}async function V(G){if(!e||!e.email)throw new Error("No user to reauthenticate");const $=xa.credential(e.email,G);await SO(e,$)}k.useEffect(()=>jO(Oi,$=>{n($),a(!1)}),[]);async function U(G){const Z=await fetch("https://hone-app.vercel.app/api/send-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:G})});if(!Z.ok){const R=await Z.json();throw new Error(R.error||"Failed to send OTP")}}async function B(G,$,Z){const A=await fetch("https://hone-app.vercel.app/api/verify-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:G,otp:$,password:Z})}),O=await A.json();if(!A.ok)throw new Error(O.error||"Failed to verify OTP");return e&&(await e.reload(),n({...Oi.currentUser})),O}const K={currentUser:e,loading:i,signup:l,login:u,logout:h,googleLogin:p,linkGoogle:g,unlinkProvider:y,resetPassword:v,updateUserPassword:T,verifyEmail:S,sendLoginLink:I,completeLoginWithLink:D,reauthenticateUser:V,sendOtp:U,verifyOtp:B};return E.jsx(Ux.Provider,{value:K,children:!i&&t})}var ri=oT();const Hd=mo(ri);function h3(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return k.useMemo(()=>i=>{e.forEach(a=>a(i))},e)}const Wh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Fl(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function Ev(t){return"nodeType"in t}function hr(t){var e,n;return t?Fl(t)?t:Ev(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function wv(t){const{Document:e}=hr(t);return t instanceof e}function qu(t){return Fl(t)?!1:t instanceof hr(t).HTMLElement}function Bx(t){return t instanceof hr(t).SVGElement}function ql(t){return t?Fl(t)?t.document:Ev(t)?wv(t)?t:qu(t)||Bx(t)?t.ownerDocument:document:document:document}const Ki=Wh?k.useLayoutEffect:k.useEffect;function Tv(t){const e=k.useRef(t);return Ki(()=>{e.current=t}),k.useCallback(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e.current==null?void 0:e.current(...i)},[])}function p3(){const t=k.useRef(null),e=k.useCallback((i,a)=>{t.current=setInterval(i,a)},[]),n=k.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function xu(t,e){e===void 0&&(e=[t]);const n=k.useRef(t);return Ki(()=>{n.current!==t&&(n.current=t)},e),n}function Hu(t,e){const n=k.useRef();return k.useMemo(()=>{const i=t(n.current);return n.current=i,i},[...e])}function ph(t){const e=Tv(t),n=k.useRef(null),i=k.useCallback(a=>{a!==n.current&&e?.(a,n.current),n.current=a},[]);return[n,i]}function fy(t){const e=k.useRef();return k.useEffect(()=>{e.current=t},[t]),e.current}let bg={};function Gu(t,e){return k.useMemo(()=>{if(e)return e;const n=bg[t]==null?0:bg[t]+1;return bg[t]=n,t+"-"+n},[t,e])}function Fx(t){return function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return i.reduce((l,u)=>{const h=Object.entries(u);for(const[p,g]of h){const y=l[p];y!=null&&(l[p]=y+t*g)}return l},{...e})}}const _l=Fx(1),Au=Fx(-1);function m3(t){return"clientX"in t&&"clientY"in t}function Sv(t){if(!t)return!1;const{KeyboardEvent:e}=hr(t.target);return e&&t instanceof e}function g3(t){if(!t)return!1;const{TouchEvent:e}=hr(t.target);return e&&t instanceof e}function dy(t){if(g3(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return m3(t)?{x:t.clientX,y:t.clientY}:null}const Nl=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[Nl.Translate.toString(t),Nl.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:i}=t;return e+" "+n+"ms "+i}}}),J1="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function y3(t){return t.matches(J1)?t:t.querySelector(J1)}const v3={display:"none"};function b3(t){let{id:e,value:n}=t;return Ne.createElement("div",{id:e,style:v3},n)}function _3(t){let{id:e,announcement:n,ariaLiveType:i="assertive"}=t;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ne.createElement("div",{id:e,style:a,role:"status","aria-live":i,"aria-atomic":!0},n)}function E3(){const[t,e]=k.useState("");return{announce:k.useCallback(i=>{i!=null&&e(i)},[]),announcement:t}}const qx=k.createContext(null);function w3(t){const e=k.useContext(qx);k.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function T3(){const[t]=k.useState(()=>new Set),e=k.useCallback(i=>(t.add(i),()=>t.delete(i)),[t]);return[k.useCallback(i=>{let{type:a,event:l}=i;t.forEach(u=>{var h;return(h=u[a])==null?void 0:h.call(u,l)})},[t]),e]}const S3={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},x3={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function A3(t){let{announcements:e=x3,container:n,hiddenTextDescribedById:i,screenReaderInstructions:a=S3}=t;const{announce:l,announcement:u}=E3(),h=Gu("DndLiveRegion"),[p,g]=k.useState(!1);if(k.useEffect(()=>{g(!0)},[]),w3(k.useMemo(()=>({onDragStart(v){let{active:T}=v;l(e.onDragStart({active:T}))},onDragMove(v){let{active:T,over:S}=v;e.onDragMove&&l(e.onDragMove({active:T,over:S}))},onDragOver(v){let{active:T,over:S}=v;l(e.onDragOver({active:T,over:S}))},onDragEnd(v){let{active:T,over:S}=v;l(e.onDragEnd({active:T,over:S}))},onDragCancel(v){let{active:T,over:S}=v;l(e.onDragCancel({active:T,over:S}))}}),[l,e])),!p)return null;const y=Ne.createElement(Ne.Fragment,null,Ne.createElement(b3,{id:i,value:a.draggable}),Ne.createElement(_3,{id:h,announcement:u}));return n?ri.createPortal(y,n):y}var gn;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(gn||(gn={}));function mh(){}function Z1(t,e){return k.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function C3(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return k.useMemo(()=>[...e].filter(i=>i!=null),[...e])}const oi=Object.freeze({x:0,y:0});function Hx(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Gx(t,e){let{data:{value:n}}=t,{data:{value:i}}=e;return n-i}function R3(t,e){let{data:{value:n}}=t,{data:{value:i}}=e;return i-n}function ew(t){let{left:e,top:n,height:i,width:a}=t;return[{x:e,y:n},{x:e+a,y:n},{x:e,y:n+i},{x:e+a,y:n+i}]}function Yx(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function tw(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const nw=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:i}=t;const a=tw(e,e.left,e.top),l=[];for(const u of i){const{id:h}=u,p=n.get(h);if(p){const g=Hx(tw(p),a);l.push({id:h,data:{droppableContainer:u,value:g}})}}return l.sort(Gx)},N3=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:i}=t;const a=ew(e),l=[];for(const u of i){const{id:h}=u,p=n.get(h);if(p){const g=ew(p),y=a.reduce((T,S,I)=>T+Hx(g[I],S),0),v=Number((y/4).toFixed(4));l.push({id:h,data:{droppableContainer:u,value:v}})}}return l.sort(Gx)};function I3(t,e){const n=Math.max(e.top,t.top),i=Math.max(e.left,t.left),a=Math.min(e.left+e.width,t.left+t.width),l=Math.min(e.top+e.height,t.top+t.height),u=a-i,h=l-n;if(i<a&&n<l){const p=e.width*e.height,g=t.width*t.height,y=u*h,v=y/(p+g-y);return Number(v.toFixed(4))}return 0}const O3=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:i}=t;const a=[];for(const l of i){const{id:u}=l,h=n.get(u);if(h){const p=I3(h,e);p>0&&a.push({id:u,data:{droppableContainer:l,value:p}})}}return a.sort(R3)};function D3(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function Kx(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:oi}function M3(t){return function(n){for(var i=arguments.length,a=new Array(i>1?i-1:0),l=1;l<i;l++)a[l-1]=arguments[l];return a.reduce((u,h)=>({...u,top:u.top+t*h.y,bottom:u.bottom+t*h.y,left:u.left+t*h.x,right:u.right+t*h.x}),{...n})}}const k3=M3(1);function P3(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function j3(t,e,n){const i=P3(e);if(!i)return t;const{scaleX:a,scaleY:l,x:u,y:h}=i,p=t.left-u-(1-a)*parseFloat(n),g=t.top-h-(1-l)*parseFloat(n.slice(n.indexOf(" ")+1)),y=a?t.width/a:t.width,v=l?t.height/l:t.height;return{width:y,height:v,top:g,right:p+y,bottom:g+v,left:p}}const z3={ignoreTransform:!1};function Hl(t,e){e===void 0&&(e=z3);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:g,transformOrigin:y}=hr(t).getComputedStyle(t);g&&(n=j3(n,g,y))}const{top:i,left:a,width:l,height:u,bottom:h,right:p}=n;return{top:i,left:a,width:l,height:u,bottom:h,right:p}}function rw(t){return Hl(t,{ignoreTransform:!0})}function V3(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function L3(t,e){return e===void 0&&(e=hr(t).getComputedStyle(t)),e.position==="fixed"}function U3(t,e){e===void 0&&(e=hr(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const l=e[a];return typeof l=="string"?n.test(l):!1})}function Qh(t,e){const n=[];function i(a){if(e!=null&&n.length>=e||!a)return n;if(wv(a)&&a.scrollingElement!=null&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!qu(a)||Bx(a)||n.includes(a))return n;const l=hr(t).getComputedStyle(a);return a!==t&&U3(a,l)&&n.push(a),L3(a,l)?n:i(a.parentNode)}return t?i(t):n}function Wx(t){const[e]=Qh(t,1);return e??null}function _g(t){return!Wh||!t?null:Fl(t)?t:Ev(t)?wv(t)||t===ql(t).scrollingElement?window:qu(t)?t:null:null}function Qx(t){return Fl(t)?t.scrollX:t.scrollLeft}function $x(t){return Fl(t)?t.scrollY:t.scrollTop}function hy(t){return{x:Qx(t),y:$x(t)}}var Tn;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Tn||(Tn={}));function Xx(t){return!Wh||!t?!1:t===document.scrollingElement}function Jx(t){const e={x:0,y:0},n=Xx(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},i={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},a=t.scrollTop<=e.y,l=t.scrollLeft<=e.x,u=t.scrollTop>=i.y,h=t.scrollLeft>=i.x;return{isTop:a,isLeft:l,isBottom:u,isRight:h,maxScroll:i,minScroll:e}}const B3={x:.2,y:.2};function F3(t,e,n,i,a){let{top:l,left:u,right:h,bottom:p}=n;i===void 0&&(i=10),a===void 0&&(a=B3);const{isTop:g,isBottom:y,isLeft:v,isRight:T}=Jx(t),S={x:0,y:0},I={x:0,y:0},D={height:e.height*a.y,width:e.width*a.x};return!g&&l<=e.top+D.height?(S.y=Tn.Backward,I.y=i*Math.abs((e.top+D.height-l)/D.height)):!y&&p>=e.bottom-D.height&&(S.y=Tn.Forward,I.y=i*Math.abs((e.bottom-D.height-p)/D.height)),!T&&h>=e.right-D.width?(S.x=Tn.Forward,I.x=i*Math.abs((e.right-D.width-h)/D.width)):!v&&u<=e.left+D.width&&(S.x=Tn.Backward,I.x=i*Math.abs((e.left+D.width-u)/D.width)),{direction:S,speed:I}}function q3(t){if(t===document.scrollingElement){const{innerWidth:l,innerHeight:u}=window;return{top:0,left:0,right:l,bottom:u,width:l,height:u}}const{top:e,left:n,right:i,bottom:a}=t.getBoundingClientRect();return{top:e,left:n,right:i,bottom:a,width:t.clientWidth,height:t.clientHeight}}function Zx(t){return t.reduce((e,n)=>_l(e,hy(n)),oi)}function H3(t){return t.reduce((e,n)=>e+Qx(n),0)}function G3(t){return t.reduce((e,n)=>e+$x(n),0)}function Y3(t,e){if(e===void 0&&(e=Hl),!t)return;const{top:n,left:i,bottom:a,right:l}=e(t);Wx(t)&&(a<=0||l<=0||n>=window.innerHeight||i>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const K3=[["x",["left","right"],H3],["y",["top","bottom"],G3]];class xv{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=Qh(n),a=Zx(i);this.rect={...e},this.width=e.width,this.height=e.height;for(const[l,u,h]of K3)for(const p of u)Object.defineProperty(this,p,{get:()=>{const g=h(i),y=a[l]-g;return this.rect[p]+y},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class du{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...n)})},this.target=e}add(e,n,i){var a;(a=this.target)==null||a.addEventListener(e,n,i),this.listeners.push([e,n,i])}}function W3(t){const{EventTarget:e}=hr(t);return t instanceof e?t:ql(t)}function Eg(t,e){const n=Math.abs(t.x),i=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+i**2)>e:"x"in e&&"y"in e?n>e.x&&i>e.y:"x"in e?n>e.x:"y"in e?i>e.y:!1}var Br;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Br||(Br={}));function iw(t){t.preventDefault()}function Q3(t){t.stopPropagation()}var at;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(at||(at={}));const eA={start:[at.Space,at.Enter],cancel:[at.Esc],end:[at.Space,at.Enter,at.Tab]},$3=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case at.Right:return{...n,x:n.x+25};case at.Left:return{...n,x:n.x-25};case at.Down:return{...n,y:n.y+25};case at.Up:return{...n,y:n.y-25}}};class Av{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new du(ql(n)),this.windowListeners=new du(hr(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Br.Resize,this.handleCancel),this.windowListeners.add(Br.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Br.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,i=e.node.current;i&&Y3(i),n(oi)}handleKeyDown(e){if(Sv(e)){const{active:n,context:i,options:a}=this.props,{keyboardCodes:l=eA,coordinateGetter:u=$3,scrollBehavior:h="smooth"}=a,{code:p}=e;if(l.end.includes(p)){this.handleEnd(e);return}if(l.cancel.includes(p)){this.handleCancel(e);return}const{collisionRect:g}=i.current,y=g?{x:g.left,y:g.top}:oi;this.referenceCoordinates||(this.referenceCoordinates=y);const v=u(e,{active:n,context:i.current,currentCoordinates:y});if(v){const T=Au(v,y),S={x:0,y:0},{scrollableAncestors:I}=i.current;for(const D of I){const V=e.code,{isTop:U,isRight:B,isLeft:K,isBottom:G,maxScroll:$,minScroll:Z}=Jx(D),R=q3(D),A={x:Math.min(V===at.Right?R.right-R.width/2:R.right,Math.max(V===at.Right?R.left:R.left+R.width/2,v.x)),y:Math.min(V===at.Down?R.bottom-R.height/2:R.bottom,Math.max(V===at.Down?R.top:R.top+R.height/2,v.y))},O=V===at.Right&&!B||V===at.Left&&!K,L=V===at.Down&&!G||V===at.Up&&!U;if(O&&A.x!==v.x){const P=D.scrollLeft+T.x,M=V===at.Right&&P<=$.x||V===at.Left&&P>=Z.x;if(M&&!T.y){D.scrollTo({left:P,behavior:h});return}M?S.x=D.scrollLeft-P:S.x=V===at.Right?D.scrollLeft-$.x:D.scrollLeft-Z.x,S.x&&D.scrollBy({left:-S.x,behavior:h});break}else if(L&&A.y!==v.y){const P=D.scrollTop+T.y,M=V===at.Down&&P<=$.y||V===at.Up&&P>=Z.y;if(M&&!T.x){D.scrollTo({top:P,behavior:h});return}M?S.y=D.scrollTop-P:S.y=V===at.Down?D.scrollTop-$.y:D.scrollTop-Z.y,S.y&&D.scrollBy({top:-S.y,behavior:h});break}}this.handleMove(e,_l(Au(v,this.referenceCoordinates),S))}}}handleMove(e,n){const{onMove:i}=this.props;e.preventDefault(),i(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Av.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:i=eA,onActivation:a}=e,{active:l}=n;const{code:u}=t.nativeEvent;if(i.start.includes(u)){const h=l.activatorNode.current;return h&&t.target!==h?!1:(t.preventDefault(),a?.({event:t.nativeEvent}),!0)}return!1}}];function sw(t){return!!(t&&"distance"in t)}function aw(t){return!!(t&&"delay"in t)}class Cv{constructor(e,n,i){var a;i===void 0&&(i=W3(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:l}=e,{target:u}=l;this.props=e,this.events=n,this.document=ql(u),this.documentListeners=new du(this.document),this.listeners=new du(i),this.windowListeners=new du(hr(u)),this.initialCoordinates=(a=dy(l))!=null?a:oi,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:i}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Br.Resize,this.handleCancel),this.windowListeners.add(Br.DragStart,iw),this.windowListeners.add(Br.VisibilityChange,this.handleCancel),this.windowListeners.add(Br.ContextMenu,iw),this.documentListeners.add(Br.Keydown,this.handleKeydown),n){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(aw(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(sw(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:i,onPending:a}=this.props;a(i,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Br.Click,Q3,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Br.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:i,initialCoordinates:a,props:l}=this,{onMove:u,options:{activationConstraint:h}}=l;if(!a)return;const p=(n=dy(e))!=null?n:oi,g=Au(a,p);if(!i&&h){if(sw(h)){if(h.tolerance!=null&&Eg(g,h.tolerance))return this.handleCancel();if(Eg(g,h.distance))return this.handleStart()}if(aw(h)&&Eg(g,h.tolerance))return this.handleCancel();this.handlePending(h,g);return}e.cancelable&&e.preventDefault(),u(p)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===at.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const X3={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Rv extends Cv{constructor(e){const{event:n}=e,i=ql(n.target);super(e,X3,i)}}Rv.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:i}=e;return!n.isPrimary||n.button!==0?!1:(i?.({event:n}),!0)}}];const J3={move:{name:"mousemove"},end:{name:"mouseup"}};var py;(function(t){t[t.RightClick=2]="RightClick"})(py||(py={}));class Z3 extends Cv{constructor(e){super(e,J3,ql(e.event.target))}}Z3.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:i}=e;return n.button===py.RightClick?!1:(i?.({event:n}),!0)}}];const wg={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class eP extends Cv{constructor(e){super(e,wg)}static setup(){return window.addEventListener(wg.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(wg.move.name,e)};function e(){}}}eP.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:i}=e;const{touches:a}=n;return a.length>1?!1:(i?.({event:n}),!0)}}];var hu;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(hu||(hu={}));var gh;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(gh||(gh={}));function tP(t){let{acceleration:e,activator:n=hu.Pointer,canScroll:i,draggingRect:a,enabled:l,interval:u=5,order:h=gh.TreeOrder,pointerCoordinates:p,scrollableAncestors:g,scrollableAncestorRects:y,delta:v,threshold:T}=t;const S=rP({delta:v,disabled:!l}),[I,D]=p3(),V=k.useRef({x:0,y:0}),U=k.useRef({x:0,y:0}),B=k.useMemo(()=>{switch(n){case hu.Pointer:return p?{top:p.y,bottom:p.y,left:p.x,right:p.x}:null;case hu.DraggableRect:return a}},[n,a,p]),K=k.useRef(null),G=k.useCallback(()=>{const Z=K.current;if(!Z)return;const R=V.current.x*U.current.x,A=V.current.y*U.current.y;Z.scrollBy(R,A)},[]),$=k.useMemo(()=>h===gh.TreeOrder?[...g].reverse():g,[h,g]);k.useEffect(()=>{if(!l||!g.length||!B){D();return}for(const Z of $){if(i?.(Z)===!1)continue;const R=g.indexOf(Z),A=y[R];if(!A)continue;const{direction:O,speed:L}=F3(Z,A,B,e,T);for(const P of["x","y"])S[P][O[P]]||(L[P]=0,O[P]=0);if(L.x>0||L.y>0){D(),K.current=Z,I(G,u),V.current=L,U.current=O;return}}V.current={x:0,y:0},U.current={x:0,y:0},D()},[e,G,i,D,l,u,JSON.stringify(B),JSON.stringify(S),I,g,$,y,JSON.stringify(T)])}const nP={x:{[Tn.Backward]:!1,[Tn.Forward]:!1},y:{[Tn.Backward]:!1,[Tn.Forward]:!1}};function rP(t){let{delta:e,disabled:n}=t;const i=fy(e);return Hu(a=>{if(n||!i||!a)return nP;const l={x:Math.sign(e.x-i.x),y:Math.sign(e.y-i.y)};return{x:{[Tn.Backward]:a.x[Tn.Backward]||l.x===-1,[Tn.Forward]:a.x[Tn.Forward]||l.x===1},y:{[Tn.Backward]:a.y[Tn.Backward]||l.y===-1,[Tn.Forward]:a.y[Tn.Forward]||l.y===1}}},[n,e,i])}function iP(t,e){const n=e!=null?t.get(e):void 0,i=n?n.node.current:null;return Hu(a=>{var l;return e==null?null:(l=i??a)!=null?l:null},[i,e])}function sP(t,e){return k.useMemo(()=>t.reduce((n,i)=>{const{sensor:a}=i,l=a.activators.map(u=>({eventName:u.eventName,handler:e(u.handler,i)}));return[...n,...l]},[]),[t,e])}var Cu;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Cu||(Cu={}));var my;(function(t){t.Optimized="optimized"})(my||(my={}));const ow=new Map;function aP(t,e){let{dragging:n,dependencies:i,config:a}=e;const[l,u]=k.useState(null),{frequency:h,measure:p,strategy:g}=a,y=k.useRef(t),v=V(),T=xu(v),S=k.useCallback(function(U){U===void 0&&(U=[]),!T.current&&u(B=>B===null?U:B.concat(U.filter(K=>!B.includes(K))))},[T]),I=k.useRef(null),D=Hu(U=>{if(v&&!n)return ow;if(!U||U===ow||y.current!==t||l!=null){const B=new Map;for(let K of t){if(!K)continue;if(l&&l.length>0&&!l.includes(K.id)&&K.rect.current){B.set(K.id,K.rect.current);continue}const G=K.node.current,$=G?new xv(p(G),G):null;K.rect.current=$,$&&B.set(K.id,$)}return B}return U},[t,l,n,v,p]);return k.useEffect(()=>{y.current=t},[t]),k.useEffect(()=>{v||S()},[n,v]),k.useEffect(()=>{l&&l.length>0&&u(null)},[JSON.stringify(l)]),k.useEffect(()=>{v||typeof h!="number"||I.current!==null||(I.current=setTimeout(()=>{S(),I.current=null},h))},[h,v,S,...i]),{droppableRects:D,measureDroppableContainers:S,measuringScheduled:l!=null};function V(){switch(g){case Cu.Always:return!1;case Cu.BeforeDragging:return n;default:return!n}}}function tA(t,e){return Hu(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function oP(t,e){return tA(t,e)}function lP(t){let{callback:e,disabled:n}=t;const i=Tv(e),a=k.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(i)},[i,n]);return k.useEffect(()=>()=>a?.disconnect(),[a]),a}function $h(t){let{callback:e,disabled:n}=t;const i=Tv(e),a=k.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(i)},[n]);return k.useEffect(()=>()=>a?.disconnect(),[a]),a}function cP(t){return new xv(Hl(t),t)}function lw(t,e,n){e===void 0&&(e=cP);const[i,a]=k.useState(null);function l(){a(p=>{if(!t)return null;if(t.isConnected===!1){var g;return(g=p??n)!=null?g:null}const y=e(t);return JSON.stringify(p)===JSON.stringify(y)?p:y})}const u=lP({callback(p){if(t)for(const g of p){const{type:y,target:v}=g;if(y==="childList"&&v instanceof HTMLElement&&v.contains(t)){l();break}}}}),h=$h({callback:l});return Ki(()=>{l(),t?(h?.observe(t),u?.observe(document.body,{childList:!0,subtree:!0})):(h?.disconnect(),u?.disconnect())},[t]),i}function uP(t){const e=tA(t);return Kx(t,e)}const cw=[];function fP(t){const e=k.useRef(t),n=Hu(i=>t?i&&i!==cw&&t&&e.current&&t.parentNode===e.current.parentNode?i:Qh(t):cw,[t]);return k.useEffect(()=>{e.current=t},[t]),n}function dP(t){const[e,n]=k.useState(null),i=k.useRef(t),a=k.useCallback(l=>{const u=_g(l.target);u&&n(h=>h?(h.set(u,hy(u)),new Map(h)):null)},[]);return k.useEffect(()=>{const l=i.current;if(t!==l){u(l);const h=t.map(p=>{const g=_g(p);return g?(g.addEventListener("scroll",a,{passive:!0}),[g,hy(g)]):null}).filter(p=>p!=null);n(h.length?new Map(h):null),i.current=t}return()=>{u(t),u(l)};function u(h){h.forEach(p=>{const g=_g(p);g?.removeEventListener("scroll",a)})}},[a,t]),k.useMemo(()=>t.length?e?Array.from(e.values()).reduce((l,u)=>_l(l,u),oi):Zx(t):oi,[t,e])}function uw(t,e){e===void 0&&(e=[]);const n=k.useRef(null);return k.useEffect(()=>{n.current=null},e),k.useEffect(()=>{const i=t!==oi;i&&!n.current&&(n.current=t),!i&&n.current&&(n.current=null)},[t]),n.current?Au(t,n.current):oi}function hP(t){k.useEffect(()=>{if(!Wh)return;const e=t.map(n=>{let{sensor:i}=n;return i.setup==null?void 0:i.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function pP(t,e){return k.useMemo(()=>t.reduce((n,i)=>{let{eventName:a,handler:l}=i;return n[a]=u=>{l(u,e)},n},{}),[t,e])}function nA(t){return k.useMemo(()=>t?V3(t):null,[t])}const fw=[];function mP(t,e){e===void 0&&(e=Hl);const[n]=t,i=nA(n?hr(n):null),[a,l]=k.useState(fw);function u(){l(()=>t.length?t.map(p=>Xx(p)?i:new xv(e(p),p)):fw)}const h=$h({callback:u});return Ki(()=>{h?.disconnect(),u(),t.forEach(p=>h?.observe(p))},[t]),a}function gP(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return qu(e)?e:t}function yP(t){let{measure:e}=t;const[n,i]=k.useState(null),a=k.useCallback(g=>{for(const{target:y}of g)if(qu(y)){i(v=>{const T=e(y);return v?{...v,width:T.width,height:T.height}:T});break}},[e]),l=$h({callback:a}),u=k.useCallback(g=>{const y=gP(g);l?.disconnect(),y&&l?.observe(y),i(y?e(y):null)},[e,l]),[h,p]=ph(u);return k.useMemo(()=>({nodeRef:h,rect:n,setRef:p}),[n,h,p])}const vP=[{sensor:Rv,options:{}},{sensor:Av,options:{}}],bP={current:{}},Gd={draggable:{measure:rw},droppable:{measure:rw,strategy:Cu.WhileDragging,frequency:my.Optimized},dragOverlay:{measure:Hl}};class pu extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,i;return(n=(i=this.get(e))==null?void 0:i.node.current)!=null?n:void 0}}const _P={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new pu,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:mh},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Gd,measureDroppableContainers:mh,windowRect:null,measuringScheduled:!1},EP={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:mh,draggableNodes:new Map,over:null,measureDroppableContainers:mh},Xh=k.createContext(EP),rA=k.createContext(_P);function wP(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new pu}}}function TP(t,e){switch(e.type){case gn.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case gn.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case gn.DragEnd:case gn.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case gn.RegisterDroppable:{const{element:n}=e,{id:i}=n,a=new pu(t.droppable.containers);return a.set(i,n),{...t,droppable:{...t.droppable,containers:a}}}case gn.SetDroppableDisabled:{const{id:n,key:i,disabled:a}=e,l=t.droppable.containers.get(n);if(!l||i!==l.key)return t;const u=new pu(t.droppable.containers);return u.set(n,{...l,disabled:a}),{...t,droppable:{...t.droppable,containers:u}}}case gn.UnregisterDroppable:{const{id:n,key:i}=e,a=t.droppable.containers.get(n);if(!a||i!==a.key)return t;const l=new pu(t.droppable.containers);return l.delete(n),{...t,droppable:{...t.droppable,containers:l}}}default:return t}}function SP(t){let{disabled:e}=t;const{active:n,activatorEvent:i,draggableNodes:a}=k.useContext(Xh),l=fy(i),u=fy(n?.id);return k.useEffect(()=>{if(!e&&!i&&l&&u!=null){if(!Sv(l)||document.activeElement===l.target)return;const h=a.get(u);if(!h)return;const{activatorNode:p,node:g}=h;if(!p.current&&!g.current)return;requestAnimationFrame(()=>{for(const y of[p.current,g.current]){if(!y)continue;const v=y3(y);if(v){v.focus();break}}})}},[i,e,a,u,l]),null}function xP(t,e){let{transform:n,...i}=e;return t!=null&&t.length?t.reduce((a,l)=>l({transform:a,...i}),n):n}function AP(t){return k.useMemo(()=>({draggable:{...Gd.draggable,...t?.draggable},droppable:{...Gd.droppable,...t?.droppable},dragOverlay:{...Gd.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function CP(t){let{activeNode:e,measure:n,initialRect:i,config:a=!0}=t;const l=k.useRef(!1),{x:u,y:h}=typeof a=="boolean"?{x:a,y:a}:a;Ki(()=>{if(!u&&!h||!e){l.current=!1;return}if(l.current||!i)return;const g=e?.node.current;if(!g||g.isConnected===!1)return;const y=n(g),v=Kx(y,i);if(u||(v.x=0),h||(v.y=0),l.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const T=Wx(g);T&&T.scrollBy({top:v.y,left:v.x})}},[e,u,h,i,n])}const iA=k.createContext({...oi,scaleX:1,scaleY:1});var ia;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(ia||(ia={}));const dw=k.memo(function(e){var n,i,a,l;let{id:u,accessibility:h,autoScroll:p=!0,children:g,sensors:y=vP,collisionDetection:v=O3,measuring:T,modifiers:S,...I}=e;const D=k.useReducer(TP,void 0,wP),[V,U]=D,[B,K]=T3(),[G,$]=k.useState(ia.Uninitialized),Z=G===ia.Initialized,{draggable:{active:R,nodes:A,translate:O},droppable:{containers:L}}=V,P=R!=null?A.get(R):null,M=k.useRef({initial:null,translated:null}),N=k.useMemo(()=>{var $e;return R!=null?{id:R,data:($e=P?.data)!=null?$e:bP,rect:M}:null},[R,P]),ne=k.useRef(null),[de,q]=k.useState(null),[re,he]=k.useState(null),pe=xu(I,Object.values(I)),ve=Gu("DndDescribedBy",u),j=k.useMemo(()=>L.getEnabled(),[L]),J=AP(T),{droppableRects:fe,measureDroppableContainers:me,measuringScheduled:Ce}=aP(j,{dragging:Z,dependencies:[O.x,O.y],config:J.droppable}),Se=iP(A,R),je=k.useMemo(()=>re?dy(re):null,[re]),Qe=$i(),Me=oP(Se,J.draggable.measure);CP({activeNode:R!=null?A.get(R):null,config:Qe.layoutShiftCompensation,initialRect:Me,measure:J.draggable.measure});const ke=lw(Se,J.draggable.measure,Me),Ze=lw(Se?Se.parentElement:null),Ge=k.useRef({activatorEvent:null,active:null,activeNode:Se,collisionRect:null,collisions:null,droppableRects:fe,draggableNodes:A,draggingNode:null,draggingNodeRect:null,droppableContainers:L,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Jt=L.getNodeFor((n=Ge.current.over)==null?void 0:n.id),xt=yP({measure:J.dragOverlay.measure}),er=(i=xt.nodeRef.current)!=null?i:Se,It=Z?(a=xt.rect)!=null?a:ke:null,xn=!!(xt.nodeRef.current&&xt.rect),Yr=uP(xn?null:ke),Rt=nA(er?hr(er):null),ht=fP(Z?Jt??Se:null),Gn=mP(ht),Kr=xP(S,{transform:{x:O.x-Yr.x,y:O.y-Yr.y,scaleX:1,scaleY:1},activatorEvent:re,active:N,activeNodeRect:ke,containerNodeRect:Ze,draggingNodeRect:It,over:Ge.current.over,overlayNodeRect:xt.rect,scrollableAncestors:ht,scrollableAncestorRects:Gn,windowRect:Rt}),fi=je?_l(je,O):null,Zt=dP(ht),Yn=uw(Zt),di=uw(Zt,[ke]),hn=_l(Kr,Yn),pn=It?k3(It,Kr):null,Cr=N&&pn?v({active:N,collisionRect:pn,droppableRects:fe,droppableContainers:j,pointerCoordinates:fi}):null,hi=Yx(Cr,"id"),[ce,At]=k.useState(null),ze=xn?Kr:_l(Kr,di),Ke=D3(ze,(l=ce?.rect)!=null?l:null,ke),en=k.useRef(null),gt=k.useCallback(($e,Pt)=>{let{sensor:jt,options:tn}=Pt;if(ne.current==null)return;const Pn=A.get(ne.current);if(!Pn)return;const vn=$e.nativeEvent,Ht=new jt({active:ne.current,activeNode:Pn,event:vn,options:tn,context:Ge,onAbort(Gt){if(!A.get(Gt))return;const{onDragAbort:zn}=pe.current,Kn={id:Gt};zn?.(Kn),B({type:"onDragAbort",event:Kn})},onPending(Gt,jn,zn,Kn){if(!A.get(Gt))return;const{onDragPending:Wn}=pe.current,mr={id:Gt,constraint:jn,initialCoordinates:zn,offset:Kn};Wn?.(mr),B({type:"onDragPending",event:mr})},onStart(Gt){const jn=ne.current;if(jn==null)return;const zn=A.get(jn);if(!zn)return;const{onDragStart:Kn}=pe.current,pr={activatorEvent:vn,active:{id:jn,data:zn.data,rect:M}};ri.unstable_batchedUpdates(()=>{Kn?.(pr),$(ia.Initializing),U({type:gn.DragStart,initialCoordinates:Gt,active:jn}),B({type:"onDragStart",event:pr}),q(en.current),he(vn)})},onMove(Gt){U({type:gn.DragMove,coordinates:Gt})},onEnd:tr(gn.DragEnd),onCancel:tr(gn.DragCancel)});en.current=Ht;function tr(Gt){return async function(){const{active:zn,collisions:Kn,over:pr,scrollAdjustedTranslate:Wn}=Ge.current;let mr=null;if(zn&&Wn){const{cancelDrop:An}=pe.current;mr={activatorEvent:vn,active:zn,collisions:Kn,delta:Wn,over:pr},Gt===gn.DragEnd&&typeof An=="function"&&await Promise.resolve(An(mr))&&(Gt=gn.DragCancel)}ne.current=null,ri.unstable_batchedUpdates(()=>{U({type:Gt}),$(ia.Uninitialized),At(null),q(null),he(null),en.current=null;const An=Gt===gn.DragEnd?"onDragEnd":"onDragCancel";if(mr){const Qn=pe.current[An];Qn?.(mr),B({type:An,event:mr})}})}}},[A]),bo=k.useCallback(($e,Pt)=>(jt,tn)=>{const Pn=jt.nativeEvent,vn=A.get(tn);if(ne.current!==null||!vn||Pn.dndKit||Pn.defaultPrevented)return;const Ht={active:vn};$e(jt,Pt.options,Ht)===!0&&(Pn.dndKit={capturedBy:Pt.sensor},ne.current=tn,gt(jt,Pt))},[A,gt]),Qi=sP(y,bo);hP(y),Ki(()=>{ke&&G===ia.Initializing&&$(ia.Initialized)},[ke,G]),k.useEffect(()=>{const{onDragMove:$e}=pe.current,{active:Pt,activatorEvent:jt,collisions:tn,over:Pn}=Ge.current;if(!Pt||!jt)return;const vn={active:Pt,activatorEvent:jt,collisions:tn,delta:{x:hn.x,y:hn.y},over:Pn};ri.unstable_batchedUpdates(()=>{$e?.(vn),B({type:"onDragMove",event:vn})})},[hn.x,hn.y]),k.useEffect(()=>{const{active:$e,activatorEvent:Pt,collisions:jt,droppableContainers:tn,scrollAdjustedTranslate:Pn}=Ge.current;if(!$e||ne.current==null||!Pt||!Pn)return;const{onDragOver:vn}=pe.current,Ht=tn.get(hi),tr=Ht&&Ht.rect.current?{id:Ht.id,rect:Ht.rect.current,data:Ht.data,disabled:Ht.disabled}:null,Gt={active:$e,activatorEvent:Pt,collisions:jt,delta:{x:Pn.x,y:Pn.y},over:tr};ri.unstable_batchedUpdates(()=>{At(tr),vn?.(Gt),B({type:"onDragOver",event:Gt})})},[hi]),Ki(()=>{Ge.current={activatorEvent:re,active:N,activeNode:Se,collisionRect:pn,collisions:Cr,droppableRects:fe,draggableNodes:A,draggingNode:er,draggingNodeRect:It,droppableContainers:L,over:ce,scrollableAncestors:ht,scrollAdjustedTranslate:hn},M.current={initial:It,translated:pn}},[N,Se,Cr,pn,A,er,It,fe,L,ce,ht,hn]),tP({...Qe,delta:O,draggingRect:pn,pointerCoordinates:fi,scrollableAncestors:ht,scrollableAncestorRects:Gn});const _o=k.useMemo(()=>({active:N,activeNode:Se,activeNodeRect:ke,activatorEvent:re,collisions:Cr,containerNodeRect:Ze,dragOverlay:xt,draggableNodes:A,droppableContainers:L,droppableRects:fe,over:ce,measureDroppableContainers:me,scrollableAncestors:ht,scrollableAncestorRects:Gn,measuringConfiguration:J,measuringScheduled:Ce,windowRect:Rt}),[N,Se,ke,re,Cr,Ze,xt,A,L,fe,ce,me,ht,Gn,J,Ce,Rt]),Rr=k.useMemo(()=>({activatorEvent:re,activators:Qi,active:N,activeNodeRect:ke,ariaDescribedById:{draggable:ve},dispatch:U,draggableNodes:A,over:ce,measureDroppableContainers:me}),[re,Qi,N,ke,U,ve,A,ce,me]);return Ne.createElement(qx.Provider,{value:K},Ne.createElement(Xh.Provider,{value:Rr},Ne.createElement(rA.Provider,{value:_o},Ne.createElement(iA.Provider,{value:Ke},g)),Ne.createElement(SP,{disabled:h?.restoreFocus===!1})),Ne.createElement(A3,{...h,hiddenTextDescribedById:ve}));function $i(){const $e=de?.autoScrollEnabled===!1,Pt=typeof p=="object"?p.enabled===!1:p===!1,jt=Z&&!$e&&!Pt;return typeof p=="object"?{...p,enabled:jt}:{enabled:jt}}}),RP=k.createContext(null),hw="button",NP="Draggable";function IP(t){let{id:e,data:n,disabled:i=!1,attributes:a}=t;const l=Gu(NP),{activators:u,activatorEvent:h,active:p,activeNodeRect:g,ariaDescribedById:y,draggableNodes:v,over:T}=k.useContext(Xh),{role:S=hw,roleDescription:I="draggable",tabIndex:D=0}=a??{},V=p?.id===e,U=k.useContext(V?iA:RP),[B,K]=ph(),[G,$]=ph(),Z=pP(u,e),R=xu(n);Ki(()=>(v.set(e,{id:e,key:l,node:B,activatorNode:G,data:R}),()=>{const O=v.get(e);O&&O.key===l&&v.delete(e)}),[v,e]);const A=k.useMemo(()=>({role:S,tabIndex:D,"aria-disabled":i,"aria-pressed":V&&S===hw?!0:void 0,"aria-roledescription":I,"aria-describedby":y.draggable}),[i,S,D,V,I,y.draggable]);return{active:p,activatorEvent:h,activeNodeRect:g,attributes:A,isDragging:V,listeners:i?void 0:Z,node:B,over:T,setNodeRef:K,setActivatorNodeRef:$,transform:U}}function OP(){return k.useContext(rA)}const DP="Droppable",MP={timeout:25};function kP(t){let{data:e,disabled:n=!1,id:i,resizeObserverConfig:a}=t;const l=Gu(DP),{active:u,dispatch:h,over:p,measureDroppableContainers:g}=k.useContext(Xh),y=k.useRef({disabled:n}),v=k.useRef(!1),T=k.useRef(null),S=k.useRef(null),{disabled:I,updateMeasurementsFor:D,timeout:V}={...MP,...a},U=xu(D??i),B=k.useCallback(()=>{if(!v.current){v.current=!0;return}S.current!=null&&clearTimeout(S.current),S.current=setTimeout(()=>{g(Array.isArray(U.current)?U.current:[U.current]),S.current=null},V)},[V]),K=$h({callback:B,disabled:I||!u}),G=k.useCallback((A,O)=>{K&&(O&&(K.unobserve(O),v.current=!1),A&&K.observe(A))},[K]),[$,Z]=ph(G),R=xu(e);return k.useEffect(()=>{!K||!$.current||(K.disconnect(),v.current=!1,K.observe($.current))},[$,K]),k.useEffect(()=>(h({type:gn.RegisterDroppable,element:{id:i,key:l,disabled:n,node:$,rect:T,data:R}}),()=>h({type:gn.UnregisterDroppable,key:l,id:i})),[i]),k.useEffect(()=>{n!==y.current.disabled&&(h({type:gn.SetDroppableDisabled,id:i,key:l,disabled:n}),y.current.disabled=n)},[i,l,n,h]),{active:u,rect:T,isOver:p?.id===i,node:$,over:p,setNodeRef:Z}}function sA(t,e,n){const i=t.slice();return i.splice(n<0?i.length+n:n,0,i.splice(e,1)[0]),i}function PP(t,e){return t.reduce((n,i,a)=>{const l=e.get(i);return l&&(n[a]=l),n},Array(t.length))}function Od(t){return t!==null&&t>=0}function jP(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function zP(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const aA=t=>{let{rects:e,activeIndex:n,overIndex:i,index:a}=t;const l=sA(e,i,n),u=e[a],h=l[a];return!h||!u?null:{x:h.left-u.left,y:h.top-u.top,scaleX:h.width/u.width,scaleY:h.height/u.height}},Dd={scaleX:1,scaleY:1},pw=t=>{var e;let{activeIndex:n,activeNodeRect:i,index:a,rects:l,overIndex:u}=t;const h=(e=l[n])!=null?e:i;if(!h)return null;if(a===n){const g=l[u];return g?{x:0,y:n<u?g.top+g.height-(h.top+h.height):g.top-h.top,...Dd}:null}const p=VP(l,a,n);return a>n&&a<=u?{x:0,y:-h.height-p,...Dd}:a<n&&a>=u?{x:0,y:h.height+p,...Dd}:{x:0,y:0,...Dd}};function VP(t,e,n){const i=t[e],a=t[e-1],l=t[e+1];return i?n<e?a?i.top-(a.top+a.height):l?l.top-(i.top+i.height):0:l?l.top-(i.top+i.height):a?i.top-(a.top+a.height):0:0}const oA="Sortable",lA=Ne.createContext({activeIndex:-1,containerId:oA,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:aA,disabled:{draggable:!1,droppable:!1}});function mw(t){let{children:e,id:n,items:i,strategy:a=aA,disabled:l=!1}=t;const{active:u,dragOverlay:h,droppableRects:p,over:g,measureDroppableContainers:y}=OP(),v=Gu(oA,n),T=h.rect!==null,S=k.useMemo(()=>i.map(Z=>typeof Z=="object"&&"id"in Z?Z.id:Z),[i]),I=u!=null,D=u?S.indexOf(u.id):-1,V=g?S.indexOf(g.id):-1,U=k.useRef(S),B=!jP(S,U.current),K=V!==-1&&D===-1||B,G=zP(l);Ki(()=>{B&&I&&y(S)},[B,S,I,y]),k.useEffect(()=>{U.current=S},[S]);const $=k.useMemo(()=>({activeIndex:D,containerId:v,disabled:G,disableTransforms:K,items:S,overIndex:V,useDragOverlay:T,sortedRects:PP(S,p),strategy:a}),[D,v,G.draggable,G.droppable,K,S,V,p,T,a]);return Ne.createElement(lA.Provider,{value:$},e)}const LP=t=>{let{id:e,items:n,activeIndex:i,overIndex:a}=t;return sA(n,i,a).indexOf(e)},UP=t=>{let{containerId:e,isSorting:n,wasDragging:i,index:a,items:l,newIndex:u,previousItems:h,previousContainerId:p,transition:g}=t;return!g||!i||h!==l&&a===u?!1:n?!0:u!==a&&e===p},BP={duration:200,easing:"ease"},cA="transform",FP=Nl.Transition.toString({property:cA,duration:0,easing:"linear"}),qP={roleDescription:"sortable"};function HP(t){let{disabled:e,index:n,node:i,rect:a}=t;const[l,u]=k.useState(null),h=k.useRef(n);return Ki(()=>{if(!e&&n!==h.current&&i.current){const p=a.current;if(p){const g=Hl(i.current,{ignoreTransform:!0}),y={x:p.left-g.left,y:p.top-g.top,scaleX:p.width/g.width,scaleY:p.height/g.height};(y.x||y.y)&&u(y)}}n!==h.current&&(h.current=n)},[e,n,i,a]),k.useEffect(()=>{l&&u(null)},[l]),l}function uA(t){let{animateLayoutChanges:e=UP,attributes:n,disabled:i,data:a,getNewIndex:l=LP,id:u,strategy:h,resizeObserverConfig:p,transition:g=BP}=t;const{items:y,containerId:v,activeIndex:T,disabled:S,disableTransforms:I,sortedRects:D,overIndex:V,useDragOverlay:U,strategy:B}=k.useContext(lA),K=GP(i,S),G=y.indexOf(u),$=k.useMemo(()=>({sortable:{containerId:v,index:G,items:y},...a}),[v,a,G,y]),Z=k.useMemo(()=>y.slice(y.indexOf(u)),[y,u]),{rect:R,node:A,isOver:O,setNodeRef:L}=kP({id:u,data:$,disabled:K.droppable,resizeObserverConfig:{updateMeasurementsFor:Z,...p}}),{active:P,activatorEvent:M,activeNodeRect:N,attributes:ne,setNodeRef:de,listeners:q,isDragging:re,over:he,setActivatorNodeRef:pe,transform:ve}=IP({id:u,data:$,attributes:{...qP,...n},disabled:K.draggable}),j=h3(L,de),J=!!P,fe=J&&!I&&Od(T)&&Od(V),me=!U&&re,Ce=me&&fe?ve:null,je=fe?Ce??(h??B)({rects:D,activeNodeRect:N,activeIndex:T,overIndex:V,index:G}):null,Qe=Od(T)&&Od(V)?l({id:u,items:y,activeIndex:T,overIndex:V}):G,Me=P?.id,ke=k.useRef({activeId:Me,items:y,newIndex:Qe,containerId:v}),Ze=y!==ke.current.items,Ge=e({active:P,containerId:v,isDragging:re,isSorting:J,id:u,index:G,items:y,newIndex:ke.current.newIndex,previousItems:ke.current.items,previousContainerId:ke.current.containerId,transition:g,wasDragging:ke.current.activeId!=null}),Jt=HP({disabled:!Ge,index:G,node:A,rect:R});return k.useEffect(()=>{J&&ke.current.newIndex!==Qe&&(ke.current.newIndex=Qe),v!==ke.current.containerId&&(ke.current.containerId=v),y!==ke.current.items&&(ke.current.items=y)},[J,Qe,v,y]),k.useEffect(()=>{if(Me===ke.current.activeId)return;if(Me!=null&&ke.current.activeId==null){ke.current.activeId=Me;return}const er=setTimeout(()=>{ke.current.activeId=Me},50);return()=>clearTimeout(er)},[Me]),{active:P,activeIndex:T,attributes:ne,data:$,rect:R,index:G,newIndex:Qe,items:y,isOver:O,isSorting:J,isDragging:re,listeners:q,node:A,overIndex:V,over:he,setNodeRef:j,setActivatorNodeRef:pe,setDroppableNodeRef:L,setDraggableNodeRef:de,transform:Jt??je,transition:xt()};function xt(){if(Jt||Ze&&ke.current.newIndex===G)return FP;if(!(me&&!Sv(M)||!g)&&(J||Ge))return Nl.Transition.toString({...g,property:cA})}}function GP(t,e){var n,i;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(i=t?.droppable)!=null?i:e.droppable}}function yh(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const YP=[at.Down,at.Right,at.Up,at.Left],KP=(t,e)=>{let{context:{active:n,collisionRect:i,droppableRects:a,droppableContainers:l,over:u,scrollableAncestors:h}}=e;if(YP.includes(t.code)){if(t.preventDefault(),!n||!i)return;const p=[];l.getEnabled().forEach(v=>{if(!v||v!=null&&v.disabled)return;const T=a.get(v.id);if(T)switch(t.code){case at.Down:i.top<T.top&&p.push(v);break;case at.Up:i.top>T.top&&p.push(v);break;case at.Left:i.left>T.left&&p.push(v);break;case at.Right:i.left<T.left&&p.push(v);break}});const g=N3({collisionRect:i,droppableRects:a,droppableContainers:p});let y=Yx(g,"id");if(y===u?.id&&g.length>1&&(y=g[1].id),y!=null){const v=l.get(n.id),T=l.get(y),S=T?a.get(T.id):null,I=T?.node.current;if(I&&S&&v&&T){const V=Qh(I).some((Z,R)=>h[R]!==Z),U=fA(v,T),B=WP(v,T),K=V||!U?{x:0,y:0}:{x:B?i.width-S.width:0,y:B?i.height-S.height:0},G={x:S.left,y:S.top};return K.x&&K.y?G:Au(G,K)}}}};function fA(t,e){return!yh(t)||!yh(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function WP(t,e){return!yh(t)||!yh(e)||!fA(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}function gw({habit:t,isEditing:e,children:n}){const{attributes:i,listeners:a,setNodeRef:l,transform:u,transition:h,isDragging:p}=uA({id:t.id}),g={transform:Nl.Transform.toString(u),transition:h,zIndex:p?10:1,opacity:p?.5:1,position:"relative"};return e?E.jsx("div",{ref:l,style:g,...i,...a,children:n}):E.jsx("div",{ref:l,style:g,...i,...a,children:n})}function yw({id:t,isEditing:e,children:n}){const{attributes:i,listeners:a,setNodeRef:l,transform:u,transition:h,isDragging:p}=uA({id:t}),g={transform:Nl.Transform.toString(u),transition:h,zIndex:p?10:1,opacity:p?.5:1,position:"relative"};return e?E.jsx("div",{ref:l,style:g,...i,...a,children:n}):E.jsx("div",{ref:l,style:g,...i,...a,children:n})}const ol=["#ffffff","#a855f7","#ec4899","#ef4444","#f97316","#eab308","#22c55e","#06b6d4","#3b82f6","#6366f1","#d946ef","#14b8a6","#8b5cf6"],Tg=["","","","","","","","","","","","","","","","","","","",""];function QP({habits:t,calendars:e,selectedCalendarId:n,onSelectCalendar:i,onAddCalendar:a,onEditCalendar:l,onDeleteCalendar:u,onReorderCalendars:h,onAddHabit:p,onEditHabit:g,onDeleteHabit:y,onReorderHabits:v,onSelectHabit:T,selectedHabitIds:S,currentView:I,onNavigate:D,showMobileHabits:V,onToggleMobileHabits:U}){const B=C3(Z1(Rv,{activationConstraint:{distance:8}}),Z1(Av,{coordinateGetter:KP})),K=ce=>{const{active:At,over:ze}=ce;ze&&At.id!==ze.id&&v(At.id,ze.id)},G=ce=>{const{active:At,over:ze}=ce;ze&&At.id!==ze.id&&h(At.id,ze.id)},[$,Z]=k.useState(!1),[R,A]=k.useState(!1),{currentUser:O,logout:L}=Bl(),[P,M]=k.useState(!1),N=()=>{M(!0)},ne=async()=>{M(!1),await L()},de=()=>{localStorage.removeItem("hone_has_seen_onboarding"),window.location.reload()},[q,re]=k.useState(!1),[he,pe]=k.useState(null),[ve,j]=k.useState(""),[J,fe]=k.useState(ol[0]),[me,Ce]=k.useState(null),[Se,je]=k.useState(""),[Qe,Me]=k.useState(""),[ke,Ze]=k.useState(Tg[0]),[Ge,Jt]=k.useState(ol[0]),[xt,er]=k.useState(!1),[It,xn]=k.useState(null),Yr=k.useRef(null),Rt=k.useRef(null);k.useEffect(()=>{const ce=At=>{const ze=At.target,Ke=Yr.current?.contains(ze),en=Rt.current?.contains(ze),gt=ze?.closest?.(".fixed-popover");It&&!Ke&&!en&&!gt&&xn(null)};if(It)return document.addEventListener("mousedown",ce),()=>document.removeEventListener("mousedown",ce)},[It]);const ht=()=>{R||A(!0),j(""),fe(ol[0]),re(!0),pe(null)},Gn=ce=>{R||A(!0),j(ce.name),fe(ce.color||ol[0]),pe(ce.id),re(!1)},Kr=ce=>{ce.preventDefault(),ve.trim()&&(q?a(ve.trim(),J):he&&l(he,ve.trim(),J)),re(!1),pe(null),j("")},fi=()=>{Ce(null),Me(""),Ze(Tg[0]),Jt(ol[0]),Z(!0),xn(null)},Zt=ce=>{Z(!1),Ce(ce.id),Me(ce.name),Ze(ce.emoji||""),Jt(ce.color),xn(null)},Yn=()=>{Z(!1),Ce(null),Me(""),xn(null)},di=ce=>{ce.preventDefault();const At=Qe.trim();At&&($?p(At,ke,Ge):me&&g(me,{name:At,emoji:ke,color:Ge}),Yn())},hn=(ce,At)=>{ce.stopPropagation();const ze=ce.currentTarget.getBoundingClientRect();It?.type===At?xn(null):xn({type:At,triggerRect:ze})},pn=t.filter(ce=>ce.name.toLowerCase().includes(Se.toLowerCase())),Cr=e.find(ce=>ce.id===n)||e[0];if(!Cr&&e.length===0)return E.jsx("div",{className:"md:w-64 border-r border-zinc-900 bg-zinc-950 p-4 flex items-center justify-center",children:E.jsx("div",{className:"w-5 h-5 border-2 border-zinc-800 border-t-white rounded-full animate-spin"})});const hi=E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"px-4 py-3 border-b border-zinc-900 shrink-0 h-[53px] flex flex-col justify-center",children:E.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[E.jsx(to,{className:"w-3.5 h-3.5 text-white"}),E.jsx("h2",{className:"text-xs font-bold tracking-tight text-white uppercase truncate max-w-[120px]",children:Cr.name})]})}),E.jsxs("div",{className:"px-3 py-2 shrink-0 flex gap-2",children:[E.jsxs("div",{className:"flex-1 relative group",children:[E.jsx(MR,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-zinc-500 group-focus-within:text-white transition-colors",size:12}),E.jsx("input",{type:"text",placeholder:"Search...",value:Se,onChange:ce=>je(ce.target.value),className:"w-full bg-zinc-900 rounded-md pl-7 pr-3 py-1.5 text-xs text-white placeholder:text-zinc-500 focus:outline-none focus:ring-1 focus:ring-zinc-700 transition-all border border-zinc-800"})]}),E.jsx("button",{id:"tour-mobile-multiselect",onClick:()=>er(!xt),className:Ye("p-1.5 border rounded-md transition-all active:scale-95",xt?"bg-white text-black border-white":"bg-zinc-900 text-zinc-400 border-zinc-800 hover:text-white hover:bg-zinc-800"),title:"Toggle Multi-Select Mode",children:E.jsx(wR,{size:14})}),!$&&!me&&E.jsx("button",{id:"tour-sidebar-add",onClick:fi,className:"p-1.5 bg-zinc-900 hover:bg-zinc-800 border border-zinc-800 rounded-md text-zinc-400 hover:text-white transition-all active:scale-95",children:E.jsx(vE,{size:14})})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto px-2 py-2 relative custom-scrollbar",children:[$&&E.jsxs("form",{ref:Yr,onSubmit:di,className:"mb-3 bg-zinc-900/50 border border-zinc-800 rounded-lg p-3 animate-slide-in",children:[E.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[E.jsx("h3",{className:"text-[10px] font-bold text-zinc-400 uppercase tracking-wider flex-1",children:"New Event"}),E.jsx("button",{type:"button",onClick:Yn,className:"text-zinc-500 hover:text-white transition-colors p-1 hover:bg-zinc-800 rounded",children:E.jsx(ng,{size:12})})]}),E.jsxs("div",{className:"flex gap-1.5 mb-2 relative",children:[E.jsx("button",{type:"button",onClick:ce=>hn(ce,"emoji"),className:"w-8 h-8 flex items-center justify-center bg-zinc-900 border border-zinc-800 hover:border-zinc-700 rounded-md text-sm transition-all active:scale-95",children:ke}),E.jsx("button",{type:"button",onClick:ce=>hn(ce,"color"),className:"w-8 h-8 flex items-center justify-center bg-zinc-900 border border-zinc-800 hover:border-zinc-700 rounded-md transition-all active:scale-95",children:E.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Ge}})}),E.jsx("input",{autoFocus:!0,type:"text",placeholder:"...",className:"flex-1 min-w-0 h-8 bg-zinc-900 border border-zinc-800 rounded-md px-2 outline-none text-xs text-white placeholder:text-zinc-500 focus:ring-1 focus:ring-zinc-700 transition-all",value:Qe,onChange:ce=>Me(ce.target.value),onKeyDown:ce=>{(ce.key===" "||ce.key==="Enter")&&ce.stopPropagation(),ce.key==="Escape"&&Yn()}})]}),E.jsx("button",{type:"submit",disabled:!Qe.trim(),className:"w-full bg-white hover:bg-zinc-200 disabled:opacity-50 disabled:cursor-not-allowed text-black py-1.5 rounded-md text-[10px] uppercase font-bold tracking-wide transition-all active:scale-[0.98]",children:"Create"})]}),pn.length===0&&!$&&!me&&E.jsxs("div",{className:"flex flex-col items-center justify-center py-8 px-4 text-center",children:[E.jsx("p",{className:"text-zinc-500 text-xs mb-3",children:Se?"No events found":"No events yet"}),!Se&&E.jsx("button",{onClick:fi,className:"px-3 py-1.5 bg-zinc-900 border border-zinc-800 hover:bg-zinc-800 text-white text-[10px] font-medium rounded-md transition-all active:scale-95",children:"First Event"})]}),E.jsx("div",{className:"space-y-1",id:"tour-habit-list",children:E.jsx(dw,{id:"habits-dnd",sensors:B,collisionDetection:nw,onDragEnd:K,children:E.jsx(mw,{items:pn.map(ce=>ce.id),strategy:pw,children:pn.map(ce=>{const At=ce.id===me,ze=S.includes(ce.id);return At?E.jsx(gw,{habit:ce,isSelected:ze,isEditing:!0,children:E.jsxs("form",{onSubmit:di,className:"bg-zinc-900/50 border border-zinc-800 rounded-lg p-2 shadow-lg flex flex-col gap-2 animate-slide-in",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("button",{type:"button",onClick:Ke=>hn(Ke,"emoji"),className:"w-7 h-7 flex items-center justify-center hover:bg-zinc-800 rounded-md transition-all text-sm relative",children:ke}),E.jsx("button",{type:"button",onClick:Ke=>hn(Ke,"color"),className:"w-7 h-7 flex items-center justify-center hover:bg-zinc-800 rounded-md transition-all relative",children:E.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Ge}})}),E.jsx("input",{autoFocus:!0,type:"text",className:"flex-1 min-w-0 h-7 bg-zinc-950 px-2 rounded-md text-xs text-white outline-none placeholder:text-zinc-600 border border-zinc-800 focus:border-zinc-600 transition-all",value:Qe,onChange:Ke=>Me(Ke.target.value),onKeyDown:Ke=>{(Ke.key===" "||Ke.key==="Enter")&&Ke.stopPropagation(),Ke.key==="Escape"&&Yn()}})]}),E.jsxs("div",{className:"flex justify-end gap-2",children:[E.jsx("button",{type:"button",onClick:Yn,className:"px-2 py-1 text-[10px] text-zinc-400 hover:text-white hover:bg-zinc-800 rounded transition-all",children:"Cancel"}),E.jsx("button",{type:"submit",disabled:!Qe.trim(),className:"px-3 py-1 bg-white text-black text-[10px] font-bold rounded hover:bg-zinc-200 transition-all",children:"Save"})]})]})},ce.id):E.jsx(gw,{habit:ce,isSelected:ze,children:E.jsxs("div",{onClick:Ke=>{const en=window.matchMedia("(max-width: 768px)").matches,gt=Ke.ctrlKey||Ke.metaKey||xt;T(ce.id,gt),en&&!xt&&!gt&&(A(!1),U(!1))},title:ce.name,style:{borderColor:ze?ce.color||"#ffffff":"transparent"},className:Ye("w-full flex items-center gap-3 p-2 rounded-md transition-all duration-200 group text-left relative overflow-hidden cursor-pointer border",ze?"bg-zinc-900":"hover:bg-zinc-900/50 hover:border-zinc-800/50"),children:[ce.color&&E.jsx("div",{className:"w-1 h-3.5 rounded-full shrink-0 relative z-10",style:{backgroundColor:ce.color}}),E.jsx("span",{className:"text-sm leading-none relative z-10 -ml-0.5",children:ce.emoji||""}),E.jsx("span",{className:Ye("flex-1 font-medium text-xs truncate transition-colors relative z-10",ze?"text-white":"text-zinc-400 group-hover:text-zinc-200"),children:ce.name}),E.jsxs("div",{className:Ye("flex items-center gap-1 transition-opacity relative z-10",ze?"opacity-100":"opacity-100 md:opacity-0 md:group-hover:opacity-100"),children:[E.jsx("button",{onClick:Ke=>{Ke.stopPropagation(),Zt(ce)},className:"p-1 hover:bg-zinc-800 rounded text-zinc-500 hover:text-white transition-all",children:E.jsx(yE,{size:10})}),E.jsx("button",{onClick:Ke=>{Ke.stopPropagation(),y(ce.id)},className:"p-1 hover:bg-zinc-800 rounded text-zinc-500 hover:text-white transition-all",children:E.jsx(bE,{size:10})})]})]})},ce.id)})})})})]})]});return E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:Ye("flex border-zinc-900 bg-zinc-950 transition-all duration-300 relative shrink-0","flex-col w-full border-b md:border-b-0",R?"fixed inset-0 z-[100] h-screen":"h-[53px] overflow-hidden","md:static md:h-full md:flex-row md:border-r md:w-auto md:overflow-visible"),children:[It&&E.jsx("div",{className:"fixed z-[9999] fixed-popover animate-in fade-in zoom-in-95 duration-150",style:{top:It.triggerRect.bottom+8,left:It.triggerRect.left},children:It.type==="emoji"?E.jsx("div",{className:"bg-zinc-950 border border-zinc-800 rounded-lg shadow-2xl p-2 grid grid-cols-5 gap-1 w-64 max-h-[300px] overflow-y-auto custom-scrollbar",children:Tg.map(ce=>E.jsx("button",{type:"button",onClick:()=>{Ze(ce),xn(null)},className:Ye("aspect-square flex items-center justify-center rounded hover:bg-zinc-900 transition-all text-base active:scale-90",ke===ce&&"bg-zinc-800"),children:ce},ce))}):E.jsx("div",{className:"bg-zinc-950 border border-zinc-800 rounded-lg shadow-2xl p-2 grid grid-cols-6 gap-2 w-48",children:ol.map(ce=>E.jsx("button",{type:"button",onClick:()=>{It.type==="calendar-color"?fe(ce):Jt(ce),xn(null)},className:Ye("w-6 h-6 rounded-full transition-all hover:scale-110 border border-zinc-800",(It.type==="calendar-color"?J===ce:Ge===ce)&&"ring-2 ring-white ring-offset-2 ring-offset-zinc-950"),style:{backgroundColor:ce}},ce))})}),E.jsxs("div",{className:Ye("flex flex-col border-zinc-900 bg-zinc-950 transition-all duration-300 relative z-20 shrink-0","w-full border-b md:border-b-0","md:h-full md:border-r",R?"md:w-64":"md:w-14"),children:[E.jsxs("div",{className:"p-3 flex items-center gap-3 border-b border-zinc-900 h-[53px]",children:[E.jsxs("button",{id:"tour-mobile-sidebar-toggle",onClick:()=>A(!R),className:"p-1.5 hover:bg-zinc-900 rounded-md text-zinc-400 transition-colors shrink-0",children:[E.jsx(ng,{size:20,className:Ye("md:hidden",!R&&"hidden")}),E.jsx(NR,{size:20,className:Ye(R&&"hidden md:block")})]}),E.jsxs("div",{onClick:()=>window.location.reload(),className:Ye("flex items-center gap-2 overflow-hidden transition-all duration-300 flex-1 cursor-pointer hover:opacity-80",R?"md:w-auto md:opacity-100":"md:w-0 md:opacity-0","w-auto opacity-100"),children:[E.jsx("img",{src:"./favicon_header.png",alt:"Logo",className:"w-6 h-6 object-contain shrink-0"}),E.jsx("span",{className:"text-sm font-bold text-white tracking-wide truncate",children:"Hone"})]}),O&&E.jsxs("div",{className:"md:hidden flex items-center gap-1",children:[E.jsx("button",{id:"tour-mobile-reset",onClick:de,className:"p-2 hover:bg-zinc-800 rounded transition-colors group",title:"Reset Tour",children:E.jsx(to,{className:"w-4 h-4 text-zinc-500 group-hover:text-yellow-400 transition-colors"})}),E.jsx("button",{id:"tour-mobile-settings",onClick:()=>D?.("settings"),className:Ye("p-2 hover:bg-zinc-800 rounded transition-colors group",I==="settings"?"text-white bg-zinc-800":"text-zinc-500"),title:"Settings",children:E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 group-hover:text-white transition-colors",children:[E.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.09a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),E.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),E.jsx("button",{onClick:N,className:"p-2 hover:bg-zinc-800 rounded transition-colors group",title:"Logout",children:E.jsx(Vg,{className:"w-4 h-4 text-zinc-500 group-hover:text-red-400 transition-colors"})})]})]}),E.jsxs("div",{id:"tour-calendar-list",className:Ye("custom-scrollbar space-y-1 transition-all duration-300","p-2 overflow-y-auto flex-1","md:flex-1 md:overflow-y-auto md:p-2 md:h-auto md:max-h-none md:overflow-visible"),children:[E.jsx(dw,{id:"calendars-dnd",sensors:B,collisionDetection:nw,onDragEnd:G,children:E.jsx(mw,{items:e.map(ce=>ce.id),strategy:pw,children:e.map(ce=>{const At=he===ce.id;return At&&(R||At)?E.jsx(yw,{id:ce.id,isEditing:!0,children:E.jsxs("form",{onSubmit:Kr,className:"px-1 bg-zinc-900 border border-zinc-700/50 rounded p-1 mb-1",children:[E.jsxs("div",{className:"flex items-center gap-1 mb-1.5",children:[E.jsx("button",{type:"button",onClick:ze=>hn(ze,"calendar-color"),className:"w-6 h-6 flex items-center justify-center hover:bg-zinc-800 rounded-md transition-all shrink-0",children:E.jsx(tg,{size:14,style:{color:J}})}),E.jsx("input",{autoFocus:!0,type:"text",value:ve,onChange:ze=>j(ze.target.value),className:"flex-1 min-w-0 bg-zinc-950 border border-zinc-800 rounded px-2 py-1 text-xs text-white focus:outline-none focus:border-zinc-700",onKeyDown:ze=>{(ze.key===" "||ze.key==="Enter")&&ze.stopPropagation(),ze.key==="Escape"&&pe(null)}})]}),E.jsxs("div",{className:"flex gap-1 justify-end",children:[E.jsx("button",{type:"button",onClick:()=>pe(null),className:"px-2 py-0.5 text-[10px] text-zinc-400 hover:text-white hover:bg-zinc-800 rounded transition-all",children:"Cancel"}),E.jsx("button",{type:"submit",className:"px-2 py-0.5 bg-white text-black text-[10px] font-bold rounded hover:bg-zinc-200 transition-all",children:"Save"})]})]})},ce.id):E.jsx(yw,{id:ce.id,children:E.jsxs("div",{onClick:()=>{i(ce.id)},title:ce.name,className:Ye("w-full flex items-center gap-3 p-2 rounded-md transition-all group cursor-pointer relative",n===ce.id?"bg-zinc-900 text-white":"text-zinc-500 hover:text-white hover:bg-zinc-900/50"),children:[n===ce.id?E.jsx(yR,{size:20,className:"shrink-0",style:{color:ce.color||"#ffffff"}}):E.jsxs("div",{className:"relative shrink-0 w-5 h-5 flex items-center justify-center",children:[E.jsx(tg,{size:20,className:"absolute inset-0",style:{color:ce.color||"#ffffff"}}),E.jsx("span",{className:"relative z-10 text-[9px] font-bold pt-0.5 select-none",style:{color:ce.color||"#ffffff"},children:ce.name.charAt(0).toUpperCase()})]}),R&&E.jsxs(E.Fragment,{children:[E.jsx("span",{className:"text-xs font-medium truncate flex-1 text-left",children:ce.name}),E.jsxs("div",{className:"flex items-center gap-1 opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-opacity",children:[E.jsx("button",{onClick:ze=>{ze.stopPropagation(),Gn(ce)},className:"p-1 hover:bg-zinc-800 rounded text-zinc-500 hover:text-white",children:E.jsx(yE,{size:12})}),e.length>1&&E.jsx("button",{onClick:ze=>{ze.stopPropagation(),u(ce.id)},className:"p-1 hover:bg-zinc-800 rounded text-zinc-500 hover:text-red-400",children:E.jsx(bE,{size:12})})]})]})]})},ce.id)})})}),q&&R&&E.jsxs("form",{onSubmit:Kr,className:"mt-2 px-1 bg-zinc-900 border border-zinc-700/50 rounded p-1 mb-1",children:[E.jsxs("div",{className:"flex items-center gap-1 mb-1.5",children:[E.jsx("button",{type:"button",onClick:ce=>hn(ce,"calendar-color"),className:"w-6 h-6 flex items-center justify-center hover:bg-zinc-800 rounded-md transition-all shrink-0",children:E.jsx(tg,{size:14,style:{color:J}})}),E.jsx("input",{autoFocus:!0,type:"text",value:ve,onChange:ce=>j(ce.target.value),placeholder:"Name...",className:"flex-1 min-w-0 bg-zinc-950 border border-zinc-800 rounded px-2 py-1 text-xs text-white placeholder:text-zinc-600 focus:outline-none focus:border-zinc-700",onKeyDown:ce=>{(ce.key===" "||ce.key==="Enter")&&ce.stopPropagation(),ce.key==="Escape"&&re(!1)}})]}),E.jsxs("div",{className:"flex gap-1 justify-end",children:[E.jsx("button",{type:"button",onClick:()=>re(!1),className:"px-2 py-0.5 text-[10px] text-zinc-400 hover:text-white hover:bg-zinc-800 rounded transition-all",children:"Cancel"}),E.jsx("button",{type:"submit",className:"px-2 py-0.5 bg-white text-black text-[10px] font-bold rounded hover:bg-zinc-200 transition-all",children:"Add"})]})]}),!q&&!he&&E.jsxs("button",{id:"tour-calendar-add",onClick:ht,className:Ye("w-full flex items-center gap-3 p-2 rounded-md text-zinc-600 hover:text-zinc-300 hover:bg-zinc-900/50 transition-all",!R&&"justify-center","md:justify-start"),title:"Add Calendar",children:[E.jsx(vE,{size:20,className:"shrink-0"}),R&&E.jsx("span",{className:"text-xs font-medium",children:"Add Calendar"})]})]}),O&&E.jsxs("div",{id:"tour-user-footer",className:Ye("hidden md:flex items-center gap-2 px-3 py-2.5 border-t border-zinc-800 mt-auto transition-all duration-300",R?"justify-between":"justify-center"),children:[E.jsx("div",{className:Ye("flex-1 min-w-0 transition-all duration-300",R?"opacity-100":"opacity-0 w-0 overflow-hidden"),children:E.jsx("p",{className:"text-xs text-zinc-400 truncate",children:O.email})}),E.jsxs("div",{className:"flex items-center gap-1",children:[R&&E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:de,className:"p-2 hover:bg-zinc-800 rounded transition-colors group flex-shrink-0",title:"Reset Tour",children:E.jsx(to,{className:"w-4 h-4 text-zinc-500 group-hover:text-yellow-400 transition-colors"})}),E.jsx("button",{id:"tour-desktop-settings",onClick:()=>D?.("settings"),className:Ye("p-2 hover:bg-zinc-800 rounded transition-colors group flex-shrink-0",I==="settings"?"text-white bg-zinc-800":"text-zinc-500"),title:"Settings",children:E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 group-hover:text-white transition-colors",children:[E.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.09a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),E.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),E.jsx("button",{onClick:N,className:"p-2 hover:bg-zinc-800 rounded transition-colors group flex-shrink-0",title:"Logout",children:E.jsx(Vg,{className:"w-4 h-4 text-zinc-500 group-hover:text-red-400 transition-colors"})})]})]})]}),E.jsx("div",{className:"hidden md:flex md:w-64 md:h-full md:bg-zinc-950 flex-col relative transition-all duration-300",children:hi})]}),E.jsx("div",{className:Ye("md:hidden fixed bottom-4 left-4 z-[9999] transition-opacity duration-300","opacity-100"),children:E.jsx("button",{id:"tour-mobile-habits-trigger",onClick:()=>U(!V),className:Ye("w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center shadow-lg border border-blue-500 text-white transition-all",V?"opacity-100 scale-110":"opacity-50 hover:opacity-100 scale-100"),children:E.jsx(to,{size:20,fill:"currentColor"})})}),E.jsxs("div",{id:"mobile-habits-popup",className:Ye("md:hidden fixed inset-4 z-[105] rounded-xl border border-zinc-800 shadow-2xl animate-in zoom-in-95 bg-zinc-950 flex flex-col",V?"block":"hidden"),children:[E.jsx("button",{onClick:()=>U(!1),className:"absolute top-2 right-2 p-1 bg-zinc-900 rounded-full text-zinc-400 z-50 md:hidden",children:E.jsx(ng,{size:14})}),hi]}),P&&E.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:E.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-6 max-w-sm mx-4 shadow-2xl animate-in zoom-in-95 duration-200",children:[E.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Confirm Logout"}),E.jsx("p",{className:"text-sm text-zinc-400 mb-6",children:"Are you sure you want to logout? You'll need to sign in again to access your habits."}),E.jsxs("div",{className:"flex gap-3 justify-end",children:[E.jsx("button",{onClick:()=>M(!1),className:"px-4 py-2 bg-zinc-800 hover:bg-zinc-700 text-white rounded text-sm font-medium transition-colors",children:"Cancel"}),E.jsx("button",{onClick:ne,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded text-sm font-medium transition-colors",children:"Logout"})]})]})})]})}const dA=6048e5,$P=864e5,vw=Symbol.for("constructDateFrom");function Zn(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&vw in t?t[vw](e):t instanceof Date?new t.constructor(e):new Date(e)}function Sn(t,e){return Zn(e||t,t)}function XP(t,e,n){const i=Sn(t,n?.in);return isNaN(e)?Zn(t,NaN):(e&&i.setDate(i.getDate()+e),i)}function JP(t,e,n){const i=Sn(t,n?.in);if(isNaN(e))return Zn(t,NaN);if(!e)return i;const a=i.getDate(),l=Zn(t,i.getTime());l.setMonth(i.getMonth()+e+1,0);const u=l.getDate();return a>=u?l:(i.setFullYear(l.getFullYear(),l.getMonth(),a),i)}let ZP={};function Yu(){return ZP}function Ta(t,e){const n=Yu(),i=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=Sn(t,e?.in),l=a.getDay(),u=(l<i?7:0)+l-i;return a.setDate(a.getDate()-u),a.setHours(0,0,0,0),a}function vh(t,e){return Ta(t,{...e,weekStartsOn:1})}function hA(t,e){const n=Sn(t,e?.in),i=n.getFullYear(),a=Zn(n,0);a.setFullYear(i+1,0,4),a.setHours(0,0,0,0);const l=vh(a),u=Zn(n,0);u.setFullYear(i,0,4),u.setHours(0,0,0,0);const h=vh(u);return n.getTime()>=l.getTime()?i+1:n.getTime()>=h.getTime()?i:i-1}function bw(t){const e=Sn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Ku(t,...e){const n=Zn.bind(null,e.find(i=>typeof i=="object"));return e.map(n)}function bh(t,e){const n=Sn(t,e?.in);return n.setHours(0,0,0,0),n}function pA(t,e,n){const[i,a]=Ku(n?.in,t,e),l=bh(i),u=bh(a),h=+l-bw(l),p=+u-bw(u);return Math.round((h-p)/$P)}function e5(t,e){const n=hA(t,e),i=Zn(t,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),vh(i)}function mA(t,e,n){return JP(t,e*12,n)}function t5(t){return Zn(t,Date.now())}function n5(t,e,n){const[i,a]=Ku(n?.in,t,e);return+bh(i)==+bh(a)}function r5(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function i5(t){return!(!r5(t)&&typeof t!="number"||isNaN(+Sn(t)))}function gy(t,e,n){const[i,a]=Ku(n?.in,t,e),l=_w(i,a),u=Math.abs(pA(i,a));i.setDate(i.getDate()-l*u);const h=+(_w(i,a)===-l),p=l*(u-h);return p===0?0:p}function _w(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function yy(t,e){const n=Sn(t,e?.in),i=n.getMonth();return n.setFullYear(n.getFullYear(),i+1,0),n.setHours(23,59,59,999),n}function gA(t,e){const[n,i]=Ku(t,e.start,e.end);return{start:n,end:i}}function sa(t,e){const{start:n,end:i}=gA(e?.in,t);let a=+n>+i;const l=a?+n:+i,u=a?i:n;u.setHours(0,0,0,0);let h=1;const p=[];for(;+u<=l;)p.push(Zn(n,u)),u.setDate(u.getDate()+h),u.setHours(0,0,0,0);return a?p.reverse():p}function s5(t,e){const{start:n,end:i}=gA(e?.in,t);let a=+n>+i;const l=a?+n:+i,u=a?i:n;u.setHours(0,0,0,0),u.setDate(1);let h=1;const p=[];for(;+u<=l;)p.push(Zn(n,u)),u.setMonth(u.getMonth()+h);return a?p.reverse():p}function vy(t,e){const n=Sn(t,e?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function yA(t,e){const n=Sn(t,e?.in),i=n.getFullYear();return n.setFullYear(i+1,0,0),n.setHours(23,59,59,999),n}function Nv(t,e){const n=Sn(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function by(t,e){const n=Yu(),i=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=Sn(t,e?.in),l=a.getDay(),u=(l<i?-7:0)+6-(l-i);return a.setDate(a.getDate()+u),a.setHours(23,59,59,999),a}const a5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},o5=(t,e,n)=>{let i;const a=a5[t];return typeof a=="string"?i=a:e===1?i=a.one:i=a.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function Sg(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const l5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},c5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},u5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},f5={date:Sg({formats:l5,defaultWidth:"full"}),time:Sg({formats:c5,defaultWidth:"full"}),dateTime:Sg({formats:u5,defaultWidth:"full"})},d5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},h5=(t,e,n,i)=>d5[t];function Kc(t){return(e,n)=>{const i=n?.context?String(n.context):"standalone";let a;if(i==="formatting"&&t.formattingValues){const u=t.defaultFormattingWidth||t.defaultWidth,h=n?.width?String(n.width):u;a=t.formattingValues[h]||t.formattingValues[u]}else{const u=t.defaultWidth,h=n?.width?String(n.width):t.defaultWidth;a=t.values[h]||t.values[u]}const l=t.argumentCallback?t.argumentCallback(e):e;return a[l]}}const p5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},m5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},g5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},y5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},v5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},b5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_5=(t,e)=>{const n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},E5={ordinalNumber:_5,era:Kc({values:p5,defaultWidth:"wide"}),quarter:Kc({values:m5,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Kc({values:g5,defaultWidth:"wide"}),day:Kc({values:y5,defaultWidth:"wide"}),dayPeriod:Kc({values:v5,defaultWidth:"wide",formattingValues:b5,defaultFormattingWidth:"wide"})};function Wc(t){return(e,n={})=>{const i=n.width,a=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],l=e.match(a);if(!l)return null;const u=l[0],h=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],p=Array.isArray(h)?T5(h,v=>v.test(u)):w5(h,v=>v.test(u));let g;g=t.valueCallback?t.valueCallback(p):p,g=n.valueCallback?n.valueCallback(g):g;const y=e.slice(u.length);return{value:g,rest:y}}}function w5(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function T5(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function S5(t){return(e,n={})=>{const i=e.match(t.matchPattern);if(!i)return null;const a=i[0],l=e.match(t.parsePattern);if(!l)return null;let u=t.valueCallback?t.valueCallback(l[0]):l[0];u=n.valueCallback?n.valueCallback(u):u;const h=e.slice(a.length);return{value:u,rest:h}}}const x5=/^(\d+)(th|st|nd|rd)?/i,A5=/\d+/i,C5={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},R5={any:[/^b/i,/^(a|c)/i]},N5={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},I5={any:[/1/i,/2/i,/3/i,/4/i]},O5={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},D5={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},M5={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},k5={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},P5={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},j5={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},z5={ordinalNumber:S5({matchPattern:x5,parsePattern:A5,valueCallback:t=>parseInt(t,10)}),era:Wc({matchPatterns:C5,defaultMatchWidth:"wide",parsePatterns:R5,defaultParseWidth:"any"}),quarter:Wc({matchPatterns:N5,defaultMatchWidth:"wide",parsePatterns:I5,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Wc({matchPatterns:O5,defaultMatchWidth:"wide",parsePatterns:D5,defaultParseWidth:"any"}),day:Wc({matchPatterns:M5,defaultMatchWidth:"wide",parsePatterns:k5,defaultParseWidth:"any"}),dayPeriod:Wc({matchPatterns:P5,defaultMatchWidth:"any",parsePatterns:j5,defaultParseWidth:"any"})},V5={code:"en-US",formatDistance:o5,formatLong:f5,formatRelative:h5,localize:E5,match:z5,options:{weekStartsOn:0,firstWeekContainsDate:1}};function L5(t,e){const n=Sn(t,e?.in);return pA(n,Nv(n))+1}function U5(t,e){const n=Sn(t,e?.in),i=+vh(n)-+e5(n);return Math.round(i/dA)+1}function vA(t,e){const n=Sn(t,e?.in),i=n.getFullYear(),a=Yu(),l=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,u=Zn(e?.in||t,0);u.setFullYear(i+1,0,l),u.setHours(0,0,0,0);const h=Ta(u,e),p=Zn(e?.in||t,0);p.setFullYear(i,0,l),p.setHours(0,0,0,0);const g=Ta(p,e);return+n>=+h?i+1:+n>=+g?i:i-1}function B5(t,e){const n=Yu(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=vA(t,e),l=Zn(e?.in||t,0);return l.setFullYear(a,0,i),l.setHours(0,0,0,0),Ta(l,e)}function F5(t,e){const n=Sn(t,e?.in),i=+Ta(n,e)-+B5(n,e);return Math.round(i/dA)+1}function _t(t,e){const n=t<0?"-":"",i=Math.abs(t).toString().padStart(e,"0");return n+i}const ra={y(t,e){const n=t.getFullYear(),i=n>0?n:1-n;return _t(e==="yy"?i%100:i,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):_t(n+1,2)},d(t,e){return _t(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(t,e){return _t(t.getHours()%12||12,e.length)},H(t,e){return _t(t.getHours(),e.length)},m(t,e){return _t(t.getMinutes(),e.length)},s(t,e){return _t(t.getSeconds(),e.length)},S(t,e){const n=e.length,i=t.getMilliseconds(),a=Math.trunc(i*Math.pow(10,n-3));return _t(a,e.length)}},ll={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ew={G:function(t,e,n){const i=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});default:return n.era(i,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const i=t.getFullYear(),a=i>0?i:1-i;return n.ordinalNumber(a,{unit:"year"})}return ra.y(t,e)},Y:function(t,e,n,i){const a=vA(t,i),l=a>0?a:1-a;if(e==="YY"){const u=l%100;return _t(u,2)}return e==="Yo"?n.ordinalNumber(l,{unit:"year"}):_t(l,e.length)},R:function(t,e){const n=hA(t);return _t(n,e.length)},u:function(t,e){const n=t.getFullYear();return _t(n,e.length)},Q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return _t(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return _t(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,e,n){const i=t.getMonth();switch(e){case"M":case"MM":return ra.M(t,e);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,e,n){const i=t.getMonth();switch(e){case"L":return String(i+1);case"LL":return _t(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,e,n,i){const a=F5(t,i);return e==="wo"?n.ordinalNumber(a,{unit:"week"}):_t(a,e.length)},I:function(t,e,n){const i=U5(t);return e==="Io"?n.ordinalNumber(i,{unit:"week"}):_t(i,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):ra.d(t,e)},D:function(t,e,n){const i=L5(t);return e==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):_t(i,e.length)},E:function(t,e,n){const i=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,e,n,i){const a=t.getDay(),l=(a-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return _t(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,n,i){const a=t.getDay(),l=(a-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return _t(l,e.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,n){const i=t.getDay(),a=i===0?7:i;switch(e){case"i":return String(a);case"ii":return _t(a,e.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,e,n){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,n){const i=t.getHours();let a;switch(i===12?a=ll.noon:i===0?a=ll.midnight:a=i/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,n){const i=t.getHours();let a;switch(i>=17?a=ll.evening:i>=12?a=ll.afternoon:i>=4?a=ll.morning:a=ll.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let i=t.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return ra.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):ra.H(t,e)},K:function(t,e,n){const i=t.getHours()%12;return e==="Ko"?n.ordinalNumber(i,{unit:"hour"}):_t(i,e.length)},k:function(t,e,n){let i=t.getHours();return i===0&&(i=24),e==="ko"?n.ordinalNumber(i,{unit:"hour"}):_t(i,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ra.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):ra.s(t,e)},S:function(t,e){return ra.S(t,e)},X:function(t,e,n){const i=t.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return Tw(i);case"XXXX":case"XX":return eo(i);default:return eo(i,":")}},x:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"x":return Tw(i);case"xxxx":case"xx":return eo(i);default:return eo(i,":")}},O:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ww(i,":");default:return"GMT"+eo(i,":")}},z:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ww(i,":");default:return"GMT"+eo(i,":")}},t:function(t,e,n){const i=Math.trunc(+t/1e3);return _t(i,e.length)},T:function(t,e,n){return _t(+t,e.length)}};function ww(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),a=Math.trunc(i/60),l=i%60;return l===0?n+String(a):n+String(a)+e+_t(l,2)}function Tw(t,e){return t%60===0?(t>0?"-":"+")+_t(Math.abs(t)/60,2):eo(t,e)}function eo(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),a=_t(Math.trunc(i/60),2),l=_t(i%60,2);return n+a+e+l}const Sw=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},bA=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},q5=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],i=n[1],a=n[2];if(!a)return Sw(t,e);let l;switch(i){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",Sw(i,e)).replace("{{time}}",bA(a,e))},H5={p:bA,P:q5},G5=/^D+$/,Y5=/^Y+$/,K5=["D","DD","YY","YYYY"];function W5(t){return G5.test(t)}function Q5(t){return Y5.test(t)}function $5(t,e,n){const i=X5(t,e,n);if(console.warn(i),K5.includes(t))throw new RangeError(i)}function X5(t,e,n){const i=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const J5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Z5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,e6=/^'([^]*?)'?$/,t6=/''/g,n6=/[a-zA-Z]/;function Qt(t,e,n){const i=Yu(),a=i.locale??V5,l=i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,u=i.weekStartsOn??i.locale?.options?.weekStartsOn??0,h=Sn(t,n?.in);if(!i5(h))throw new RangeError("Invalid time value");let p=e.match(Z5).map(y=>{const v=y[0];if(v==="p"||v==="P"){const T=H5[v];return T(y,a.formatLong)}return y}).join("").match(J5).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const v=y[0];if(v==="'")return{isToken:!1,value:r6(y)};if(Ew[v])return{isToken:!0,value:y};if(v.match(n6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(p=a.localize.preprocessor(h,p));const g={firstWeekContainsDate:l,weekStartsOn:u,locale:a};return p.map(y=>{if(!y.isToken)return y.value;const v=y.value;(Q5(v)||W5(v))&&$5(v,e,String(t));const T=Ew[v[0]];return T(h,v,a.localize,g)}).join("")}function r6(t){const e=t.match(e6);return e?e[1].replace(t6,"'"):t}function xw(t,e){return Sn(t,e?.in).getDay()}function i6(t,e,n){const[i,a]=Ku(n?.in,t,e);return i.getFullYear()===a.getFullYear()&&i.getMonth()===a.getMonth()}function _A(t,e){return n5(Zn(t,t),t5(t))}function xg(t,e,n){return XP(t,-e,n)}function s6(t,e,n){return mA(t,-1,n)}function EA({content:t,triggerRect:e,isVisible:n}){const[i,a]=k.useState({x:0,y:0});return k.useLayoutEffect(()=>{if(e&&n){let u=e.top-8;u<50&&(u=e.bottom+8);const h=Math.min(Math.max(0,e.left+e.width/2-100),window.innerWidth-200);setTimeout(()=>{a({x:h,y:u})},0)}},[e,n]),!n||!e?null:ri.createPortal(E.jsx("div",{className:"fixed z-[99999] pointer-events-none fade-in zoom-in-95 duration-150 animate-in",style:{left:i.x,top:i.y,transform:"translate(-50%, -100%)"},children:E.jsx("div",{className:"bg-zinc-950 border border-zinc-800 text-zinc-200 text-xs px-2 py-1.5 rounded-md shadow-xl whitespace-pre-wrap leading-relaxed min-w-[120px] text-center",children:t})}),document.body)}function a6(t){if(!t)return"white";let e=t.trim().replace(/^#/,"");if(e.length===3&&(e=e.split("").map(u=>u+u).join("")),e.length!==6)return"white";const n=parseInt(e.substring(0,2),16),i=parseInt(e.substring(2,4),16),a=parseInt(e.substring(4,6),16);return isNaN(n)||isNaN(i)||isNaN(a)?"white":(.299*n+.587*i+.114*a)/255>.5?"black":"white"}function o6({day:t,month:e,habits:n,selectedHabitIds:i,onToggleHabit:a,isHabitCompleted:l,setHoveredTooltip:u}){const[h,p]=k.useState(null),g=k.useRef(!1);if(!i6(t,e))return E.jsx("div",{});const v=i.filter(A=>l(t,A)),T=v[0],S=T?n.find(A=>A.id===T):null,I=!!S,V=i.length>1?"#ffffff":S?.color,U=_A(t),B=I?a6(V):void 0,K=v.map(A=>n.find(O=>O.id===A)?.name).filter(Boolean).join(`
 `),G=K?`${Qt(t,"MMM d, yyyy")}
 ${K}`:Qt(t,"MMM d, yyyy"),$=A=>{g.current=!1;const O=A.currentTarget.getBoundingClientRect(),L=setTimeout(()=>{g.current=!0,u({content:G,triggerRect:O})},500);p(L)},Z=()=>{h&&(clearTimeout(h),p(null)),g.current&&setTimeout(()=>u(null),1500)},R=()=>{h&&(clearTimeout(h),p(null))};return E.jsx("button",{onMouseEnter:A=>{window.matchMedia("(hover: hover)").matches&&u({content:G,triggerRect:A.currentTarget.getBoundingClientRect()})},onMouseLeave:()=>u(null),onTouchStart:$,onTouchEnd:Z,onTouchMove:R,onContextMenu:A=>A.preventDefault(),onClick:A=>{if(g.current){A.preventDefault();return}a(t,i[0])},className:"group relative w-full aspect-square flex items-center justify-center rounded-sm hover:bg-zinc-800/30 transition-colors select-none touch-manipulation",style:{WebkitTapHighlightColor:"transparent",WebkitTouchCallout:"none",userSelect:"none"},children:E.jsx("span",{className:Ye("w-full h-full flex items-center justify-center text-[9px] rounded-lg transition-all duration-200 pointer-events-none",I&&"font-bold shadow-sm",!I&&"text-zinc-500 hover:text-white",U&&!I&&"text-white font-bold bg-zinc-800"),style:{backgroundColor:I?V:void 0,color:I?B:void 0},children:Qt(t,"d")})})}function l6({year:t,habits:e,selectedHabitIds:n,onToggleHabit:i,isHabitCompleted:a}){const l=Nv(new Date(t,0,1)),u=yA(l),h=s5({start:l,end:u}),[p,g]=k.useState(null);return e.length===0?E.jsx("div",{className:"h-full flex items-center justify-center",children:E.jsx("p",{className:"text-zinc-500 text-xs",children:"No habits yet"})}):n.length===0?E.jsx("div",{className:"h-full flex items-center justify-center",children:E.jsx("p",{className:"text-zinc-500 text-xs",children:"Select a habit"})}):E.jsxs("div",{className:"h-full overflow-y-auto custom-scrollbar p-1 animate-in fade-in zoom-in-95 duration-500",children:[E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-1 md:gap-2",children:h.map(y=>{const v=vy(y),T=yy(y),S=Ta(v),I=by(T),D=sa({start:S,end:I});return E.jsxs("div",{className:"flex flex-col border-b border-zinc-800/20 md:border md:border-zinc-800/40 md:border-dashed rounded-none md:rounded p-1 md:p-1.5 hover:border-zinc-700 transition-colors",children:[E.jsx("h3",{className:"text-zinc-500 font-bold mb-1 text-[10px] md:text-[11px] tracking-wide uppercase pl-1",children:Qt(y,"MMM")}),E.jsx("div",{className:"grid grid-cols-7 mb-0.5",children:["S","M","T","W","T","F","S"].map((V,U)=>E.jsx("div",{className:"text-center text-[8px] text-zinc-600 font-bold",children:V},U))}),E.jsx("div",{className:"grid grid-cols-7 gap-px md:gap-[2px]",children:D.map(V=>E.jsx(o6,{day:V,month:y,habits:e,selectedHabitIds:n,onToggleHabit:i,isHabitCompleted:a,setHoveredTooltip:g},V.toISOString()))})]},y.toString())})}),E.jsx(EA,{content:p?.content,triggerRect:p?.triggerRect||null,isVisible:!!p})]})}function c6({day:t,habits:e,selectedHabitIds:n,primaryHabit:i,isHabitCompleted:a,setHoveredTooltip:l}){const u=n.length>1,h=n.filter(Z=>a(t,Z)).length,p=h>0,g=n.length>0?h/n.length:0,y=u?"#ffffff":i.color,v=p&&u?.2+g*.8:1,S=n.filter(Z=>a(t,Z)).map(Z=>e.find(R=>R.id===Z)?.name).filter(Boolean).join(`
 `),I=`${Qt(t,"EEEE, MMM d, yyyy")}
${h}/${n.length} completed${S?`:
 `+S:""}`,[D,V]=k.useState(null),U=k.useRef(!1),B=k.useRef(null),K=Z=>{U.current=!1,B.current={x:Z.touches[0].clientX,y:Z.touches[0].clientY};const R=Z.currentTarget.getBoundingClientRect(),A=setTimeout(()=>{U.current=!0,l({content:I,triggerRect:R}),navigator.vibrate&&navigator.vibrate(50)},500);V(A)},G=()=>{D&&(clearTimeout(D),V(null)),B.current=null,U.current&&setTimeout(()=>l(null),2e3)},$=Z=>{if(!D||!B.current)return;const R=Math.abs(Z.touches[0].clientX-B.current.x),A=Math.abs(Z.touches[0].clientY-B.current.y);(R>10||A>10)&&(clearTimeout(D),V(null),B.current=null)};return E.jsx("div",{onMouseEnter:Z=>{window.matchMedia("(hover: hover)").matches&&l({content:I,triggerRect:Z.currentTarget.getBoundingClientRect()})},onMouseLeave:()=>l(null),onTouchStart:K,onTouchEnd:G,onTouchMove:$,onContextMenu:Z=>Z.preventDefault(),onClick:Z=>{if(U.current){Z.preventDefault();return}},className:Ye("w-3 h-3 rounded-sm transition-all duration-200 hover:scale-125 hover:z-10 relative select-none touch-manipulation",!p&&"bg-zinc-900/50 border border-zinc-800/50 hover:border-zinc-600 hover:bg-zinc-800",p&&"shadow-[0_0_8px_-2px_var(--color)]"),style:{backgroundColor:p?y:void 0,"--color":p?y:void 0,opacity:v,WebkitTapHighlightColor:"transparent",WebkitTouchCallout:"none",userSelect:"none"}})}function u6({year:t,habits:e,selectedHabitIds:n,isHabitCompleted:i,logs:a}){const l=Nv(new Date(t,0,1)),u=yA(l),h=sa({start:l,end:u}),p=xw(l),g=Array(p).fill(null),[y,v]=k.useState(null),T=[...g,...h],S=e.find(G=>G.id===n[0]),{completedCount:I,percentage:D,monthlyStats:V,weekdayStats:U,quarterlyStats:B,streakStats:K}=k.useMemo(()=>{if(n.length===0)return{completedCount:0,percentage:0,monthlyStats:[],weekdayStats:[],quarterlyStats:[],streakStats:[]};let G=0;h.forEach(ne=>{n.forEach(de=>{i(ne,de)&&G++})});const $=G,Z=h.length*n.length,R=Math.round(G/Z*100),A=Array.from({length:12}).map((ne,de)=>{const q=h.filter(he=>he.getMonth()===de);let re=0;return q.forEach(he=>{n.forEach(pe=>{i(he,pe)&&re++})}),{monthIndex:de,count:re}}),O=[0,1,2,3,4,5,6].map(ne=>{const de=ne,q=h.filter(pe=>xw(pe)===de);let re=0;q.forEach(pe=>{n.forEach(ve=>{i(pe,ve)&&re++})});const he=q.length*n.length;return{dayIndex:ne,count:re,total:he}}),L=["Q1","Q2","Q3","Q4"].map((ne,de)=>{const q=[0,1,2].map(ve=>de*3+ve),re=h.filter(ve=>q.includes(ve.getMonth()));let he=0;re.forEach(ve=>{n.forEach(j=>{i(ve,j)&&he++})});const pe=re.length*n.length;return{label:ne,count:he,total:pe}}),P=[];let M=0;h.forEach(ne=>{n.some(q=>i(ne,q))?M++:M>0&&(P.push(M),M=0)}),M>0&&P.push(M);const N=[{label:"1-3",min:1,max:3,count:0},{label:"4-7",min:4,max:7,count:0},{label:"8-14",min:8,max:14,count:0},{label:"15+",min:15,max:1/0,count:0}];return N.forEach(ne=>{ne.count=P.filter(de=>de>=ne.min&&de<=ne.max).length}),{completedCount:$,percentage:R,monthlyStats:A,weekdayStats:O,quarterlyStats:L,streakStats:N}},[h,n,i,a]);return e.length===0||n.length===0||!S?E.jsx("div",{className:"h-full flex items-center justify-center",children:E.jsx("p",{className:"text-zinc-500 text-xs",children:"Select a habit to view graph"})}):E.jsxs("div",{className:"h-full flex flex-col overflow-y-auto p-2 md:p-4 animate-in fade-in zoom-in-95 duration-500 custom-scrollbar",children:[E.jsx("div",{className:"flex items-end justify-between mb-4 md:mb-6 shrink-0",children:E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[E.jsx("h2",{className:"text-sm font-bold text-white",children:"Contribution Graph"}),E.jsxs("span",{className:"text-[10px] bg-zinc-900 border border-zinc-800 text-zinc-400 px-1.5 py-0.5 rounded-md",children:[E.jsx("span",{className:"text-zinc-200 font-semibold",children:gy(u,new Date)})," days left"]})]}),E.jsxs("p",{className:"text-zinc-500 text-[10px]",children:[I," completions in ",t,"  ",D,"% rate"]})]})}),E.jsx("div",{className:"flex-1 overflow-x-auto min-h-[160px] shrink-0 custom-scrollbar pb-2",children:E.jsxs("div",{className:"flex gap-2 min-w-full",children:[E.jsxs("div",{className:"grid grid-rows-7 gap-1 text-[10px] text-zinc-600 font-medium pt-4 items-center h-max leading-none mt-1",children:[E.jsx("span",{className:"h-3 flex items-center opacity-0",children:"S"}),E.jsx("span",{className:"h-3 flex items-center",children:"Mon"}),E.jsx("span",{className:"h-3 flex items-center opacity-0",children:"T"}),E.jsx("span",{className:"h-3 flex items-center",children:"Wed"}),E.jsx("span",{className:"h-3 flex items-center opacity-0",children:"T"}),E.jsx("span",{className:"h-3 flex items-center",children:"Fri"}),E.jsx("span",{className:"h-3 flex items-center opacity-0",children:"S"})]}),E.jsxs("div",{className:"flex flex-col gap-1 min-w-0 flex-1",children:[E.jsx("div",{className:"relative h-4 mb-2",children:Array.from({length:12}).map((G,$)=>{const Z=new Date(t,$,1),A=gy(Z,l)+p,O=Math.floor(A/7);return E.jsx("span",{className:"absolute text-[10px] text-zinc-600 font-medium",style:{left:`${O*16}px`},children:Qt(Z,"MMM")},$)})}),E.jsx("div",{className:"grid grid-rows-7 grid-flow-col gap-1 w-full",children:T.map((G,$)=>G?E.jsx(c6,{day:G,habits:e,selectedHabitIds:n,primaryHabit:S,isHabitCompleted:i,setHoveredTooltip:v},G.toISOString()):E.jsx("div",{className:"w-3 h-3"},`empty-${$}`))}),n.length>1&&E.jsxs("div",{className:"flex items-center justify-end gap-1 mt-2 text-[10px] text-zinc-500",children:[E.jsx("span",{children:"Less"}),[.2,.4,.6,.8,1].map(G=>E.jsx("div",{className:"w-2.5 h-2.5 rounded-[1px]",style:{backgroundColor:"#ffffff",opacity:G}},G)),E.jsx("span",{children:"More"})]})]})]})}),E.jsx(EA,{content:y?.content,triggerRect:y?.triggerRect||null,isVisible:!!y}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:gap-4 mt-4 md:mt-8 pb-4 shrink-0",children:[E.jsxs("div",{className:"bg-zinc-900/30 border border-zinc-800/50 rounded-lg p-2 md:p-3",children:[E.jsx("h3",{className:"text-xs font-medium text-zinc-400 mb-2 md:mb-3 ml-1",children:"Monthly Performance"}),E.jsx("div",{className:"flex items-end gap-1 h-16 md:h-24",children:V.map(G=>{const Z=Math.max(4,Math.round(G.count/31*100));return E.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1 group h-full",children:[E.jsx("div",{className:"w-full bg-zinc-800/50 rounded-sm relative flex-1 w-full flex items-end overflow-hidden group-hover:bg-zinc-800 transition-colors",children:E.jsx("div",{className:"w-full transition-all duration-500 ease-out",style:{height:`${Z}%`,backgroundColor:G.count>0?n.length>1?"#ffffff":S.color:void 0,opacity:G.count>0?.8:0}})}),E.jsx("span",{className:"text-[8px] text-zinc-600 font-medium uppercase",children:Qt(new Date(t,G.monthIndex,1),"MMM").slice(0,1)})]},G.monthIndex)})})]}),E.jsxs("div",{className:"bg-zinc-900/30 border border-zinc-800/50 rounded-lg p-2 md:p-3",children:[E.jsx("h3",{className:"text-xs font-medium text-zinc-400 mb-2 md:mb-3 ml-1",children:"Weekday Frequency"}),E.jsx("div",{className:"flex items-end gap-1 h-16 md:h-24",children:U.map(G=>{const $=Qt(new Date(2024,0,7+G.dayIndex),"EEEEE"),Z=G.total||52,R=Math.max(4,Math.round(G.count/Z*100));return E.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1 group h-full",children:[E.jsx("div",{className:"w-full bg-zinc-800/50 rounded-sm relative flex-1 w-full flex items-end overflow-hidden group-hover:bg-zinc-800 transition-colors",children:E.jsx("div",{className:"w-full transition-all duration-500 ease-out",style:{height:`${R}%`,backgroundColor:G.count>0?n.length>1?"#ffffff":S.color:void 0,opacity:G.count>0?.8:0}})}),E.jsx("span",{className:"text-[8px] text-zinc-600 font-medium",children:$})]},G.dayIndex)})})]})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:gap-4 pb-4 shrink-0",children:[E.jsxs("div",{className:"bg-zinc-900/30 border border-zinc-800/50 rounded-lg p-2 md:p-3",children:[E.jsx("h3",{className:"text-xs font-medium text-zinc-400 mb-2 md:mb-3 ml-1",children:"Quarterly Progress"}),E.jsx("div",{className:"flex items-end gap-1 h-16 md:h-24",children:B.map(G=>{const $=Math.max(4,Math.round(G.count/G.total*100));return E.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1 group h-full",children:[E.jsx("div",{className:"w-full bg-zinc-800/50 rounded-sm relative flex-1 w-full flex items-end overflow-hidden group-hover:bg-zinc-800 transition-colors",children:E.jsx("div",{className:"w-full transition-all duration-500 ease-out",style:{height:`${$}%`,backgroundColor:G.count>0?n.length>1?"#ffffff":S.color:void 0,opacity:G.count>0?.8:0}})}),E.jsx("span",{className:"text-[8px] text-zinc-600 font-medium",children:G.label})]},G.label)})})]}),E.jsxs("div",{className:"bg-zinc-900/30 border border-zinc-800/50 rounded-lg p-2 md:p-3",children:[E.jsx("h3",{className:"text-xs font-medium text-zinc-400 mb-2 md:mb-3 ml-1",children:"Streak Distribution"}),E.jsx("div",{className:"flex items-end gap-1 h-16 md:h-24",children:(()=>{const G=Math.max(...K.map($=>$.count))||1;return K.map($=>{const Z=Math.max(4,Math.round($.count/G*100));return E.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1 group h-full",children:[E.jsx("div",{className:"w-full bg-zinc-800/50 rounded-sm relative flex-1 w-full flex items-end overflow-hidden group-hover:bg-zinc-800 transition-colors",children:E.jsx("div",{className:"w-full transition-all duration-500 ease-out",style:{height:`${Z}%`,backgroundColor:$.count>0?n.length>1?"#ffffff":S.color:void 0,opacity:$.count>0?.8:0}})}),E.jsx("span",{className:"text-[8px] text-zinc-600 font-medium",children:$.label})]},$.label)})})()})]})]})]})}function f6({habits:t,selectedHabitIds:e,selectedHabitStats:n,onToggleHabit:i,onToggleHabits:a,isHabitCompleted:l,logs:u}){const[h,p]=k.useState(new Date),[g,y]=k.useState("year"),v=t.filter($=>e.includes($.id)),T=v.length>1,S=()=>{p(mA(h,1))},I=()=>{p(s6(h))},D=()=>p(new Date),V=()=>Qt(h,"yyyy"),[U,B]=k.useState(null),K=($,Z)=>{T?B({date:$,habitIds:e}):_A($)?i($,Z):B({date:$,habitId:Z})},G=()=>{U&&(U.habitIds?a(U.date,U.habitIds):U.habitId&&i(U.date,U.habitId),B(null))};return E.jsxs("main",{className:"flex-1 h-full overflow-hidden flex flex-col relative bg-zinc-950","aria-label":"Calendar view",children:[E.jsxs("header",{className:"flex flex-col gap-3 px-4 py-3 shrink-0 border-b border-zinc-900 bg-zinc-950",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("div",{className:"flex items-center gap-3",children:E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("h1",{className:"text-xl font-bold tracking-tight text-white",children:V()}),E.jsx("span",{className:"text-xs text-zinc-500",children:"|"}),E.jsx("p",{className:"text-xs text-zinc-400 tracking-wide",children:v.length>0?T?`${v.length} habits selected`:v[0].name:t.length===0?"Create a habit":"Select a habit"})]})}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{id:"tour-view-toggles",className:"flex bg-zinc-900/50 rounded-md p-1 border border-zinc-900",children:["year","graph"].map($=>E.jsx("button",{onClick:()=>y($),"aria-label":`${$} view`,"aria-pressed":g===$,className:Ye("px-3 py-1 rounded text-[10px] font-medium transition-all duration-200 capitalize",g===$?"bg-zinc-800 text-white":"text-zinc-500 hover:text-zinc-300"),children:$},$))}),E.jsxs("div",{id:"tour-calendar-nav",className:"flex items-center gap-1 bg-zinc-900/50 rounded-md p-1 border border-zinc-900",children:[E.jsx("button",{onClick:I,"aria-label":"Previous",className:"p-1.5 hover:bg-zinc-800 rounded text-zinc-400 hover:text-white transition-all",children:E.jsx(uR,{size:14})}),E.jsx("button",{onClick:D,"aria-label":"Go to today",className:"px-2 py-1 text-[10px] font-medium text-zinc-400 hover:text-white hover:bg-zinc-800 rounded transition-all",children:"Today"}),E.jsx("button",{onClick:S,"aria-label":"Next",className:"p-1.5 hover:bg-zinc-800 rounded text-zinc-400 hover:text-white transition-all",children:E.jsx(dT,{size:14})})]})]})]}),E.jsx("div",{id:"tour-calendar-stats",className:"flex flex-wrap items-center gap-x-4 gap-y-2 mt-1 min-h-[24px]",children:v.length>0&&n?E.jsxs(E.Fragment,{children:[!T&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"flex items-baseline gap-1.5 ",children:[E.jsx("span",{className:"text-[10px] text-zinc-500 font-medium uppercase tracking-wider",children:"Current"}),E.jsxs("span",{className:"text-sm font-bold text-white",children:[n.currentStreak,E.jsx("span",{className:"text-[10px] font-normal text-zinc-600 ml-0.5",children:"d"})]})]}),E.jsx("div",{className:"hidden sm:block w-px h-3 bg-zinc-800"}),E.jsxs("div",{className:"flex items-baseline gap-1.5",children:[E.jsx("span",{className:"text-[10px] text-zinc-500 font-medium uppercase tracking-wider",children:"Best"}),E.jsxs("span",{className:"text-sm font-bold text-white",children:[n.longestStreak,E.jsx("span",{className:"text-[10px] font-normal text-zinc-600 ml-0.5",children:"d"})]})]}),E.jsx("div",{className:"hidden sm:block w-px h-3 bg-zinc-800"})]}),E.jsxs("div",{className:"flex items-baseline gap-1.5",children:[E.jsx("span",{className:"text-[10px] text-zinc-500 font-medium uppercase tracking-wider",children:"Week"}),E.jsxs("span",{className:"text-sm font-bold text-white",children:[n.thisWeek,!T&&E.jsx("span",{className:"text-[10px] font-normal text-zinc-600 ml-0.5",children:"/7"})]})]}),E.jsx("div",{className:"hidden sm:block w-px h-3 bg-zinc-800"}),E.jsxs("div",{className:"flex items-baseline gap-1.5",children:[E.jsx("span",{className:"text-[10px] text-zinc-500 font-medium uppercase tracking-wider",children:"Month"}),E.jsxs("span",{className:"text-sm font-bold text-white",children:[n.thisMonth,E.jsx("span",{className:"text-[10px] font-normal text-zinc-600 ml-0.5",children:"d"})]})]}),E.jsx("div",{className:"hidden sm:block w-px h-3 bg-zinc-800"}),E.jsxs("div",{className:"flex items-baseline gap-1.5",children:[E.jsx("span",{className:"text-[10px] text-zinc-500 font-medium uppercase tracking-wider",children:"Rate"}),E.jsxs("span",{className:"text-sm font-bold text-white",children:[n.completionRate,E.jsx("span",{className:"text-[10px] font-normal text-zinc-600 ml-0.5",children:"%"})]})]})]}):E.jsx("p",{className:"text-[10px] text-zinc-600 italic",children:"Select a habit to view stats"})})]}),E.jsx("div",{className:"flex-1 overflow-hidden px-4 pb-4 flex flex-col",children:E.jsxs("div",{id:"tour-calendar-main",className:"max-w-full mx-auto w-full h-full flex flex-col",children:[g==="year"&&E.jsx(l6,{year:h.getFullYear(),habits:t,selectedHabitIds:e,onToggleHabit:K,isHabitCompleted:l}),g==="graph"&&E.jsx(u6,{year:h.getFullYear(),habits:t,selectedHabitIds:e,isHabitCompleted:l,logs:u})]})}),U&&E.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:E.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-5 shadow-2xl max-w-sm w-full mx-4 animate-in zoom-in-95 duration-200",children:[E.jsx("h3",{className:"text-white font-bold text-lg mb-2",children:"Confirm Change"}),E.jsx("p",{className:"text-zinc-400 text-sm mb-5",children:U.habitIds?E.jsxs(E.Fragment,{children:["Are you sure you want to update ",E.jsx("span",{className:"text-white font-medium",children:U.habitIds.length})," habits for ",E.jsx("span",{className:"text-white font-medium",children:Qt(U.date,"MMMM do, yyyy")}),"?"]}):E.jsxs(E.Fragment,{children:["Are you sure you want to update the habit status for ",E.jsx("span",{className:"text-white font-medium",children:Qt(U.date,"MMMM do, yyyy")}),"?"]})}),E.jsxs("div",{className:"flex justify-end gap-3",children:[E.jsx("button",{onClick:()=>B(null),className:"px-3 py-1.5 text-xs font-medium text-zinc-400 hover:text-white hover:bg-zinc-800 rounded transition-all",children:"Cancel"}),E.jsx("button",{onClick:G,className:"px-3 py-1.5 text-xs font-bold bg-white text-black hover:bg-zinc-200 rounded transition-all",children:"Confirm"})]})]})})]})}function pl(t){const e=t?.code||"";return{"auth/invalid-credential":"Invalid email or password","auth/user-not-found":"No account found with this email","auth/wrong-password":"Incorrect password","auth/email-already-in-use":"Email already registered","auth/weak-password":"Password should be at least 6 characters","auth/invalid-email":"Invalid email address","auth/too-many-requests":"Too many attempts. Try again later","auth/network-request-failed":"Network error. Check your connection","auth/operation-not-allowed":"Email Link sign-in is not enabled in Firebase Console","auth/unauthorized-continue-uri":"Domain not authorized in Firebase Console","auth/missing-android-pkg-name":"Android package name missing","auth/missing-continue-uri":"Continue URL missing","auth/missing-ios-bundle-id":"iOS Bundle ID missing","auth/invalid-continue-uri":"Invalid Continue URL","auth/unauthorized-domain":"App domain not authorized in Firebase Console"}[e]||"Authentication failed. Please try again"}function d6({onBack:t}){const{currentUser:e,linkGoogle:n,unlinkProvider:i,resetPassword:a,updateUserPassword:l,logout:u,reauthenticateUser:h}=Bl(),[p,g]=k.useState(!1),[y,v]=k.useState(null),[T,S]=k.useState(null),[I,D]=k.useState(!1),[V,U]=k.useState(""),[B,K]=k.useState(""),[G,$]=k.useState(""),Z=e?.providerData||[],R=Z.some(ne=>ne.providerId==="google.com"),A=Z.some(ne=>ne.providerId==="password"),O=Z.length>1,L=async()=>{g(!0),v(null);try{await n(),v({type:"success",text:"Google account linked successfully!"})}catch(ne){v({type:"error",text:"Failed to link Google account. "+ne.message})}finally{g(!1)}},P=async ne=>{g(!0),v(null);try{await i(ne),v({type:"success",text:"Account unlinked successfully."}),S(null)}catch(de){v({type:"error",text:"Failed to unlink account. "+de.message})}finally{g(!1)}},M=async()=>{if(e?.email){g(!0),v(null);try{await a(e.email),v({type:"success",text:"Password reset email sent!"})}catch(ne){v({type:"error",text:"Failed to send reset email. "+ne.message})}finally{g(!1)}}},N=async ne=>{if(ne.preventDefault(),v(null),!V){v({type:"error",text:"Please enter your current password."});return}if(B!==G){v({type:"error",text:"New passwords do not match."});return}if(B.length<6){v({type:"error",text:"New password must be at least 6 characters."});return}g(!0);try{await h(V),await l(B),v({type:"success",text:"Password updated successfully!"}),U(""),K(""),$(""),D(!1)}catch(de){console.error("Update password error:",de);const q=pl(de);v({type:"error",text:q==="Invalid email or password"||q==="Incorrect password"?"Incorrect current password":q})}finally{g(!1)}};return E.jsx("div",{className:"flex-1 h-full overflow-y-auto bg-zinc-950 p-4 md:p-8 custom-scrollbar",children:E.jsxs("div",{className:"max-w-2xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[E.jsxs("div",{className:"flex items-center gap-4 border-b border-zinc-800 pb-6",children:[E.jsx("button",{onClick:t,className:"md:hidden p-2 -ml-2 hover:bg-zinc-900 rounded-full text-zinc-400 transition-colors",children:E.jsx(fT,{size:20})}),E.jsxs("div",{children:[E.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Settings"}),E.jsx("p",{className:"text-sm text-zinc-400",children:"Manage your account and preferences"})]})]}),y&&E.jsxs("div",{className:Ye("p-4 rounded-lg flex items-center gap-3 text-sm",y.type==="success"?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":"bg-red-500/10 text-red-400 border border-red-500/20"),children:[y.type==="success"?E.jsx(pR,{size:16}):E.jsx(jg,{size:16}),y.text]}),E.jsxs("section",{className:"space-y-4",children:[E.jsx("h2",{className:"text-sm font-bold text-zinc-500 uppercase tracking-wider",children:"Profile"}),E.jsxs("div",{className:"bg-zinc-900/50 border border-zinc-800 rounded-xl p-4 flex items-center gap-4",children:[E.jsx("div",{className:"w-12 h-12 bg-zinc-800 rounded-full flex items-center justify-center text-zinc-400",children:E.jsx("span",{className:"text-xl font-bold",children:e?.email?.charAt(0).toUpperCase()})}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsx("p",{className:"text-white font-medium truncate",children:e?.email}),E.jsxs("p",{className:"text-xs text-zinc-500",children:["Account ID: ",e?.uid]})]})]})]}),E.jsxs("section",{className:"space-y-4",children:[E.jsx("h2",{className:"text-sm font-bold text-zinc-500 uppercase tracking-wider",children:"Connected Accounts"}),E.jsxs("div",{className:"bg-zinc-900/50 border border-zinc-800 rounded-xl overflow-hidden divide-y divide-zinc-800",children:[E.jsxs("div",{className:"p-4 flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"p-2 bg-zinc-800 rounded-lg",children:E.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[E.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),E.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),E.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),E.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})}),E.jsxs("div",{children:[E.jsx("p",{className:"text-sm font-medium text-white",children:"Google"}),E.jsx("p",{className:"text-xs text-zinc-500",children:R?"Connected":"Not connected"})]})]}),R?O&&(T==="google.com"?E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("button",{onClick:()=>S(null),className:"px-3 py-1.5 text-xs text-zinc-400 hover:text-white transition-colors",children:"Cancel"}),E.jsx("button",{onClick:()=>P("google.com"),disabled:p,className:"px-3 py-1.5 bg-red-500/10 text-red-400 hover:bg-red-500/20 border border-red-500/50 rounded text-xs transition-colors",children:"Confirm Unlink"})]}):E.jsx("button",{onClick:()=>S("google.com"),className:"p-2 text-zinc-400 hover:text-red-400 transition-colors",title:"Unlink Google",children:E.jsx(_R,{size:16,className:"rotate-45"})})):E.jsx("button",{onClick:L,disabled:p,className:"px-3 py-1.5 bg-zinc-800 hover:bg-zinc-700 text-white text-xs font-medium rounded transition-colors",children:"Connect"})]}),E.jsx("div",{className:"p-4 flex items-center justify-between",children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"p-2 bg-zinc-800 rounded-lg text-zinc-400",children:E.jsx(Lg,{size:20})}),E.jsxs("div",{children:[E.jsx("p",{className:"text-sm font-medium text-white",children:"Email & Password"}),E.jsx("p",{className:"text-xs text-zinc-500",children:A?"Enabled":"Not set"})]})]})})]})]}),E.jsxs("section",{className:"space-y-4",children:[E.jsx("h2",{className:"text-sm font-bold text-zinc-500 uppercase tracking-wider",children:"Security"}),E.jsxs("div",{className:"bg-zinc-900/50 border border-zinc-800 rounded-xl overflow-hidden",children:[A&&E.jsxs("div",{className:"border-b border-zinc-800",children:[E.jsxs("button",{onClick:()=>D(!I),className:"w-full flex items-center justify-between p-4 hover:bg-zinc-800/50 transition-colors",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"p-2 bg-zinc-800 rounded-lg text-zinc-400",children:E.jsx(zg,{size:20})}),E.jsxs("div",{className:"text-left",children:[E.jsx("p",{className:"text-sm font-medium text-white",children:"Password"}),E.jsx("p",{className:"text-xs text-zinc-500",children:"Change your account password"})]})]}),E.jsx(dT,{className:Ye("w-5 h-5 text-zinc-600 transition-transform",I&&"rotate-90")})]}),I&&E.jsx("form",{onSubmit:N,className:"p-4 pt-0 space-y-4 animate-in slide-in-from-top-2 duration-200",children:E.jsxs("div",{className:"space-y-3 pt-4 border-t border-zinc-800/50",children:[E.jsx("input",{type:"password",placeholder:"Current Password",value:V,onChange:ne=>U(ne.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg px-3 py-2 text-sm text-white placeholder:text-zinc-600 focus:ring-1 focus:ring-white outline-none transition-all"}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[E.jsx("input",{type:"password",placeholder:"New Password",value:B,onChange:ne=>K(ne.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg px-3 py-2 text-sm text-white placeholder:text-zinc-600 focus:ring-1 focus:ring-white outline-none transition-all"}),E.jsx("input",{type:"password",placeholder:"Confirm Password",value:G,onChange:ne=>$(ne.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg px-3 py-2 text-sm text-white placeholder:text-zinc-600 focus:ring-1 focus:ring-white outline-none transition-all"})]}),E.jsx("div",{className:"flex justify-end",children:E.jsx("button",{type:"submit",disabled:p||!B||!V,className:"px-4 py-2 bg-white text-black text-sm font-bold rounded hover:bg-zinc-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Update Password"})})]})})]}),E.jsx("div",{className:"border-b border-zinc-800",children:E.jsx("button",{onClick:M,disabled:p,className:"w-full flex items-center justify-between p-4 hover:bg-zinc-800/50 transition-colors group",children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"p-2 bg-zinc-800 rounded-lg text-zinc-400 group-hover:text-white transition-colors",children:E.jsx(PR,{size:20})}),E.jsxs("div",{className:"text-left",children:[E.jsx("p",{className:"text-sm font-medium text-white",children:"Reset Password"}),E.jsx("p",{className:"text-xs text-zinc-500",children:"Send a password reset email"})]})]})})}),E.jsx("div",{className:"p-1",children:E.jsxs("button",{onClick:u,className:"w-full flex items-center justify-center gap-2 p-3 text-red-400 hover:bg-red-500/10 rounded-lg transition-colors font-medium text-sm",children:[E.jsx(Vg,{size:16}),"Sign Out"]})})]})]})]})})}const h6="1.0.34",p6={version:h6};function m6({onFinish:t}){const[e,n]=k.useState(!1),[i,a]=k.useState(!1);return k.useEffect(()=>{setTimeout(()=>a(!0),100);const l=setTimeout(()=>{n(!0)},2200),u=setTimeout(()=>{t()},2800);return()=>{clearTimeout(l),clearTimeout(u)}},[t]),E.jsx("div",{className:Ye("fixed inset-0 z-[9999] bg-zinc-950 flex flex-col items-center justify-center transition-opacity duration-700",e?"opacity-0 pointer-events-none":"opacity-100"),children:E.jsxs("div",{className:Ye("relative transition-all duration-1000 ease-out transform flex flex-col items-center",i?"scale-100 opacity-100 translate-y-0":"scale-90 opacity-0 translate-y-10"),children:[E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute inset-0 bg-white/20 blur-2xl rounded-full scale-150 animate-pulse"}),E.jsx("img",{src:"./favicon_header.png",alt:"Hone",className:"w-24 h-24 relative z-10 drop-shadow-2xl"})]}),E.jsxs("div",{className:Ye("mt-8 flex items-baseline gap-2 transition-all duration-1000 delay-300",i?"opacity-100 translate-y-0":"opacity-0 translate-y-4"),children:[E.jsx("h1",{className:"text-3xl font-bold text-white tracking-[0.2em] uppercase pl-[0.2em]",children:"Hone"}),E.jsxs("span",{className:"text-[10px] text-zinc-600 font-mono",children:["v",p6.version]})]}),E.jsx("p",{className:Ye("mt-3 text-xs font-medium text-zinc-500 tracking-widest uppercase text-center transition-all duration-1000 delay-500 pl-[0.1em]",i?"opacity-100 translate-y-0":"opacity-0 translate-y-4"),children:"Sharpen your habits"})]})})}function g6({onComplete:t,onSignupSuccess:e}){const[n,i]=k.useState(!0),[a,l]=k.useState(""),[u,h]=k.useState(""),[p,g]=k.useState(""),[y,v]=k.useState(""),[T,S]=k.useState(""),[I,D]=k.useState(""),[V,U]=k.useState(!1),{login:B,googleLogin:K,resetPassword:G,sendOtp:$,verifyOtp:Z}=Bl(),[R,A]=k.useState(!1);k.useEffect(()=>{const ne=By();zy(ne,window.location.href)},[]);async function O(ne){if(ne.preventDefault(),!a)return S("Email is required");if(u.length<6)return S("Password should be at least 6 characters");if(u!==p)return S("Passwords do not match");try{S(""),U(!0),await $(a),A(!0),D("Verification code sent")}catch(de){console.error("Signup Error:",de),S(pl(de))}finally{U(!1)}}async function L(ne){if(ne.preventDefault(),y.length!==6)return S("Please enter the 6-digit code");try{if(S(""),U(!0),(await Z(a,y,u)).isNewUser&&e){e(),await B(a,u);return}await B(a,u),D("Email verified successfully!"),setTimeout(()=>{t&&t()},500)}catch(de){console.error("OTP Error:",de),S(pl(de))}finally{U(!1)}}async function P(ne){if(ne.preventDefault(),!a||!u)return S("Please enter email and password");try{S(""),U(!0),await B(a,u)}catch(de){console.error("Login Error:",de),S(pl(de))}finally{U(!1)}}async function M(){try{S(""),D(""),U(!0),await K()}catch(ne){S(pl(ne)),U(!1)}}async function N(){if(!a)return S("Please enter your email address to reset password");try{S(""),U(!0),await G(a),D("Password reset email sent! Check your inbox.")}catch(ne){S(pl(ne))}finally{U(!1)}}return E.jsx("div",{className:"fixed inset-0 bg-zinc-950 flex items-center justify-center p-4",children:E.jsxs("div",{className:"w-full max-w-md",children:[E.jsxs("div",{className:"flex flex-col items-center mb-8 animate-in fade-in zoom-in-95 duration-700",children:[E.jsxs("div",{className:"relative mb-4",children:[E.jsx("div",{className:"absolute inset-0 bg-white/10 blur-2xl rounded-full scale-150 animate-pulse"}),E.jsx("img",{src:"./favicon_header.png",alt:"Hone",className:"w-16 h-16 relative z-10 drop-shadow-2xl"})]}),E.jsx("h1",{className:"text-2xl font-bold text-white tracking-wide",children:R?"VERIFY EMAIL":"HONE"}),E.jsx("p",{className:"text-xs text-zinc-500 mt-1 tracking-wider uppercase",children:R?"Code sent to your inbox":"Sharpen your habits"})]}),E.jsx("div",{className:"surface p-6 rounded-lg animate-in fade-in slide-in-from-bottom-4 duration-500 delay-200",children:R?E.jsxs("form",{onSubmit:L,className:"space-y-6",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"inline-flex items-center justify-center p-3 rounded-full bg-zinc-900 border border-zinc-800 mb-4",children:E.jsx(Lg,{className:"w-6 h-6 text-zinc-400"})}),E.jsxs("p",{className:"text-zinc-400 text-sm",children:["We sent a 6-digit code to ",E.jsx("br",{}),E.jsx("span",{className:"text-white font-medium",children:a})]})]}),T&&E.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-500/10 border border-red-500/50 rounded text-red-400 text-sm",children:[E.jsx(jg,{className:"w-4 h-4 shrink-0"}),E.jsx("p",{children:T})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"otp",className:"sr-only",children:"Verification Code"}),E.jsx("input",{id:"otp",type:"text",maxLength:6,value:y,onChange:ne=>v(ne.target.value.replace(/\D/g,"")),className:"w-full px-4 py-4 bg-zinc-900 border border-zinc-800 rounded text-white text-center text-3xl tracking-[0.5em] placeholder-zinc-800 focus:outline-none focus:ring-2 focus:ring-white/20 transition-all font-mono shadow-inner",placeholder:"",autoFocus:!0,autoComplete:"one-time-code"}),E.jsx("p",{className:"text-center text-xs text-zinc-600 mt-2",children:"Enter the 6-digit code from the email"})]}),E.jsx("button",{type:"submit",disabled:V||y.length<6,className:Ye("w-full py-3 bg-white text-zinc-950 font-bold rounded uppercase tracking-wide text-sm flex items-center justify-center gap-2","hover:bg-zinc-200 active:scale-[0.98] transition-all","disabled:opacity-50 disabled:cursor-not-allowed"),children:V?E.jsxs(E.Fragment,{children:[E.jsx(SR,{className:"w-4 h-4 animate-spin"}),E.jsx("span",{children:"Verifying..."})]}):"Verify Email"}),E.jsxs("button",{type:"button",onClick:()=>{A(!1),S("")},className:"w-full flex items-center justify-center gap-2 text-zinc-500 text-xs hover:text-white transition-colors",children:[E.jsx(fT,{className:"w-3 h-3"}),"Change Email"]})]}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"flex gap-2 mb-6",children:[E.jsx("button",{type:"button",onClick:()=>{i(!0),S(""),D(""),g("")},className:Ye("flex-1 py-2 px-4 rounded font-medium transition-all text-sm uppercase tracking-wide",n?"bg-white text-zinc-950":"bg-zinc-800 text-zinc-400 hover:bg-zinc-700"),children:"Login"}),E.jsx("button",{type:"button",onClick:()=>{i(!1),S(""),D("")},className:Ye("flex-1 py-2 px-4 rounded font-medium transition-all text-sm uppercase tracking-wide",n?"bg-zinc-800 text-zinc-400 hover:bg-zinc-700":"bg-white text-zinc-950"),children:"Sign Up"})]}),E.jsxs("form",{onSubmit:n?P:O,className:"space-y-4",children:[T&&E.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-500/10 border border-red-500/50 rounded text-red-400 text-sm animate-in fade-in slide-in-from-top-2 duration-300",children:[E.jsx(jg,{className:"w-4 h-4 shrink-0"}),E.jsx("p",{children:T})]}),I&&!R&&E.jsxs("div",{className:"flex items-center gap-2 p-3 bg-emerald-500/10 border border-emerald-500/50 rounded text-emerald-400 text-sm animate-in fade-in slide-in-from-top-2 duration-300",children:[E.jsx(to,{className:"w-4 h-4 shrink-0"}),E.jsx("p",{children:I})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-zinc-400 mb-2",children:"Email"}),E.jsxs("div",{className:"relative",children:[E.jsx(Lg,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-600"}),E.jsx("input",{id:"email",type:"email",value:a,onChange:ne=>l(ne.target.value),disabled:V,className:"w-full pl-10 pr-4 py-2 bg-zinc-900 border border-zinc-800 rounded text-white placeholder-zinc-600 focus:outline-none focus:ring-2 focus:ring-white/20 transition-all disabled:opacity-50",placeholder:"you@example.com",autoComplete:"email"})]})]}),E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-center justify-between mb-2",children:[E.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-zinc-400",children:"Password"}),n&&E.jsx("button",{type:"button",onClick:N,disabled:V,className:"text-xs text-zinc-500 hover:text-zinc-300 transition-colors",children:"Forgot Password?"})]}),E.jsxs("div",{className:"relative",children:[E.jsx(zg,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-600"}),E.jsx("input",{id:"password",type:"password",value:u,onChange:ne=>h(ne.target.value),disabled:V,className:"w-full pl-10 pr-4 py-2 bg-zinc-900 border border-zinc-800 rounded text-white placeholder-zinc-600 focus:outline-none focus:ring-2 focus:ring-white/20 transition-all disabled:opacity-50",placeholder:"",autoComplete:n?"current-password":"new-password"})]})]}),!n&&E.jsxs("div",{children:[E.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-zinc-400 mb-2",children:"Confirm Password"}),E.jsxs("div",{className:"relative",children:[E.jsx(zg,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-600"}),E.jsx("input",{id:"confirmPassword",type:"password",value:p,onChange:ne=>g(ne.target.value),disabled:V,className:"w-full pl-10 pr-4 py-2 bg-zinc-900 border border-zinc-800 rounded text-white placeholder-zinc-600 focus:outline-none focus:ring-2 focus:ring-white/20 transition-all disabled:opacity-50",placeholder:"",autoComplete:"new-password"})]})]}),E.jsx("button",{type:"submit",disabled:V,className:Ye("w-full py-3 px-4 bg-white text-zinc-950 font-bold rounded uppercase tracking-wide text-sm mt-6","hover:bg-zinc-200 active:scale-[0.98] transition-all","disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-white disabled:active:scale-100","flex items-center justify-center gap-2"),children:V?E.jsxs(E.Fragment,{children:[E.jsx(to,{className:"w-4 h-4 animate-spin"}),E.jsx("span",{children:"Please wait..."})]}):E.jsx("span",{children:n?"Login":"Sign Up"})})]}),E.jsxs("div",{className:"relative my-6",children:[E.jsx("div",{className:"absolute inset-0 flex items-center",children:E.jsx("span",{className:"w-full border-t border-zinc-800"})}),E.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:E.jsx("span",{className:"bg-zinc-900 px-2 text-zinc-500",children:"Or continue with"})})]}),E.jsxs("button",{type:"button",onClick:M,disabled:V,className:"w-full flex items-center justify-center gap-3 py-2.5 px-4 bg-zinc-900 hover:bg-zinc-800 border border-zinc-800 rounded transition-colors text-white text-sm font-medium",children:[E.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[E.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),E.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),E.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),E.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google"]})]})}),E.jsx("p",{className:"text-center text-zinc-600 text-xs mt-6",children:R?"Having trouble? Contact use.hone.app@gmail.com":"Your data is securely stored with Firebase"})]})})}const y6=[{name:"My Calendar"}],v6=[{calendarId:"default",name:"Work",emoji:"",color:"#667eea"},{calendarId:"default",name:"Exercise",emoji:"",color:"#f5576c"},{calendarId:"default",name:"Reading",emoji:"",color:"#4facfe"},{calendarId:"default",name:"Code",emoji:"",color:"#00f2fe"}];function b6(){const{currentUser:t}=Bl(),[e,n]=k.useState([]),[i,a]=k.useState([]),[l,u]=k.useState({}),[h,p]=k.useState(""),[g,y]=k.useState([]),[v,T]=k.useState(!1);k.useEffect(()=>{if(!t)return;const M=t.uid,N=mg(Ja(Un,"calendars"),gg("userId","==",M)),ne=vg(N,async pe=>{const ve=pe.docs.map(j=>({id:j.id,...j.data()}));if(ve.length===0&&!v){const j=await Id(Ja(Un,"calendars"),{...y6[0],userId:M});p(j.id),T(!0)}else{if(n(ve),!h&&ve.length>0){const j=[...ve].sort((J,fe)=>(J.order??0)-(fe.order??0));p(j[0].id)}n(ve.sort((j,J)=>(j.order??0)-(J.order??0)))}}),de=mg(Ja(Un,"habits"),gg("userId","==",M)),q=vg(de,async pe=>{const ve=pe.docs.map(j=>({id:j.id,...j.data()}));if(ve.length===0&&!v&&e.length>0){for(const j of v6)await Id(Ja(Un,"habits"),{...j,userId:M,calendarId:e[0].id});T(!0)}else a(ve)}),re=mg(Ja(Un,"logs"),gg("userId","==",M)),he=vg(re,pe=>{const ve={};pe.docs.forEach(j=>{const J=j.data();ve[J.date]=J.habitIds||[]}),u(ve)});return()=>{ne(),q(),he()}},[t,v]);const S=k.useMemo(()=>i.filter(M=>M.calendarId===h).sort((M,N)=>(M.order??0)-(N.order??0)),[i,h]);k.useEffect(()=>{if(g.length>0){const M=g.filter(N=>i.find(ne=>ne.id===N)?.calendarId===h);M.length===0&&S.length>0?y([S[0].id]):M.length!==g.length&&y(M.length>0?M:S[0]?[S[0].id]:[])}else S.length>0&&y([S[0].id])},[h,S,i,g]);const I=async(M,N)=>{if(!t)return;const ne=Math.max(...e.map(re=>re.order??0),0),de={name:M,color:N,userId:t.uid,order:ne+1},q=await Id(Ja(Un,"calendars"),de);p(q.id)},D=async(M,N)=>{const ne=e.findIndex(q=>q.id===M),de=e.findIndex(q=>q.id===N);if(ne!==-1&&de!==-1){const q=[...e],[re]=q.splice(ne,1);q.splice(de,0,re),q.forEach((he,pe)=>{if(he.order!==pe+1){const ve=Di(Un,"calendars",he.id);Nd(ve,{order:pe+1})}})}},V=async(M,N,ne)=>{const de=Di(Un,"calendars",M);await Nd(de,{name:N,color:ne})},U=async M=>{if(e.length<=1)return;await yg(Di(Un,"calendars",M));const N=i.filter(ne=>ne.calendarId===M);for(const ne of N)await yg(Di(Un,"habits",ne.id));if(h===M){const ne=e.filter(de=>de.id!==M);p(ne[0]?.id||"")}},B=async(M,N,ne)=>{if(!t)return;const de=i.filter(pe=>pe.calendarId===h),q=Math.max(...de.map(pe=>pe.order??0),0),re={name:M,emoji:N||"",color:ne,calendarId:h,userId:t.uid,order:q+1},he=await Id(Ja(Un,"habits"),re);y([he.id])},K=async(M,N)=>{const ne=Di(Un,"habits",M);await Nd(ne,N)},G=async(M,N)=>{const ne=S.findIndex(q=>q.id===M),de=S.findIndex(q=>q.id===N);if(ne!==-1&&de!==-1){const q=[...S],[re]=q.splice(ne,1);q.splice(de,0,re),q.forEach((he,pe)=>{if(he.order!==pe+1){const ve=Di(Un,"habits",he.id);Nd(ve,{order:pe+1})}})}},$=async M=>{if(await yg(Di(Un,"habits",M)),g.includes(M)){const N=i.filter(ne=>ne.id!==M&&ne.calendarId===h);y(N.length>0?[N[0].id]:[])}},Z=async(M,N)=>{if(!t)return;const ne=Qt(M,"yyyy-MM-dd"),de=l[ne]||[],q=de.includes(N)?de.filter(he=>he!==N):[...de,N],re=Di(Un,"logs",`${t.uid}_${ne}`);await X1(re,{date:ne,habitIds:q,userId:t.uid},{merge:!0})},R=async(M,N)=>{if(!t||N.length===0)return;const ne=Qt(M,"yyyy-MM-dd"),de=l[ne]||[],q=N.some(pe=>!de.includes(pe));let re;if(q){const pe=N.filter(ve=>!de.includes(ve));re=[...de,...pe]}else re=de.filter(pe=>!N.includes(pe));const he=Di(Un,"logs",`${t.uid}_${ne}`);await X1(he,{date:ne,habitIds:re,userId:t.uid},{merge:!0})},A=(M,N)=>{const ne=Qt(M,"yyyy-MM-dd");return l[ne]?.includes(N)||!1},O=(M,N=!1)=>{y(ne=>{if(!N)return[M];if(ne.includes(M)){const de=ne.filter(q=>q!==M);return de.length===0?[M]:de}return[...ne,M]})},L=k.useCallback(M=>{const N=new Date;N.setHours(0,0,0,0);let ne=0,de=0,q=0,re=0,he=0,pe=0;if(M.length===1){const ve=M[0],j=Object.keys(l).filter(Ze=>l[Ze].includes(ve)).map(Ze=>{const[Ge,Jt,xt]=Ze.split("-").map(Number);return new Date(Ge,Jt-1,xt)}).sort((Ze,Ge)=>Ge.getTime()-Ze.getTime());ne=j.length;let J=new Date(N);for(let Ze=0;Ze<365;Ze++){const Ge=Qt(J,"yyyy-MM-dd");if(l[Ge]?.includes(ve))he++,J=xg(J,1);else break}if(j.length>0){let Ze=1;for(let Ge=1;Ge<j.length;Ge++)gy(j[Ge-1],j[Ge])===1?Ze++:(pe=Math.max(pe,Ze),Ze=1);pe=Math.max(pe,Ze)}const fe=Ta(N),me=by(N);de=sa({start:fe,end:me}).filter(Ze=>{const Ge=Qt(Ze,"yyyy-MM-dd");return l[Ge]?.includes(ve)}).length;const Se=vy(N),je=yy(N);q=sa({start:Se,end:je}).filter(Ze=>{const Ge=Qt(Ze,"yyyy-MM-dd");return l[Ge]?.includes(ve)}).length;const Me=sa({start:xg(N,29),end:N}),ke=Me.filter(Ze=>{const Ge=Qt(Ze,"yyyy-MM-dd");return l[Ge]?.includes(ve)}).length;re=Me.length>0?ke/Me.length*100:0}else M.forEach(ve=>{const j=Ta(N),J=by(N),fe=sa({start:j,end:J});de+=fe.filter(Me=>{const ke=Qt(Me,"yyyy-MM-dd");return l[ke]?.includes(ve)}).length;const me=vy(N),Ce=yy(N),Se=sa({start:me,end:Ce});q+=Se.filter(Me=>{const ke=Qt(Me,"yyyy-MM-dd");return l[ke]?.includes(ve)}).length;const je=sa({start:xg(N,29),end:N}),Qe=je.filter(Me=>{const ke=Qt(Me,"yyyy-MM-dd");return l[ke]?.includes(ve)}).length;re+=je.length>0?Qe/je.length*100:0}),M.length>0&&(re=re/M.length);return{totalDays:ne,currentStreak:he,longestStreak:pe,thisWeek:de,thisMonth:q,completionRate:Math.round(re)}},[l]),P=k.useMemo(()=>g.length===0?null:L(g),[g,L]);return{habitData:{habits:S,allHabits:i,logs:l},calendarData:{calendars:e,selectedCalendarId:h,addCalendar:I,editCalendar:V,deleteCalendar:U,reorderCalendars:D,selectCalendar:p},selection:{selectedHabitIds:g,selectedHabitStats:P,toggleHabitSelection:O},actions:{addHabit:B,editHabit:K,reorderHabits:G,deleteHabit:$,toggleHabitForDate:Z,toggleHabitsForDate:R,isHabitCompleted:A}}}function wA(t){return e=>typeof e===t}var _6=wA("function"),E6=t=>t===null,Aw=t=>Object.prototype.toString.call(t).slice(8,-1)==="RegExp",Cw=t=>!w6(t)&&!E6(t)&&(_6(t)||typeof t=="object"),w6=wA("undefined");function T6(t,e){const{length:n}=t;if(n!==e.length)return!1;for(let i=n;i--!==0;)if(!Jn(t[i],e[i]))return!1;return!0}function S6(t,e){if(t.byteLength!==e.byteLength)return!1;const n=new DataView(t.buffer),i=new DataView(e.buffer);let a=t.byteLength;for(;a--;)if(n.getUint8(a)!==i.getUint8(a))return!1;return!0}function x6(t,e){if(t.size!==e.size)return!1;for(const n of t.entries())if(!e.has(n[0]))return!1;for(const n of t.entries())if(!Jn(n[1],e.get(n[0])))return!1;return!0}function A6(t,e){if(t.size!==e.size)return!1;for(const n of t.entries())if(!e.has(n[0]))return!1;return!0}function Jn(t,e){if(t===e)return!0;if(t&&Cw(t)&&e&&Cw(e)){if(t.constructor!==e.constructor)return!1;if(Array.isArray(t)&&Array.isArray(e))return T6(t,e);if(t instanceof Map&&e instanceof Map)return x6(t,e);if(t instanceof Set&&e instanceof Set)return A6(t,e);if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return S6(t,e);if(Aw(t)&&Aw(e))return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(let a=n.length;a--!==0;)if(!Object.prototype.hasOwnProperty.call(e,n[a]))return!1;for(let a=n.length;a--!==0;){const l=n[a];if(!(l==="_owner"&&t.$$typeof)&&!Jn(t[l],e[l]))return!1}return!0}return Number.isNaN(t)&&Number.isNaN(e)?!0:t===e}var C6=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],R6=["bigint","boolean","null","number","string","symbol","undefined"];function Jh(t){const e=Object.prototype.toString.call(t).slice(8,-1);if(/HTML\w+Element/.test(e))return"HTMLElement";if(N6(e))return e}function ci(t){return e=>Jh(e)===t}function N6(t){return C6.includes(t)}function Gl(t){return e=>typeof e===t}function I6(t){return R6.includes(t)}var O6=["innerHTML","ownerDocument","style","attributes","nodeValue"];function _e(t){if(t===null)return"null";switch(typeof t){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(_e.array(t))return"Array";if(_e.plainFunction(t))return"Function";const e=Jh(t);return e||"Object"}_e.array=Array.isArray;_e.arrayOf=(t,e)=>!_e.array(t)&&!_e.function(e)?!1:t.every(n=>e(n));_e.asyncGeneratorFunction=t=>Jh(t)==="AsyncGeneratorFunction";_e.asyncFunction=ci("AsyncFunction");_e.bigint=Gl("bigint");_e.boolean=t=>t===!0||t===!1;_e.date=ci("Date");_e.defined=t=>!_e.undefined(t);_e.domElement=t=>_e.object(t)&&!_e.plainObject(t)&&t.nodeType===1&&_e.string(t.nodeName)&&O6.every(e=>e in t);_e.empty=t=>_e.string(t)&&t.length===0||_e.array(t)&&t.length===0||_e.object(t)&&!_e.map(t)&&!_e.set(t)&&Object.keys(t).length===0||_e.set(t)&&t.size===0||_e.map(t)&&t.size===0;_e.error=ci("Error");_e.function=Gl("function");_e.generator=t=>_e.iterable(t)&&_e.function(t.next)&&_e.function(t.throw);_e.generatorFunction=ci("GeneratorFunction");_e.instanceOf=(t,e)=>!t||!e?!1:Object.getPrototypeOf(t)===e.prototype;_e.iterable=t=>!_e.nullOrUndefined(t)&&_e.function(t[Symbol.iterator]);_e.map=ci("Map");_e.nan=t=>Number.isNaN(t);_e.null=t=>t===null;_e.nullOrUndefined=t=>_e.null(t)||_e.undefined(t);_e.number=t=>Gl("number")(t)&&!_e.nan(t);_e.numericString=t=>_e.string(t)&&t.length>0&&!Number.isNaN(Number(t));_e.object=t=>!_e.nullOrUndefined(t)&&(_e.function(t)||typeof t=="object");_e.oneOf=(t,e)=>_e.array(t)?t.indexOf(e)>-1:!1;_e.plainFunction=ci("Function");_e.plainObject=t=>{if(Jh(t)!=="Object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.getPrototypeOf({})};_e.primitive=t=>_e.null(t)||I6(typeof t);_e.promise=ci("Promise");_e.propertyOf=(t,e,n)=>{if(!_e.object(t)||!e)return!1;const i=t[e];return _e.function(n)?n(i):_e.defined(i)};_e.regexp=ci("RegExp");_e.set=ci("Set");_e.string=Gl("string");_e.symbol=Gl("symbol");_e.undefined=Gl("undefined");_e.weakMap=ci("WeakMap");_e.weakSet=ci("WeakSet");var Te=_e;function D6(...t){return t.every(e=>Te.string(e)||Te.array(e)||Te.plainObject(e))}function M6(t,e,n){return TA(t,e)?[t,e].every(Te.array)?!t.some(Dw(n))&&e.some(Dw(n)):[t,e].every(Te.plainObject)?!Object.entries(t).some(Ow(n))&&Object.entries(e).some(Ow(n)):e===n:!1}function Rw(t,e,n){const{actual:i,key:a,previous:l,type:u}=n,h=zi(t,a),p=zi(e,a);let g=[h,p].every(Te.number)&&(u==="increased"?h<p:h>p);return Te.undefined(i)||(g=g&&p===i),Te.undefined(l)||(g=g&&h===l),g}function Nw(t,e,n){const{key:i,type:a,value:l}=n,u=zi(t,i),h=zi(e,i),p=a==="added"?u:h,g=a==="added"?h:u;if(!Te.nullOrUndefined(l)){if(Te.defined(p)){if(Te.array(p)||Te.plainObject(p))return M6(p,g,l)}else return Jn(g,l);return!1}return[u,h].every(Te.array)?!g.every(Iv(p)):[u,h].every(Te.plainObject)?k6(Object.keys(p),Object.keys(g)):![u,h].every(y=>Te.primitive(y)&&Te.defined(y))&&(a==="added"?!Te.defined(u)&&Te.defined(h):Te.defined(u)&&!Te.defined(h))}function Iw(t,e,{key:n}={}){let i=zi(t,n),a=zi(e,n);if(!TA(i,a))throw new TypeError("Inputs have different types");if(!D6(i,a))throw new TypeError("Inputs don't have length");return[i,a].every(Te.plainObject)&&(i=Object.keys(i),a=Object.keys(a)),[i,a]}function Ow(t){return([e,n])=>Te.array(t)?Jn(t,n)||t.some(i=>Jn(i,n)||Te.array(n)&&Iv(n)(i)):Te.plainObject(t)&&t[e]?!!t[e]&&Jn(t[e],n):Jn(t,n)}function k6(t,e){return e.some(n=>!t.includes(n))}function Dw(t){return e=>Te.array(t)?t.some(n=>Jn(n,e)||Te.array(e)&&Iv(e)(n)):Jn(t,e)}function Qc(t,e){return Te.array(t)?t.some(n=>Jn(n,e)):Jn(t,e)}function Iv(t){return e=>t.some(n=>Jn(n,e))}function TA(...t){return t.every(Te.array)||t.every(Te.number)||t.every(Te.plainObject)||t.every(Te.string)}function zi(t,e){return Te.plainObject(t)||Te.array(t)?Te.string(e)?e.split(".").reduce((i,a)=>i&&i[a],t):Te.number(e)?t[e]:t:t}function _h(t,e){if([t,e].some(Te.nullOrUndefined))throw new Error("Missing required parameters");if(![t,e].every(y=>Te.plainObject(y)||Te.array(y)))throw new Error("Expected plain objects or array");return{added:(y,v)=>{try{return Nw(t,e,{key:y,type:"added",value:v})}catch{return!1}},changed:(y,v,T)=>{try{const S=zi(t,y),I=zi(e,y),D=Te.defined(v),V=Te.defined(T);if(D||V){const U=V?Qc(T,S):!Qc(v,S),B=Qc(v,I);return U&&B}return[S,I].every(Te.array)||[S,I].every(Te.plainObject)?!Jn(S,I):S!==I}catch{return!1}},changedFrom:(y,v,T)=>{if(!Te.defined(y))return!1;try{const S=zi(t,y),I=zi(e,y),D=Te.defined(T);return Qc(v,S)&&(D?Qc(T,I):!D)}catch{return!1}},decreased:(y,v,T)=>{if(!Te.defined(y))return!1;try{return Rw(t,e,{key:y,actual:v,previous:T,type:"decreased"})}catch{return!1}},emptied:y=>{try{const[v,T]=Iw(t,e,{key:y});return!!v.length&&!T.length}catch{return!1}},filled:y=>{try{const[v,T]=Iw(t,e,{key:y});return!v.length&&!!T.length}catch{return!1}},increased:(y,v,T)=>{if(!Te.defined(y))return!1;try{return Rw(t,e,{key:y,actual:v,previous:T,type:"increased"})}catch{return!1}},removed:(y,v)=>{try{return Nw(t,e,{key:y,type:"removed",value:v})}catch{return!1}}}}var Ag,Mw;function P6(){if(Mw)return Ag;Mw=1;var t=new Error("Element already at target scroll position"),e=new Error("Scroll cancelled"),n=Math.min,i=Date.now;Ag={left:a("scrollLeft"),top:a("scrollTop")};function a(h){return function(g,y,v,T){v=v||{},typeof v=="function"&&(T=v,v={}),typeof T!="function"&&(T=u);var S=i(),I=g[h],D=v.ease||l,V=isNaN(v.duration)?350:+v.duration,U=!1;return I===y?T(t,g[h]):requestAnimationFrame(K),B;function B(){U=!0}function K(G){if(U)return T(e,g[h]);var $=i(),Z=n(1,($-S)/V),R=D(Z);g[h]=R*(y-I)+I,Z<1?requestAnimationFrame(K):requestAnimationFrame(function(){T(null,g[h])})}}}function l(h){return .5*(1-Math.cos(Math.PI*h))}function u(){}return Ag}var j6=P6();const z6=mo(j6);var Yd={exports:{}},V6=Yd.exports,kw;function L6(){return kw||(kw=1,(function(t){(function(e,n){t.exports?t.exports=n():e.Scrollparent=n()})(V6,function(){function e(i){var a=getComputedStyle(i,null).getPropertyValue("overflow");return a.indexOf("scroll")>-1||a.indexOf("auto")>-1}function n(i){if(i instanceof HTMLElement||i instanceof SVGElement){for(var a=i.parentNode;a.parentNode;){if(e(a))return a;a=a.parentNode}return document.scrollingElement||document.documentElement}}return n})})(Yd)),Yd.exports}var U6=L6();const SA=mo(U6);var Cg,Pw;function B6(){if(Pw)return Cg;Pw=1;var t=function(i){return Object.prototype.hasOwnProperty.call(i,"props")},e=function(i,a){return i+n(a)},n=function(i){return i===null||typeof i=="boolean"||typeof i>"u"?"":typeof i=="number"?i.toString():typeof i=="string"?i:Array.isArray(i)?i.reduce(e,""):t(i)&&Object.prototype.hasOwnProperty.call(i.props,"children")?n(i.props.children):""};return n.default=n,Cg=n,Cg}var F6=B6();const jw=mo(F6);var Rg,zw;function q6(){if(zw)return Rg;zw=1;var t=function(B){return e(B)&&!n(B)};function e(U){return!!U&&typeof U=="object"}function n(U){var B=Object.prototype.toString.call(U);return B==="[object RegExp]"||B==="[object Date]"||l(U)}var i=typeof Symbol=="function"&&Symbol.for,a=i?Symbol.for("react.element"):60103;function l(U){return U.$$typeof===a}function u(U){return Array.isArray(U)?[]:{}}function h(U,B){return B.clone!==!1&&B.isMergeableObject(U)?D(u(U),U,B):U}function p(U,B,K){return U.concat(B).map(function(G){return h(G,K)})}function g(U,B){if(!B.customMerge)return D;var K=B.customMerge(U);return typeof K=="function"?K:D}function y(U){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(U).filter(function(B){return Object.propertyIsEnumerable.call(U,B)}):[]}function v(U){return Object.keys(U).concat(y(U))}function T(U,B){try{return B in U}catch{return!1}}function S(U,B){return T(U,B)&&!(Object.hasOwnProperty.call(U,B)&&Object.propertyIsEnumerable.call(U,B))}function I(U,B,K){var G={};return K.isMergeableObject(U)&&v(U).forEach(function($){G[$]=h(U[$],K)}),v(B).forEach(function($){S(U,$)||(T(U,$)&&K.isMergeableObject(B[$])?G[$]=g($,K)(U[$],B[$],K):G[$]=h(B[$],K))}),G}function D(U,B,K){K=K||{},K.arrayMerge=K.arrayMerge||p,K.isMergeableObject=K.isMergeableObject||t,K.cloneUnlessOtherwiseSpecified=h;var G=Array.isArray(B),$=Array.isArray(U),Z=G===$;return Z?G?K.arrayMerge(U,B,K):I(U,B,K):h(B,K)}D.all=function(B,K){if(!Array.isArray(B))throw new Error("first argument should be an array");return B.reduce(function(G,$){return D(G,$,K)},{})};var V=D;return Rg=V,Rg}var H6=q6();const ii=mo(H6);var Ng={exports:{}},Ig,Vw;function G6(){if(Vw)return Ig;Vw=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ig=t,Ig}var Og,Lw;function Y6(){if(Lw)return Og;Lw=1;var t=G6();function e(){}function n(){}return n.resetWarningCache=e,Og=function(){function i(u,h,p,g,y,v){if(v!==t){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}i.isRequired=i;function a(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:e};return l.PropTypes=l,l},Og}var Uw;function K6(){return Uw||(Uw=1,Ng.exports=Y6()()),Ng.exports}var W6=K6();const ge=mo(W6);var Wu=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",Q6=(function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(Wu&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0})();function $6(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}function X6(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},Q6))}}var J6=Wu&&window.Promise,Z6=J6?$6:X6;function xA(t){var e={};return t&&e.toString.call(t)==="[object Function]"}function vo(t,e){if(t.nodeType!==1)return[];var n=t.ownerDocument.defaultView,i=n.getComputedStyle(t,null);return e?i[e]:i}function Ov(t){return t.nodeName==="HTML"?t:t.parentNode||t.host}function Qu(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=vo(t),n=e.overflow,i=e.overflowX,a=e.overflowY;return/(auto|scroll|overlay)/.test(n+a+i)?t:Qu(Ov(t))}function AA(t){return t&&t.referenceNode?t.referenceNode:t}var Bw=Wu&&!!(window.MSInputMethodContext&&document.documentMode),Fw=Wu&&/MSIE 10/.test(navigator.userAgent);function Yl(t){return t===11?Bw:t===10?Fw:Bw||Fw}function Il(t){if(!t)return document.documentElement;for(var e=Yl(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var i=n&&n.nodeName;return!i||i==="BODY"||i==="HTML"?t?t.ownerDocument.documentElement:document.documentElement:["TH","TD","TABLE"].indexOf(n.nodeName)!==-1&&vo(n,"position")==="static"?Il(n):n}function e9(t){var e=t.nodeName;return e==="BODY"?!1:e==="HTML"||Il(t.firstElementChild)===t}function _y(t){return t.parentNode!==null?_y(t.parentNode):t}function Eh(t,e){if(!t||!t.nodeType||!e||!e.nodeType)return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?t:e,a=n?e:t,l=document.createRange();l.setStart(i,0),l.setEnd(a,0);var u=l.commonAncestorContainer;if(t!==u&&e!==u||i.contains(a))return e9(u)?u:Il(u);var h=_y(t);return h.host?Eh(h.host,e):Eh(t,_y(e).host)}function Ol(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top",n=e==="top"?"scrollTop":"scrollLeft",i=t.nodeName;if(i==="BODY"||i==="HTML"){var a=t.ownerDocument.documentElement,l=t.ownerDocument.scrollingElement||a;return l[n]}return t[n]}function t9(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=Ol(e,"top"),a=Ol(e,"left"),l=n?-1:1;return t.top+=i*l,t.bottom+=i*l,t.left+=a*l,t.right+=a*l,t}function qw(t,e){var n=e==="x"?"Left":"Top",i=n==="Left"?"Right":"Bottom";return parseFloat(t["border"+n+"Width"])+parseFloat(t["border"+i+"Width"])}function Hw(t,e,n,i){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],Yl(10)?parseInt(n["offset"+t])+parseInt(i["margin"+(t==="Height"?"Top":"Left")])+parseInt(i["margin"+(t==="Height"?"Bottom":"Right")]):0)}function CA(t){var e=t.body,n=t.documentElement,i=Yl(10)&&getComputedStyle(n);return{height:Hw("Height",e,n,i),width:Hw("Width",e,n,i)}}var n9=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},r9=(function(){function t(e,n){for(var i=0;i<n.length;i++){var a=n[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}})(),Dl=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},qr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function Sa(t){return qr({},t,{right:t.left+t.width,bottom:t.top+t.height})}function Ey(t){var e={};try{if(Yl(10)){e=t.getBoundingClientRect();var n=Ol(t,"top"),i=Ol(t,"left");e.top+=n,e.left+=i,e.bottom+=n,e.right+=i}else e=t.getBoundingClientRect()}catch{}var a={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},l=t.nodeName==="HTML"?CA(t.ownerDocument):{},u=l.width||t.clientWidth||a.width,h=l.height||t.clientHeight||a.height,p=t.offsetWidth-u,g=t.offsetHeight-h;if(p||g){var y=vo(t);p-=qw(y,"x"),g-=qw(y,"y"),a.width-=p,a.height-=g}return Sa(a)}function Dv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=Yl(10),a=e.nodeName==="HTML",l=Ey(t),u=Ey(e),h=Qu(t),p=vo(e),g=parseFloat(p.borderTopWidth),y=parseFloat(p.borderLeftWidth);n&&a&&(u.top=Math.max(u.top,0),u.left=Math.max(u.left,0));var v=Sa({top:l.top-u.top-g,left:l.left-u.left-y,width:l.width,height:l.height});if(v.marginTop=0,v.marginLeft=0,!i&&a){var T=parseFloat(p.marginTop),S=parseFloat(p.marginLeft);v.top-=g-T,v.bottom-=g-T,v.left-=y-S,v.right-=y-S,v.marginTop=T,v.marginLeft=S}return(i&&!n?e.contains(h):e===h&&h.nodeName!=="BODY")&&(v=t9(v,e)),v}function i9(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=t.ownerDocument.documentElement,i=Dv(t,n),a=Math.max(n.clientWidth,window.innerWidth||0),l=Math.max(n.clientHeight,window.innerHeight||0),u=e?0:Ol(n),h=e?0:Ol(n,"left"),p={top:u-i.top+i.marginTop,left:h-i.left+i.marginLeft,width:a,height:l};return Sa(p)}function RA(t){var e=t.nodeName;if(e==="BODY"||e==="HTML")return!1;if(vo(t,"position")==="fixed")return!0;var n=Ov(t);return n?RA(n):!1}function NA(t){if(!t||!t.parentElement||Yl())return document.documentElement;for(var e=t.parentElement;e&&vo(e,"transform")==="none";)e=e.parentElement;return e||document.documentElement}function Mv(t,e,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,l={top:0,left:0},u=a?NA(t):Eh(t,AA(e));if(i==="viewport")l=i9(u,a);else{var h=void 0;i==="scrollParent"?(h=Qu(Ov(e)),h.nodeName==="BODY"&&(h=t.ownerDocument.documentElement)):i==="window"?h=t.ownerDocument.documentElement:h=i;var p=Dv(h,u,a);if(h.nodeName==="HTML"&&!RA(u)){var g=CA(t.ownerDocument),y=g.height,v=g.width;l.top+=p.top-p.marginTop,l.bottom=y+p.top,l.left+=p.left-p.marginLeft,l.right=v+p.left}else l=p}n=n||0;var T=typeof n=="number";return l.left+=T?n:n.left||0,l.top+=T?n:n.top||0,l.right-=T?n:n.right||0,l.bottom-=T?n:n.bottom||0,l}function s9(t){var e=t.width,n=t.height;return e*n}function IA(t,e,n,i,a){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(t.indexOf("auto")===-1)return t;var u=Mv(n,i,l,a),h={top:{width:u.width,height:e.top-u.top},right:{width:u.right-e.right,height:u.height},bottom:{width:u.width,height:u.bottom-e.bottom},left:{width:e.left-u.left,height:u.height}},p=Object.keys(h).map(function(T){return qr({key:T},h[T],{area:s9(h[T])})}).sort(function(T,S){return S.area-T.area}),g=p.filter(function(T){var S=T.width,I=T.height;return S>=n.clientWidth&&I>=n.clientHeight}),y=g.length>0?g[0].key:p[0].key,v=t.split("-")[1];return y+(v?"-"+v:"")}function OA(t,e,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=i?NA(e):Eh(e,AA(n));return Dv(n,a,i)}function DA(t){var e=t.ownerDocument.defaultView,n=e.getComputedStyle(t),i=parseFloat(n.marginTop||0)+parseFloat(n.marginBottom||0),a=parseFloat(n.marginLeft||0)+parseFloat(n.marginRight||0),l={width:t.offsetWidth+a,height:t.offsetHeight+i};return l}function wh(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(n){return e[n]})}function MA(t,e,n){n=n.split("-")[0];var i=DA(t),a={width:i.width,height:i.height},l=["right","left"].indexOf(n)!==-1,u=l?"top":"left",h=l?"left":"top",p=l?"height":"width",g=l?"width":"height";return a[u]=e[u]+e[p]/2-i[p]/2,n===h?a[h]=e[h]-i[g]:a[h]=e[wh(h)],a}function $u(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function a9(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(a){return a[e]===n});var i=$u(t,function(a){return a[e]===n});return t.indexOf(i)}function kA(t,e,n){var i=n===void 0?t:t.slice(0,a9(t,"name",n));return i.forEach(function(a){a.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var l=a.function||a.fn;a.enabled&&xA(l)&&(e.offsets.popper=Sa(e.offsets.popper),e.offsets.reference=Sa(e.offsets.reference),e=l(e,a))}),e}function o9(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=OA(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=IA(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=MA(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=kA(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function PA(t,e){return t.some(function(n){var i=n.name,a=n.enabled;return a&&i===e})}function kv(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<e.length;i++){var a=e[i],l=a?""+a+n:t;if(typeof document.body.style[l]<"u")return l}return null}function l9(){return this.state.isDestroyed=!0,PA(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[kv("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function jA(t){var e=t.ownerDocument;return e?e.defaultView:window}function zA(t,e,n,i){var a=t.nodeName==="BODY",l=a?t.ownerDocument.defaultView:t;l.addEventListener(e,n,{passive:!0}),a||zA(Qu(l.parentNode),e,n,i),i.push(l)}function c9(t,e,n,i){n.updateBound=i,jA(t).addEventListener("resize",n.updateBound,{passive:!0});var a=Qu(t);return zA(a,"scroll",n.updateBound,n.scrollParents),n.scrollElement=a,n.eventsEnabled=!0,n}function u9(){this.state.eventsEnabled||(this.state=c9(this.reference,this.options,this.state,this.scheduleUpdate))}function f9(t,e){return jA(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(n){n.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}function d9(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=f9(this.reference,this.state))}function Pv(t){return t!==""&&!isNaN(parseFloat(t))&&isFinite(t)}function wy(t,e){Object.keys(e).forEach(function(n){var i="";["width","height","top","right","bottom","left"].indexOf(n)!==-1&&Pv(e[n])&&(i="px"),t.style[n]=e[n]+i})}function h9(t,e){Object.keys(e).forEach(function(n){var i=e[n];i!==!1?t.setAttribute(n,e[n]):t.removeAttribute(n)})}function p9(t){return wy(t.instance.popper,t.styles),h9(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&wy(t.arrowElement,t.arrowStyles),t}function m9(t,e,n,i,a){var l=OA(a,e,t,n.positionFixed),u=IA(n.placement,l,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",u),wy(e,{position:n.positionFixed?"fixed":"absolute"}),n}function g9(t,e){var n=t.offsets,i=n.popper,a=n.reference,l=Math.round,u=Math.floor,h=function(U){return U},p=l(a.width),g=l(i.width),y=["left","right"].indexOf(t.placement)!==-1,v=t.placement.indexOf("-")!==-1,T=p%2===g%2,S=p%2===1&&g%2===1,I=e?y||v||T?l:u:h,D=e?l:h;return{left:I(S&&!v&&e?i.left-1:i.left),top:D(i.top),bottom:D(i.bottom),right:I(i.right)}}var y9=Wu&&/Firefox/i.test(navigator.userAgent);function v9(t,e){var n=e.x,i=e.y,a=t.offsets.popper,l=$u(t.instance.modifiers,function(K){return K.name==="applyStyle"}).gpuAcceleration;l!==void 0&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var u=l!==void 0?l:e.gpuAcceleration,h=Il(t.instance.popper),p=Ey(h),g={position:a.position},y=g9(t,window.devicePixelRatio<2||!y9),v=n==="bottom"?"top":"bottom",T=i==="right"?"left":"right",S=kv("transform"),I=void 0,D=void 0;if(v==="bottom"?h.nodeName==="HTML"?D=-h.clientHeight+y.bottom:D=-p.height+y.bottom:D=y.top,T==="right"?h.nodeName==="HTML"?I=-h.clientWidth+y.right:I=-p.width+y.right:I=y.left,u&&S)g[S]="translate3d("+I+"px, "+D+"px, 0)",g[v]=0,g[T]=0,g.willChange="transform";else{var V=v==="bottom"?-1:1,U=T==="right"?-1:1;g[v]=D*V,g[T]=I*U,g.willChange=v+", "+T}var B={"x-placement":t.placement};return t.attributes=qr({},B,t.attributes),t.styles=qr({},g,t.styles),t.arrowStyles=qr({},t.offsets.arrow,t.arrowStyles),t}function VA(t,e,n){var i=$u(t,function(h){var p=h.name;return p===e}),a=!!i&&t.some(function(h){return h.name===n&&h.enabled&&h.order<i.order});if(!a){var l="`"+e+"`",u="`"+n+"`";console.warn(u+" modifier is required by "+l+" modifier in order to work, be sure to include it before "+l+"!")}return a}function b9(t,e){var n;if(!VA(t.instance.modifiers,"arrow","keepTogether"))return t;var i=e.element;if(typeof i=="string"){if(i=t.instance.popper.querySelector(i),!i)return t}else if(!t.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var a=t.placement.split("-")[0],l=t.offsets,u=l.popper,h=l.reference,p=["left","right"].indexOf(a)!==-1,g=p?"height":"width",y=p?"Top":"Left",v=y.toLowerCase(),T=p?"left":"top",S=p?"bottom":"right",I=DA(i)[g];h[S]-I<u[v]&&(t.offsets.popper[v]-=u[v]-(h[S]-I)),h[v]+I>u[S]&&(t.offsets.popper[v]+=h[v]+I-u[S]),t.offsets.popper=Sa(t.offsets.popper);var D=h[v]+h[g]/2-I/2,V=vo(t.instance.popper),U=parseFloat(V["margin"+y]),B=parseFloat(V["border"+y+"Width"]),K=D-t.offsets.popper[v]-U-B;return K=Math.max(Math.min(u[g]-I,K),0),t.arrowElement=i,t.offsets.arrow=(n={},Dl(n,v,Math.round(K)),Dl(n,T,""),n),t}function _9(t){return t==="end"?"start":t==="start"?"end":t}var LA=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Dg=LA.slice(3);function Gw(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=Dg.indexOf(t),i=Dg.slice(n+1).concat(Dg.slice(0,n));return e?i.reverse():i}var Mg={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function E9(t,e){if(PA(t.instance.modifiers,"inner")||t.flipped&&t.placement===t.originalPlacement)return t;var n=Mv(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),i=t.placement.split("-")[0],a=wh(i),l=t.placement.split("-")[1]||"",u=[];switch(e.behavior){case Mg.FLIP:u=[i,a];break;case Mg.CLOCKWISE:u=Gw(i);break;case Mg.COUNTERCLOCKWISE:u=Gw(i,!0);break;default:u=e.behavior}return u.forEach(function(h,p){if(i!==h||u.length===p+1)return t;i=t.placement.split("-")[0],a=wh(i);var g=t.offsets.popper,y=t.offsets.reference,v=Math.floor,T=i==="left"&&v(g.right)>v(y.left)||i==="right"&&v(g.left)<v(y.right)||i==="top"&&v(g.bottom)>v(y.top)||i==="bottom"&&v(g.top)<v(y.bottom),S=v(g.left)<v(n.left),I=v(g.right)>v(n.right),D=v(g.top)<v(n.top),V=v(g.bottom)>v(n.bottom),U=i==="left"&&S||i==="right"&&I||i==="top"&&D||i==="bottom"&&V,B=["top","bottom"].indexOf(i)!==-1,K=!!e.flipVariations&&(B&&l==="start"&&S||B&&l==="end"&&I||!B&&l==="start"&&D||!B&&l==="end"&&V),G=!!e.flipVariationsByContent&&(B&&l==="start"&&I||B&&l==="end"&&S||!B&&l==="start"&&V||!B&&l==="end"&&D),$=K||G;(T||U||$)&&(t.flipped=!0,(T||U)&&(i=u[p+1]),$&&(l=_9(l)),t.placement=i+(l?"-"+l:""),t.offsets.popper=qr({},t.offsets.popper,MA(t.instance.popper,t.offsets.reference,t.placement)),t=kA(t.instance.modifiers,t,"flip"))}),t}function w9(t){var e=t.offsets,n=e.popper,i=e.reference,a=t.placement.split("-")[0],l=Math.floor,u=["top","bottom"].indexOf(a)!==-1,h=u?"right":"bottom",p=u?"left":"top",g=u?"width":"height";return n[h]<l(i[p])&&(t.offsets.popper[p]=l(i[p])-n[g]),n[p]>l(i[h])&&(t.offsets.popper[p]=l(i[h])),t}function T9(t,e,n,i){var a=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),l=+a[1],u=a[2];if(!l)return t;if(u.indexOf("%")===0){var h=void 0;u==="%p"?h=n:h=i;var p=Sa(h);return p[e]/100*l}else if(u==="vh"||u==="vw"){var g=void 0;return u==="vh"?g=Math.max(document.documentElement.clientHeight,window.innerHeight||0):g=Math.max(document.documentElement.clientWidth,window.innerWidth||0),g/100*l}else return l}function S9(t,e,n,i){var a=[0,0],l=["right","left"].indexOf(i)!==-1,u=t.split(/(\+|\-)/).map(function(y){return y.trim()}),h=u.indexOf($u(u,function(y){return y.search(/,|\s/)!==-1}));u[h]&&u[h].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var p=/\s*,\s*|\s+/,g=h!==-1?[u.slice(0,h).concat([u[h].split(p)[0]]),[u[h].split(p)[1]].concat(u.slice(h+1))]:[u];return g=g.map(function(y,v){var T=(v===1?!l:l)?"height":"width",S=!1;return y.reduce(function(I,D){return I[I.length-1]===""&&["+","-"].indexOf(D)!==-1?(I[I.length-1]=D,S=!0,I):S?(I[I.length-1]+=D,S=!1,I):I.concat(D)},[]).map(function(I){return T9(I,T,e,n)})}),g.forEach(function(y,v){y.forEach(function(T,S){Pv(T)&&(a[v]+=T*(y[S-1]==="-"?-1:1))})}),a}function x9(t,e){var n=e.offset,i=t.placement,a=t.offsets,l=a.popper,u=a.reference,h=i.split("-")[0],p=void 0;return Pv(+n)?p=[+n,0]:p=S9(n,l,u,h),h==="left"?(l.top+=p[0],l.left-=p[1]):h==="right"?(l.top+=p[0],l.left+=p[1]):h==="top"?(l.left+=p[0],l.top-=p[1]):h==="bottom"&&(l.left+=p[0],l.top+=p[1]),t.popper=l,t}function A9(t,e){var n=e.boundariesElement||Il(t.instance.popper);t.instance.reference===n&&(n=Il(n));var i=kv("transform"),a=t.instance.popper.style,l=a.top,u=a.left,h=a[i];a.top="",a.left="",a[i]="";var p=Mv(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);a.top=l,a.left=u,a[i]=h,e.boundaries=p;var g=e.priority,y=t.offsets.popper,v={primary:function(S){var I=y[S];return y[S]<p[S]&&!e.escapeWithReference&&(I=Math.max(y[S],p[S])),Dl({},S,I)},secondary:function(S){var I=S==="right"?"left":"top",D=y[I];return y[S]>p[S]&&!e.escapeWithReference&&(D=Math.min(y[I],p[S]-(S==="right"?y.width:y.height))),Dl({},I,D)}};return g.forEach(function(T){var S=["left","top"].indexOf(T)!==-1?"primary":"secondary";y=qr({},y,v[S](T))}),t.offsets.popper=y,t}function C9(t){var e=t.placement,n=e.split("-")[0],i=e.split("-")[1];if(i){var a=t.offsets,l=a.reference,u=a.popper,h=["bottom","top"].indexOf(n)!==-1,p=h?"left":"top",g=h?"width":"height",y={start:Dl({},p,l[p]),end:Dl({},p,l[p]+l[g]-u[g])};t.offsets.popper=qr({},u,y[i])}return t}function R9(t){if(!VA(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=$u(t.instance.modifiers,function(i){return i.name==="preventOverflow"}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(t.hide===!0)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(t.hide===!1)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}function N9(t){var e=t.placement,n=e.split("-")[0],i=t.offsets,a=i.popper,l=i.reference,u=["left","right"].indexOf(n)!==-1,h=["top","left"].indexOf(n)===-1;return a[u?"left":"top"]=l[n]-(h?a[u?"width":"height"]:0),t.placement=wh(e),t.offsets.popper=Sa(a),t}var I9={shift:{order:100,enabled:!0,fn:C9},offset:{order:200,enabled:!0,fn:x9,offset:0},preventOverflow:{order:300,enabled:!0,fn:A9,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:w9},arrow:{order:500,enabled:!0,fn:b9,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:E9,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:N9},hide:{order:800,enabled:!0,fn:R9},computeStyle:{order:850,enabled:!0,fn:v9,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:p9,onLoad:m9,gpuAcceleration:void 0}},O9={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:I9},Ru=(function(){function t(e,n){var i=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};n9(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=Z6(this.update.bind(this)),this.options=qr({},t.Defaults,a),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(qr({},t.Defaults.modifiers,a.modifiers)).forEach(function(u){i.options.modifiers[u]=qr({},t.Defaults.modifiers[u]||{},a.modifiers?a.modifiers[u]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(u){return qr({name:u},i.options.modifiers[u])}).sort(function(u,h){return u.order-h.order}),this.modifiers.forEach(function(u){u.enabled&&xA(u.onLoad)&&u.onLoad(i.reference,i.popper,i.options,u,i.state)}),this.update();var l=this.options.eventsEnabled;l&&this.enableEventListeners(),this.state.eventsEnabled=l}return r9(t,[{key:"update",value:function(){return o9.call(this)}},{key:"destroy",value:function(){return l9.call(this)}},{key:"enableEventListeners",value:function(){return u9.call(this)}},{key:"disableEventListeners",value:function(){return d9.call(this)}}]),t})();Ru.Utils=(typeof window<"u"?window:global).PopperUtils;Ru.placements=LA;Ru.Defaults=O9;var D9=["innerHTML","ownerDocument","style","attributes","nodeValue"],M9=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],k9=["bigint","boolean","null","number","string","symbol","undefined"];function Zh(t){var e=Object.prototype.toString.call(t).slice(8,-1);if(/HTML\w+Element/.test(e))return"HTMLElement";if(P9(e))return e}function ui(t){return function(e){return Zh(e)===t}}function P9(t){return M9.includes(t)}function Kl(t){return function(e){return typeof e===t}}function j9(t){return k9.includes(t)}function se(t){if(t===null)return"null";switch(typeof t){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(se.array(t))return"Array";if(se.plainFunction(t))return"Function";var e=Zh(t);return e||"Object"}se.array=Array.isArray;se.arrayOf=function(t,e){return!se.array(t)&&!se.function(e)?!1:t.every(function(n){return e(n)})};se.asyncGeneratorFunction=function(t){return Zh(t)==="AsyncGeneratorFunction"};se.asyncFunction=ui("AsyncFunction");se.bigint=Kl("bigint");se.boolean=function(t){return t===!0||t===!1};se.date=ui("Date");se.defined=function(t){return!se.undefined(t)};se.domElement=function(t){return se.object(t)&&!se.plainObject(t)&&t.nodeType===1&&se.string(t.nodeName)&&D9.every(function(e){return e in t})};se.empty=function(t){return se.string(t)&&t.length===0||se.array(t)&&t.length===0||se.object(t)&&!se.map(t)&&!se.set(t)&&Object.keys(t).length===0||se.set(t)&&t.size===0||se.map(t)&&t.size===0};se.error=ui("Error");se.function=Kl("function");se.generator=function(t){return se.iterable(t)&&se.function(t.next)&&se.function(t.throw)};se.generatorFunction=ui("GeneratorFunction");se.instanceOf=function(t,e){return!t||!e?!1:Object.getPrototypeOf(t)===e.prototype};se.iterable=function(t){return!se.nullOrUndefined(t)&&se.function(t[Symbol.iterator])};se.map=ui("Map");se.nan=function(t){return Number.isNaN(t)};se.null=function(t){return t===null};se.nullOrUndefined=function(t){return se.null(t)||se.undefined(t)};se.number=function(t){return Kl("number")(t)&&!se.nan(t)};se.numericString=function(t){return se.string(t)&&t.length>0&&!Number.isNaN(Number(t))};se.object=function(t){return!se.nullOrUndefined(t)&&(se.function(t)||typeof t=="object")};se.oneOf=function(t,e){return se.array(t)?t.indexOf(e)>-1:!1};se.plainFunction=ui("Function");se.plainObject=function(t){if(Zh(t)!=="Object")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.getPrototypeOf({})};se.primitive=function(t){return se.null(t)||j9(typeof t)};se.promise=ui("Promise");se.propertyOf=function(t,e,n){if(!se.object(t)||!e)return!1;var i=t[e];return se.function(n)?n(i):se.defined(i)};se.regexp=ui("RegExp");se.set=ui("Set");se.string=Kl("string");se.symbol=Kl("symbol");se.undefined=Kl("undefined");se.weakMap=ui("WeakMap");se.weakSet=ui("WeakSet");function UA(t){return function(e){return typeof e===t}}var z9=UA("function"),V9=function(t){return t===null},Yw=function(t){return Object.prototype.toString.call(t).slice(8,-1)==="RegExp"},Kw=function(t){return!L9(t)&&!V9(t)&&(z9(t)||typeof t=="object")},L9=UA("undefined"),Ty=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function U9(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=n;i--!==0;)if(!dr(t[i],e[i]))return!1;return!0}function B9(t,e){if(t.byteLength!==e.byteLength)return!1;for(var n=new DataView(t.buffer),i=new DataView(e.buffer),a=t.byteLength;a--;)if(n.getUint8(a)!==i.getUint8(a))return!1;return!0}function F9(t,e){var n,i,a,l;if(t.size!==e.size)return!1;try{for(var u=Ty(t.entries()),h=u.next();!h.done;h=u.next()){var p=h.value;if(!e.has(p[0]))return!1}}catch(v){n={error:v}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}try{for(var g=Ty(t.entries()),y=g.next();!y.done;y=g.next()){var p=y.value;if(!dr(p[1],e.get(p[0])))return!1}}catch(v){a={error:v}}finally{try{y&&!y.done&&(l=g.return)&&l.call(g)}finally{if(a)throw a.error}}return!0}function q9(t,e){var n,i;if(t.size!==e.size)return!1;try{for(var a=Ty(t.entries()),l=a.next();!l.done;l=a.next()){var u=l.value;if(!e.has(u[0]))return!1}}catch(h){n={error:h}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return!0}function dr(t,e){if(t===e)return!0;if(t&&Kw(t)&&e&&Kw(e)){if(t.constructor!==e.constructor)return!1;if(Array.isArray(t)&&Array.isArray(e))return U9(t,e);if(t instanceof Map&&e instanceof Map)return F9(t,e);if(t instanceof Set&&e instanceof Set)return q9(t,e);if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return B9(t,e);if(Yw(t)&&Yw(e))return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(var a=n.length;a--!==0;)if(!Object.prototype.hasOwnProperty.call(e,n[a]))return!1;for(var a=n.length;a--!==0;){var l=n[a];if(!(l==="_owner"&&t.$$typeof)&&!dr(t[l],e[l]))return!1}return!0}return Number.isNaN(t)&&Number.isNaN(e)?!0:t===e}function H9(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.every(function(n){return se.string(n)||se.array(n)||se.plainObject(n)})}function G9(t,e,n){return BA(t,e)?[t,e].every(se.array)?!t.some(Jw(n))&&e.some(Jw(n)):[t,e].every(se.plainObject)?!Object.entries(t).some(Xw(n))&&Object.entries(e).some(Xw(n)):e===n:!1}function Ww(t,e,n){var i=n.actual,a=n.key,l=n.previous,u=n.type,h=Vi(t,a),p=Vi(e,a),g=[h,p].every(se.number)&&(u==="increased"?h<p:h>p);return se.undefined(i)||(g=g&&p===i),se.undefined(l)||(g=g&&h===l),g}function Qw(t,e,n){var i=n.key,a=n.type,l=n.value,u=Vi(t,i),h=Vi(e,i),p=a==="added"?u:h,g=a==="added"?h:u;if(!se.nullOrUndefined(l)){if(se.defined(p)){if(se.array(p)||se.plainObject(p))return G9(p,g,l)}else return dr(g,l);return!1}return[u,h].every(se.array)?!g.every(jv(p)):[u,h].every(se.plainObject)?Y9(Object.keys(p),Object.keys(g)):![u,h].every(function(y){return se.primitive(y)&&se.defined(y)})&&(a==="added"?!se.defined(u)&&se.defined(h):se.defined(u)&&!se.defined(h))}function $w(t,e,n){var i=n===void 0?{}:n,a=i.key,l=Vi(t,a),u=Vi(e,a);if(!BA(l,u))throw new TypeError("Inputs have different types");if(!H9(l,u))throw new TypeError("Inputs don't have length");return[l,u].every(se.plainObject)&&(l=Object.keys(l),u=Object.keys(u)),[l,u]}function Xw(t){return function(e){var n=e[0],i=e[1];return se.array(t)?dr(t,i)||t.some(function(a){return dr(a,i)||se.array(i)&&jv(i)(a)}):se.plainObject(t)&&t[n]?!!t[n]&&dr(t[n],i):dr(t,i)}}function Y9(t,e){return e.some(function(n){return!t.includes(n)})}function Jw(t){return function(e){return se.array(t)?t.some(function(n){return dr(n,e)||se.array(e)&&jv(e)(n)}):dr(t,e)}}function $c(t,e){return se.array(t)?t.some(function(n){return dr(n,e)}):dr(t,e)}function jv(t){return function(e){return t.some(function(n){return dr(n,e)})}}function BA(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.every(se.array)||t.every(se.number)||t.every(se.plainObject)||t.every(se.string)}function Vi(t,e){if(se.plainObject(t)||se.array(t)){if(se.string(e)){var n=e.split(".");return n.reduce(function(i,a){return i&&i[a]},t)}return se.number(e)?t[e]:t}return t}function K9(t,e){if([t,e].some(se.nullOrUndefined))throw new Error("Missing required parameters");if(![t,e].every(function(v){return se.plainObject(v)||se.array(v)}))throw new Error("Expected plain objects or array");var n=function(v,T){try{return Qw(t,e,{key:v,type:"added",value:T})}catch{return!1}},i=function(v,T,S){try{var I=Vi(t,v),D=Vi(e,v),V=se.defined(T),U=se.defined(S);if(V||U){var B=U?$c(S,I):!$c(T,I),K=$c(T,D);return B&&K}return[I,D].every(se.array)||[I,D].every(se.plainObject)?!dr(I,D):I!==D}catch{return!1}},a=function(v,T,S){if(!se.defined(v))return!1;try{var I=Vi(t,v),D=Vi(e,v),V=se.defined(S);return $c(T,I)&&(V?$c(S,D):!V)}catch{return!1}},l=function(v,T){return se.defined(v)?i(v,T):!1},u=function(v,T,S){if(!se.defined(v))return!1;try{return Ww(t,e,{key:v,actual:T,previous:S,type:"decreased"})}catch{return!1}},h=function(v){try{var T=$w(t,e,{key:v}),S=T[0],I=T[1];return!!S.length&&!I.length}catch{return!1}},p=function(v){try{var T=$w(t,e,{key:v}),S=T[0],I=T[1];return!S.length&&!!I.length}catch{return!1}},g=function(v,T,S){if(!se.defined(v))return!1;try{return Ww(t,e,{key:v,actual:T,previous:S,type:"increased"})}catch{return!1}},y=function(v,T){try{return Qw(t,e,{key:v,type:"removed",value:T})}catch{return!1}};return{added:n,changed:i,changedFrom:a,changedTo:l,decreased:u,emptied:h,filled:p,increased:g,removed:y}}function Zw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function Lt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zw(Object(n),!0).forEach(function(i){Fn(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zw(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Xu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W9(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,qA(i.key),i)}}function Ju(t,e,n){return e&&W9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fn(t,e,n){return e=qA(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sy(t,e)}function Th(t){return Th=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Th(t)}function Sy(t,e){return Sy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,a){return i.__proto__=a,i},Sy(t,e)}function Q9(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $9(t,e){if(t==null)return{};var n={},i=Object.keys(t),a,l;for(l=0;l<i.length;l++)a=i[l],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function FA(t,e){if(t==null)return{};var n=$9(t,e),i,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)i=l[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function ms(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X9(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ms(t)}function ef(t){var e=Q9();return function(){var i=Th(t),a;if(e){var l=Th(this).constructor;a=Reflect.construct(i,arguments,l)}else a=i.apply(this,arguments);return X9(this,a)}}function J9(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qA(t){var e=J9(t,"string");return typeof e=="symbol"?e:String(e)}var Z9={flip:{padding:20},preventOverflow:{padding:10}},ej="The typeValidator argument must be a function with the signature function(props, propName, componentName).",tj="The error message is optional, but must be a string if provided.";function nj(t,e,n,i){return typeof t=="boolean"?t:typeof t=="function"?t(e,n,i):t?!!t:!1}function rj(t,e){return Object.hasOwnProperty.call(t,e)}function ij(t,e,n,i){return new Error("Required ".concat(t[e]," `").concat(e,"` was not specified in `").concat(n,"`."))}function sj(t,e){if(typeof t!="function")throw new TypeError(ej);if(e&&typeof e!="string")throw new TypeError(tj)}function eT(t,e,n){return sj(t,n),function(i,a,l){for(var u=arguments.length,h=new Array(u>3?u-3:0),p=3;p<u;p++)h[p-3]=arguments[p];return nj(e,i,a,l)?rj(i,a)?t.apply(void 0,[i,a,l].concat(h)):ij(i,a,l):t.apply(void 0,[i,a,l].concat(h))}}var lt={INIT:"init",IDLE:"idle",OPENING:"opening",OPEN:"open",CLOSING:"closing"},Xc=Hd.createPortal!==void 0;function ki(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function kg(){return"ontouchstart"in window&&/Mobi/.test(navigator.userAgent)}function Md(t){var e=t.title,n=t.data,i=t.warn,a=i===void 0?!1:i,l=t.debug,u=l===void 0?!1:l,h=a?console.warn||console.error:console.log;u&&e&&n&&(console.groupCollapsed("%creact-floater: ".concat(e),"color: #9b00ff; font-weight: bold; font-size: 12px;"),Array.isArray(n)?n.forEach(function(p){se.plainObject(p)&&p.key?h.apply(console,[p.key,p.value]):h.apply(console,[p])}):h.apply(console,[n]),console.groupEnd())}function aj(t,e,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;t.addEventListener(e,n,i)}function oj(t,e,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;t.removeEventListener(e,n,i)}function lj(t,e,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a;a=function(u){n(u),oj(t,e,a)},aj(t,e,a,i)}function tT(){}var HA=(function(t){Zu(n,t);var e=ef(n);function n(){return Xu(this,n),e.apply(this,arguments)}return Ju(n,[{key:"componentDidMount",value:function(){ki()&&(this.node||this.appendNode(),Xc||this.renderPortal())}},{key:"componentDidUpdate",value:function(){ki()&&(Xc||this.renderPortal())}},{key:"componentWillUnmount",value:function(){!ki()||!this.node||(Xc||Hd.unmountComponentAtNode(this.node),this.node&&this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=void 0))}},{key:"appendNode",value:function(){var a=this.props,l=a.id,u=a.zIndex;this.node||(this.node=document.createElement("div"),l&&(this.node.id=l),u&&(this.node.style.zIndex=u),document.body.appendChild(this.node))}},{key:"renderPortal",value:function(){if(!ki())return null;var a=this.props,l=a.children,u=a.setRef;if(this.node||this.appendNode(),Xc)return Hd.createPortal(l,this.node);var h=Hd.unstable_renderSubtreeIntoContainer(this,l.length>1?Ne.createElement("div",null,l):l[0],this.node);return u(h),null}},{key:"renderReact16",value:function(){var a=this.props,l=a.hasChildren,u=a.placement,h=a.target;return l?this.renderPortal():h||u==="center"?this.renderPortal():null}},{key:"render",value:function(){return Xc?this.renderReact16():null}}]),n})(Ne.Component);Fn(HA,"propTypes",{children:ge.oneOfType([ge.element,ge.array]),hasChildren:ge.bool,id:ge.oneOfType([ge.string,ge.number]),placement:ge.string,setRef:ge.func.isRequired,target:ge.oneOfType([ge.object,ge.string]),zIndex:ge.number});var GA=(function(t){Zu(n,t);var e=ef(n);function n(){return Xu(this,n),e.apply(this,arguments)}return Ju(n,[{key:"parentStyle",get:function(){var a=this.props,l=a.placement,u=a.styles,h=u.arrow.length,p={pointerEvents:"none",position:"absolute",width:"100%"};return l.startsWith("top")?(p.bottom=0,p.left=0,p.right=0,p.height=h):l.startsWith("bottom")?(p.left=0,p.right=0,p.top=0,p.height=h):l.startsWith("left")?(p.right=0,p.top=0,p.bottom=0):l.startsWith("right")&&(p.left=0,p.top=0),p}},{key:"render",value:function(){var a=this.props,l=a.placement,u=a.setArrowRef,h=a.styles,p=h.arrow,g=p.color,y=p.display,v=p.length,T=p.margin,S=p.position,I=p.spread,D={display:y,position:S},V,U=I,B=v;return l.startsWith("top")?(V="0,0 ".concat(U/2,",").concat(B," ").concat(U,",0"),D.bottom=0,D.marginLeft=T,D.marginRight=T):l.startsWith("bottom")?(V="".concat(U,",").concat(B," ").concat(U/2,",0 0,").concat(B),D.top=0,D.marginLeft=T,D.marginRight=T):l.startsWith("left")?(B=I,U=v,V="0,0 ".concat(U,",").concat(B/2," 0,").concat(B),D.right=0,D.marginTop=T,D.marginBottom=T):l.startsWith("right")&&(B=I,U=v,V="".concat(U,",").concat(B," ").concat(U,",0 0,").concat(B/2),D.left=0,D.marginTop=T,D.marginBottom=T),Ne.createElement("div",{className:"__floater__arrow",style:this.parentStyle},Ne.createElement("span",{ref:u,style:D},Ne.createElement("svg",{width:U,height:B,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},Ne.createElement("polygon",{points:V,fill:g}))))}}]),n})(Ne.Component);Fn(GA,"propTypes",{placement:ge.string.isRequired,setArrowRef:ge.func.isRequired,styles:ge.object.isRequired});var cj=["color","height","width"];function YA(t){var e=t.handleClick,n=t.styles,i=n.color,a=n.height,l=n.width,u=FA(n,cj);return Ne.createElement("button",{"aria-label":"close",onClick:e,style:u,type:"button"},Ne.createElement("svg",{width:"".concat(l,"px"),height:"".concat(a,"px"),viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},Ne.createElement("g",null,Ne.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:i}))))}YA.propTypes={handleClick:ge.func.isRequired,styles:ge.object.isRequired};function KA(t){var e=t.content,n=t.footer,i=t.handleClick,a=t.open,l=t.positionWrapper,u=t.showCloseButton,h=t.title,p=t.styles,g={content:Ne.isValidElement(e)?e:Ne.createElement("div",{className:"__floater__content",style:p.content},e)};return h&&(g.title=Ne.isValidElement(h)?h:Ne.createElement("div",{className:"__floater__title",style:p.title},h)),n&&(g.footer=Ne.isValidElement(n)?n:Ne.createElement("div",{className:"__floater__footer",style:p.footer},n)),(u||l)&&!se.boolean(a)&&(g.close=Ne.createElement(YA,{styles:p.close,handleClick:i})),Ne.createElement("div",{className:"__floater__container",style:p.container},g.close,g.title,g.content,g.footer)}KA.propTypes={content:ge.node.isRequired,footer:ge.node,handleClick:ge.func.isRequired,open:ge.bool,positionWrapper:ge.bool.isRequired,showCloseButton:ge.bool.isRequired,styles:ge.object.isRequired,title:ge.node};var WA=(function(t){Zu(n,t);var e=ef(n);function n(){return Xu(this,n),e.apply(this,arguments)}return Ju(n,[{key:"style",get:function(){var a=this.props,l=a.disableAnimation,u=a.component,h=a.placement,p=a.hideArrow,g=a.status,y=a.styles,v=y.arrow.length,T=y.floater,S=y.floaterCentered,I=y.floaterClosing,D=y.floaterOpening,V=y.floaterWithAnimation,U=y.floaterWithComponent,B={};return p||(h.startsWith("top")?B.padding="0 0 ".concat(v,"px"):h.startsWith("bottom")?B.padding="".concat(v,"px 0 0"):h.startsWith("left")?B.padding="0 ".concat(v,"px 0 0"):h.startsWith("right")&&(B.padding="0 0 0 ".concat(v,"px"))),[lt.OPENING,lt.OPEN].indexOf(g)!==-1&&(B=Lt(Lt({},B),D)),g===lt.CLOSING&&(B=Lt(Lt({},B),I)),g===lt.OPEN&&!l&&(B=Lt(Lt({},B),V)),h==="center"&&(B=Lt(Lt({},B),S)),u&&(B=Lt(Lt({},B),U)),Lt(Lt({},T),B)}},{key:"render",value:function(){var a=this.props,l=a.component,u=a.handleClick,h=a.hideArrow,p=a.setFloaterRef,g=a.status,y={},v=["__floater"];return l?Ne.isValidElement(l)?y.content=Ne.cloneElement(l,{closeFn:u}):y.content=l({closeFn:u}):y.content=Ne.createElement(KA,this.props),g===lt.OPEN&&v.push("__floater__open"),h||(y.arrow=Ne.createElement(GA,this.props)),Ne.createElement("div",{ref:p,className:v.join(" "),style:this.style},Ne.createElement("div",{className:"__floater__body"},y.content,y.arrow))}}]),n})(Ne.Component);Fn(WA,"propTypes",{component:ge.oneOfType([ge.func,ge.element]),content:ge.node,disableAnimation:ge.bool.isRequired,footer:ge.node,handleClick:ge.func.isRequired,hideArrow:ge.bool.isRequired,open:ge.bool,placement:ge.string.isRequired,positionWrapper:ge.bool.isRequired,setArrowRef:ge.func.isRequired,setFloaterRef:ge.func.isRequired,showCloseButton:ge.bool,status:ge.string.isRequired,styles:ge.object.isRequired,title:ge.node});var QA=(function(t){Zu(n,t);var e=ef(n);function n(){return Xu(this,n),e.apply(this,arguments)}return Ju(n,[{key:"render",value:function(){var a=this.props,l=a.children,u=a.handleClick,h=a.handleMouseEnter,p=a.handleMouseLeave,g=a.setChildRef,y=a.setWrapperRef,v=a.style,T=a.styles,S;if(l)if(Ne.Children.count(l)===1)if(!Ne.isValidElement(l))S=Ne.createElement("span",null,l);else{var I=se.function(l.type)?"innerRef":"ref";S=Ne.cloneElement(Ne.Children.only(l),Fn({},I,g))}else S=l;return S?Ne.createElement("span",{ref:y,style:Lt(Lt({},T),v),onClick:u,onMouseEnter:h,onMouseLeave:p},S):null}}]),n})(Ne.Component);Fn(QA,"propTypes",{children:ge.node,handleClick:ge.func.isRequired,handleMouseEnter:ge.func.isRequired,handleMouseLeave:ge.func.isRequired,setChildRef:ge.func.isRequired,setWrapperRef:ge.func.isRequired,style:ge.object,styles:ge.object.isRequired});var uj={zIndex:100};function fj(t){var e=ii(uj,t.options||{});return{wrapper:{cursor:"help",display:"inline-flex",flexDirection:"column",zIndex:e.zIndex},wrapperPosition:{left:-1e3,position:"absolute",top:-1e3,visibility:"hidden"},floater:{display:"inline-block",filter:"drop-shadow(0 0 3px rgba(0, 0, 0, 0.3))",maxWidth:300,opacity:0,position:"relative",transition:"opacity 0.3s",visibility:"hidden",zIndex:e.zIndex},floaterOpening:{opacity:1,visibility:"visible"},floaterWithAnimation:{opacity:1,transition:"opacity 0.3s, transform 0.2s",visibility:"visible"},floaterWithComponent:{maxWidth:"100%"},floaterClosing:{opacity:0,visibility:"visible"},floaterCentered:{left:"50%",position:"fixed",top:"50%",transform:"translate(-50%, -50%)"},container:{backgroundColor:"#fff",color:"#666",minHeight:60,minWidth:200,padding:20,position:"relative",zIndex:10},title:{borderBottom:"1px solid #555",color:"#555",fontSize:18,marginBottom:5,paddingBottom:6,paddingRight:18},content:{fontSize:15},close:{backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",fontSize:0,height:15,outline:"none",padding:10,position:"absolute",right:0,top:0,width:15,WebkitAppearance:"none"},footer:{borderTop:"1px solid #ccc",fontSize:13,marginTop:10,paddingTop:5},arrow:{color:"#fff",display:"inline-flex",length:16,margin:8,position:"absolute",spread:32},options:e}}var dj=["arrow","flip","offset"],hj=["position","top","right","bottom","left"],zv=(function(t){Zu(n,t);var e=ef(n);function n(i){var a;return Xu(this,n),a=e.call(this,i),Fn(ms(a),"setArrowRef",function(l){a.arrowRef=l}),Fn(ms(a),"setChildRef",function(l){a.childRef=l}),Fn(ms(a),"setFloaterRef",function(l){a.floaterRef=l}),Fn(ms(a),"setWrapperRef",function(l){a.wrapperRef=l}),Fn(ms(a),"handleTransitionEnd",function(){var l=a.state.status,u=a.props.callback;a.wrapperPopper&&a.wrapperPopper.instance.update(),a.setState({status:l===lt.OPENING?lt.OPEN:lt.IDLE},function(){var h=a.state.status;u(h===lt.OPEN?"open":"close",a.props)})}),Fn(ms(a),"handleClick",function(){var l=a.props,u=l.event,h=l.open;if(!se.boolean(h)){var p=a.state,g=p.positionWrapper,y=p.status;(a.event==="click"||a.event==="hover"&&g)&&(Md({title:"click",data:[{event:u,status:y===lt.OPEN?"closing":"opening"}],debug:a.debug}),a.toggle())}}),Fn(ms(a),"handleMouseEnter",function(){var l=a.props,u=l.event,h=l.open;if(!(se.boolean(h)||kg())){var p=a.state.status;a.event==="hover"&&p===lt.IDLE&&(Md({title:"mouseEnter",data:[{key:"originalEvent",value:u}],debug:a.debug}),clearTimeout(a.eventDelayTimeout),a.toggle())}}),Fn(ms(a),"handleMouseLeave",function(){var l=a.props,u=l.event,h=l.eventDelay,p=l.open;if(!(se.boolean(p)||kg())){var g=a.state,y=g.status,v=g.positionWrapper;a.event==="hover"&&(Md({title:"mouseLeave",data:[{key:"originalEvent",value:u}],debug:a.debug}),h?[lt.OPENING,lt.OPEN].indexOf(y)!==-1&&!v&&!a.eventDelayTimeout&&(a.eventDelayTimeout=setTimeout(function(){delete a.eventDelayTimeout,a.toggle()},h*1e3)):a.toggle(lt.IDLE))}}),a.state={currentPlacement:i.placement,needsUpdate:!1,positionWrapper:i.wrapperOptions.position&&!!i.target,status:lt.INIT,statusWrapper:lt.INIT},a._isMounted=!1,a.hasMounted=!1,ki()&&window.addEventListener("load",function(){a.popper&&a.popper.instance.update(),a.wrapperPopper&&a.wrapperPopper.instance.update()}),a}return Ju(n,[{key:"componentDidMount",value:function(){if(ki()){var a=this.state.positionWrapper,l=this.props,u=l.children,h=l.open,p=l.target;this._isMounted=!0,Md({title:"init",data:{hasChildren:!!u,hasTarget:!!p,isControlled:se.boolean(h),positionWrapper:a,target:this.target,floater:this.floaterRef},debug:this.debug}),this.hasMounted||(this.initPopper(),this.hasMounted=!0),!u&&p&&se.boolean(h)}}},{key:"componentDidUpdate",value:function(a,l){if(ki()){var u=this.props,h=u.autoOpen,p=u.open,g=u.target,y=u.wrapperOptions,v=K9(l,this.state),T=v.changedFrom,S=v.changed;if(a.open!==p){var I;se.boolean(p)&&(I=p?lt.OPENING:lt.CLOSING),this.toggle(I)}(a.wrapperOptions.position!==y.position||a.target!==g)&&this.changeWrapperPosition(this.props),S("status",lt.IDLE)&&p?this.toggle(lt.OPEN):T("status",lt.INIT,lt.IDLE)&&h&&this.toggle(lt.OPEN),this.popper&&S("status",lt.OPENING)&&this.popper.instance.update(),this.floaterRef&&(S("status",lt.OPENING)||S("status",lt.CLOSING))&&lj(this.floaterRef,"transitionend",this.handleTransitionEnd),S("needsUpdate",!0)&&this.rebuildPopper()}}},{key:"componentWillUnmount",value:function(){ki()&&(this._isMounted=!1,this.popper&&this.popper.instance.destroy(),this.wrapperPopper&&this.wrapperPopper.instance.destroy())}},{key:"initPopper",value:function(){var a=this,l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.target,u=this.state.positionWrapper,h=this.props,p=h.disableFlip,g=h.getPopper,y=h.hideArrow,v=h.offset,T=h.placement,S=h.wrapperOptions,I=T==="top"||T==="bottom"?"flip":["right","bottom-end","top-end","left","top-start","bottom-start"];if(T==="center")this.setState({status:lt.IDLE});else if(l&&this.floaterRef){var D=this.options,V=D.arrow,U=D.flip,B=D.offset,K=FA(D,dj);new Ru(l,this.floaterRef,{placement:T,modifiers:Lt({arrow:Lt({enabled:!y,element:this.arrowRef},V),flip:Lt({enabled:!p,behavior:I},U),offset:Lt({offset:"0, ".concat(v,"px")},B)},K),onCreate:function(Z){var R;if(a.popper=Z,!((R=a.floaterRef)!==null&&R!==void 0&&R.isConnected)){a.setState({needsUpdate:!0});return}g(Z,"floater"),a._isMounted&&a.setState({currentPlacement:Z.placement,status:lt.IDLE}),T!==Z.placement&&setTimeout(function(){Z.instance.update()},1)},onUpdate:function(Z){a.popper=Z;var R=a.state.currentPlacement;a._isMounted&&Z.placement!==R&&a.setState({currentPlacement:Z.placement})}})}if(u){var G=se.undefined(S.offset)?0:S.offset;new Ru(this.target,this.wrapperRef,{placement:S.placement||T,modifiers:{arrow:{enabled:!1},offset:{offset:"0, ".concat(G,"px")},flip:{enabled:!1}},onCreate:function(Z){a.wrapperPopper=Z,a._isMounted&&a.setState({statusWrapper:lt.IDLE}),g(Z,"wrapper"),T!==Z.placement&&setTimeout(function(){Z.instance.update()},1)}})}}},{key:"rebuildPopper",value:function(){var a=this;this.floaterRefInterval=setInterval(function(){var l;(l=a.floaterRef)!==null&&l!==void 0&&l.isConnected&&(clearInterval(a.floaterRefInterval),a.setState({needsUpdate:!1}),a.initPopper())},50)}},{key:"changeWrapperPosition",value:function(a){var l=a.target,u=a.wrapperOptions;this.setState({positionWrapper:u.position&&!!l})}},{key:"toggle",value:function(a){var l=this.state.status,u=l===lt.OPEN?lt.CLOSING:lt.OPENING;se.undefined(a)||(u=a),this.setState({status:u})}},{key:"debug",get:function(){var a=this.props.debug;return a||ki()&&"ReactFloaterDebug"in window&&!!window.ReactFloaterDebug}},{key:"event",get:function(){var a=this.props,l=a.disableHoverToClick,u=a.event;return u==="hover"&&kg()&&!l?"click":u}},{key:"options",get:function(){var a=this.props.options;return ii(Z9,a||{})}},{key:"styles",get:function(){var a=this,l=this.state,u=l.status,h=l.positionWrapper,p=l.statusWrapper,g=this.props.styles,y=ii(fj(g),g);if(h){var v;[lt.IDLE].indexOf(u)===-1||[lt.IDLE].indexOf(p)===-1?v=y.wrapperPosition:v=this.wrapperPopper.styles,y.wrapper=Lt(Lt({},y.wrapper),v)}if(this.target){var T=window.getComputedStyle(this.target);this.wrapperStyles?y.wrapper=Lt(Lt({},y.wrapper),this.wrapperStyles):["relative","static"].indexOf(T.position)===-1&&(this.wrapperStyles={},h||(hj.forEach(function(S){a.wrapperStyles[S]=T[S]}),y.wrapper=Lt(Lt({},y.wrapper),this.wrapperStyles),this.target.style.position="relative",this.target.style.top="auto",this.target.style.right="auto",this.target.style.bottom="auto",this.target.style.left="auto"))}return y}},{key:"target",get:function(){if(!ki())return null;var a=this.props.target;return a?se.domElement(a)?a:document.querySelector(a):this.childRef||this.wrapperRef}},{key:"render",value:function(){var a=this.state,l=a.currentPlacement,u=a.positionWrapper,h=a.status,p=this.props,g=p.children,y=p.component,v=p.content,T=p.disableAnimation,S=p.footer,I=p.hideArrow,D=p.id,V=p.open,U=p.showCloseButton,B=p.style,K=p.target,G=p.title,$=Ne.createElement(QA,{handleClick:this.handleClick,handleMouseEnter:this.handleMouseEnter,handleMouseLeave:this.handleMouseLeave,setChildRef:this.setChildRef,setWrapperRef:this.setWrapperRef,style:B,styles:this.styles.wrapper},g),Z={};return u?Z.wrapperInPortal=$:Z.wrapperAsChildren=$,Ne.createElement("span",null,Ne.createElement(HA,{hasChildren:!!g,id:D,placement:l,setRef:this.setFloaterRef,target:K,zIndex:this.styles.options.zIndex},Ne.createElement(WA,{component:y,content:v,disableAnimation:T,footer:S,handleClick:this.handleClick,hideArrow:I||l==="center",open:V,placement:l,positionWrapper:u,setArrowRef:this.setArrowRef,setFloaterRef:this.setFloaterRef,showCloseButton:U,status:h,styles:this.styles,title:G}),Z.wrapperInPortal),Z.wrapperAsChildren)}}]),n})(Ne.Component);Fn(zv,"propTypes",{autoOpen:ge.bool,callback:ge.func,children:ge.node,component:eT(ge.oneOfType([ge.func,ge.element]),function(t){return!t.content}),content:eT(ge.node,function(t){return!t.component}),debug:ge.bool,disableAnimation:ge.bool,disableFlip:ge.bool,disableHoverToClick:ge.bool,event:ge.oneOf(["hover","click"]),eventDelay:ge.number,footer:ge.node,getPopper:ge.func,hideArrow:ge.bool,id:ge.oneOfType([ge.string,ge.number]),offset:ge.number,open:ge.bool,options:ge.object,placement:ge.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto","center"]),showCloseButton:ge.bool,style:ge.object,styles:ge.object,target:ge.oneOfType([ge.object,ge.string]),title:ge.node,wrapperOptions:ge.shape({offset:ge.number,placement:ge.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto"]),position:ge.bool})});Fn(zv,"defaultProps",{autoOpen:!1,callback:tT,debug:!1,disableAnimation:!1,disableFlip:!1,disableHoverToClick:!1,event:"click",eventDelay:.4,getPopper:tT,hideArrow:!1,offset:15,placement:"bottom",showCloseButton:!1,styles:{},target:null,wrapperOptions:{position:!1}});var pj=Object.defineProperty,mj=(t,e,n)=>e in t?pj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xe=(t,e,n)=>mj(t,typeof e!="symbol"?e+"":e,n),pt={INIT:"init",START:"start",STOP:"stop",RESET:"reset",PREV:"prev",NEXT:"next",GO:"go",CLOSE:"close",SKIP:"skip",UPDATE:"update"},xr={TOUR_START:"tour:start",STEP_BEFORE:"step:before",BEACON:"beacon",TOOLTIP:"tooltip",STEP_AFTER:"step:after",TOUR_END:"tour:end",TOUR_STATUS:"tour:status",TARGET_NOT_FOUND:"error:target_not_found"},Be={INIT:"init",READY:"ready",BEACON:"beacon",TOOLTIP:"tooltip",COMPLETE:"complete",ERROR:"error"},We={IDLE:"idle",READY:"ready",WAITING:"waiting",RUNNING:"running",PAUSED:"paused",SKIPPED:"skipped",FINISHED:"finished"};function ca(){var t;return!!(typeof window<"u"&&((t=window.document)!=null&&t.createElement))}function $A(t){return t?t.getBoundingClientRect():null}function gj(t=!1){const{body:e,documentElement:n}=document;if(!e||!n)return 0;if(t){const i=[e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight].sort((l,u)=>l-u),a=Math.floor(i.length/2);return i.length%2===0?(i[a-1]+i[a])/2:i[a]}return Math.max(e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)}function vs(t){if(typeof t=="string")try{return document.querySelector(t)}catch{return null}return t}function yj(t){return!t||t.nodeType!==1?null:getComputedStyle(t)}function Nu(t,e,n){if(!t)return ro();const i=SA(t);if(i){if(i.isSameNode(ro()))return n?document:ro();if(!(i.scrollHeight>i.offsetHeight)&&!e)return i.style.overflow="initial",ro()}return i}function ep(t,e){if(!t)return!1;const n=Nu(t,e);return n?!n.isSameNode(ro()):!1}function vj(t){return t.offsetParent!==document.body}function Ml(t,e="fixed"){if(!t||!(t instanceof HTMLElement))return!1;const{nodeName:n}=t,i=yj(t);return n==="BODY"||n==="HTML"?!1:i&&i.position===e?!0:t.parentNode?Ml(t.parentNode,e):!1}function bj(t){var e;if(!t)return!1;let n=t;for(;n&&n!==document.body;){if(n instanceof HTMLElement){const{display:i,visibility:a}=getComputedStyle(n);if(i==="none"||a==="hidden")return!1}n=(e=n.parentElement)!=null?e:null}return!0}function _j(t,e,n){var i,a,l;const u=$A(t),h=Nu(t,n),p=ep(t,n),g=Ml(t);let y=0,v=(i=u?.top)!=null?i:0;if(p&&g){const T=(a=t?.offsetTop)!=null?a:0,S=(l=h?.scrollTop)!=null?l:0;v=T-S}else h instanceof HTMLElement&&(y=h.scrollTop,!p&&!Ml(t)&&(v+=y),h.isSameNode(ro())||(v+=ro().scrollTop));return Math.floor(v-e)}function Ej(t,e,n){var i;if(!t)return 0;const{offsetTop:a=0,scrollTop:l=0}=(i=SA(t))!=null?i:{};let u=t.getBoundingClientRect().top+l;a&&(ep(t,n)||vj(t))&&(u-=a);const h=Math.floor(u-e);return h<0?0:h}function ro(){var t;return(t=document.scrollingElement)!=null?t:document.documentElement}function wj(t,e){const{duration:n,element:i}=e;return new Promise((a,l)=>{const{scrollTop:u}=i,h=t>u?t-u:u-t;z6.top(i,t,{duration:h<100?50:n},p=>p&&p.message!=="Element already at target scroll position"?l(p):a())})}var Jc=ri.createPortal!==void 0;function XA(t=navigator.userAgent){let e=t;return typeof window>"u"?e="node":document.documentMode?e="ie":/Edge/.test(t)?e="edge":window.opera||t.includes(" OPR/")?e="opera":typeof window.InstallTrigger<"u"?e="firefox":window.chrome?e="chrome":/(Version\/([\d._]+).*Safari|CriOS|FxiOS| Mobile\/)/.test(t)&&(e="safari"),e}function Kd(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function Pi(t,e={}){const{defaultValue:n,step:i,steps:a}=e;let l=jw(t);if(l)(l.includes("{step}")||l.includes("{steps}"))&&i&&a&&(l=l.replace("{step}",i.toString()).replace("{steps}",a.toString()));else if(k.isValidElement(t)&&!Object.values(t.props).length&&Kd(t.type)==="function"){const u=t.type({});l=Pi(u,e)}else l=jw(n);return l}function Tj(t,e){return!Te.plainObject(t)||!Te.array(e)?!1:Object.keys(t).every(n=>e.includes(n))}function Sj(t){const e=/^#?([\da-f])([\da-f])([\da-f])$/i,n=t.replace(e,(a,l,u,h)=>l+l+u+u+h+h),i=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(n);return i?[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16)]:[]}function nT(t){return t.disableBeacon||t.placement==="center"}function rT(){return!["chrome","safari","firefox","opera"].includes(XA())}function po({data:t,debug:e=!1,title:n,warn:i=!1}){const a=i?console.warn||console.error:console.log;e&&(n&&t?(console.groupCollapsed(`%creact-joyride: ${n}`,"color: #ff0044; font-weight: bold; font-size: 12px;"),Array.isArray(t)?t.forEach(l=>{Te.plainObject(l)&&l.key?a.apply(console,[l.key,l.value]):a.apply(console,[l])}):a.apply(console,[t]),console.groupEnd()):console.error("Missing title or data props"))}function xj(t){return Object.keys(t)}function JA(t,...e){if(!Te.plainObject(t))throw new TypeError("Expected an object");const n={};for(const i in t)({}).hasOwnProperty.call(t,i)&&(e.includes(i)||(n[i]=t[i]));return n}function Aj(t,...e){if(!Te.plainObject(t))throw new TypeError("Expected an object");if(!e.length)return t;const n={};for(const i in t)({}).hasOwnProperty.call(t,i)&&e.includes(i)&&(n[i]=t[i]);return n}function xy(t,e,n){const i=l=>l.replace("{step}",String(e)).replace("{steps}",String(n));if(Kd(t)==="string")return i(t);if(!k.isValidElement(t))return t;const{children:a}=t.props;if(Kd(a)==="string"&&a.includes("{step}"))return k.cloneElement(t,{children:i(a)});if(Array.isArray(a))return k.cloneElement(t,{children:a.map(l=>typeof l=="string"?i(l):xy(l,e,n))});if(Kd(t.type)==="function"&&!Object.values(t.props).length){const l=t.type({});return xy(l,e,n)}return t}function Cj(t){const{isFirstStep:e,lifecycle:n,previousLifecycle:i,scrollToFirstStep:a,step:l,target:u}=t;return!l.disableScrolling&&(!e||a||n===Be.TOOLTIP)&&l.placement!=="center"&&(!l.isFixed||!Ml(u))&&i!==n&&[Be.BEACON,Be.TOOLTIP].includes(n)}var Rj={options:{preventOverflow:{boundariesElement:"scrollParent"}},wrapperOptions:{offset:-18,position:!0}},ZA={back:"Back",close:"Close",last:"Last",next:"Next",nextLabelWithProgress:"Next (Step {step} of {steps})",open:"Open the dialog",skip:"Skip"},Nj={event:"click",placement:"bottom",offset:10,disableBeacon:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrollParentFix:!1,disableScrolling:!1,hideBackButton:!1,hideCloseButton:!1,hideFooter:!1,isFixed:!1,locale:ZA,showProgress:!1,showSkipButton:!1,spotlightClicks:!1,spotlightPadding:10},Ij={continuous:!1,debug:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrolling:!1,disableScrollParentFix:!1,getHelpers:void 0,hideBackButton:!1,run:!0,scrollOffset:20,scrollDuration:300,scrollToFirstStep:!1,showSkipButton:!1,showProgress:!1,spotlightClicks:!1,spotlightPadding:10,steps:[]},Oj={arrowColor:"#fff",backgroundColor:"#fff",beaconSize:36,overlayColor:"rgba(0, 0, 0, 0.5)",primaryColor:"#f04",spotlightShadow:"0 0 15px rgba(0, 0, 0, 0.5)",textColor:"#333",width:380,zIndex:100},Zc={backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",cursor:"pointer",fontSize:16,lineHeight:1,padding:8,WebkitAppearance:"none"},iT={borderRadius:4,position:"absolute"};function Dj(t,e){var n,i,a,l,u;const{floaterProps:h,styles:p}=t,g=ii((n=e.floaterProps)!=null?n:{},h??{}),y=ii(p??{},(i=e.styles)!=null?i:{}),v=ii(Oj,y.options||{}),T=e.placement==="center"||e.disableBeacon;let{width:S}=v;window.innerWidth>480&&(S=380),"width"in v&&(S=typeof v.width=="number"&&window.innerWidth<v.width?window.innerWidth-30:v.width);const I={bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0,zIndex:v.zIndex},D={beacon:{...Zc,display:T?"none":"inline-block",height:v.beaconSize,position:"relative",width:v.beaconSize,zIndex:v.zIndex},beaconInner:{animation:"joyride-beacon-inner 1.2s infinite ease-in-out",backgroundColor:v.primaryColor,borderRadius:"50%",display:"block",height:"50%",left:"50%",opacity:.7,position:"absolute",top:"50%",transform:"translate(-50%, -50%)",width:"50%"},beaconOuter:{animation:"joyride-beacon-outer 1.2s infinite ease-in-out",backgroundColor:`rgba(${Sj(v.primaryColor).join(",")}, 0.2)`,border:`2px solid ${v.primaryColor}`,borderRadius:"50%",boxSizing:"border-box",display:"block",height:"100%",left:0,opacity:.9,position:"absolute",top:0,transformOrigin:"center",width:"100%"},tooltip:{backgroundColor:v.backgroundColor,borderRadius:5,boxSizing:"border-box",color:v.textColor,fontSize:16,maxWidth:"100%",padding:15,position:"relative",width:S},tooltipContainer:{lineHeight:1.4,textAlign:"center"},tooltipTitle:{fontSize:18,margin:0},tooltipContent:{padding:"20px 10px"},tooltipFooter:{alignItems:"center",display:"flex",justifyContent:"flex-end",marginTop:15},tooltipFooterSpacer:{flex:1},buttonNext:{...Zc,backgroundColor:v.primaryColor,borderRadius:4,color:"#fff"},buttonBack:{...Zc,color:v.primaryColor,marginLeft:"auto",marginRight:5},buttonClose:{...Zc,color:v.textColor,height:14,padding:15,position:"absolute",right:0,top:0,width:14},buttonSkip:{...Zc,color:v.textColor,fontSize:14},overlay:{...I,backgroundColor:v.overlayColor,mixBlendMode:"hard-light"},overlayLegacy:{...I},overlayLegacyCenter:{...I,backgroundColor:v.overlayColor},spotlight:{...iT,backgroundColor:"gray"},spotlightLegacy:{...iT,boxShadow:`0 0 0 9999px ${v.overlayColor}, ${v.spotlightShadow}`},floaterStyles:{arrow:{color:(u=(l=(a=g?.styles)==null?void 0:a.arrow)==null?void 0:l.color)!=null?u:v.arrowColor},options:{zIndex:v.zIndex+100}},options:v};return ii(D,y)}function Mj(t){return Aj(t,"beaconComponent","disableCloseOnEsc","disableOverlay","disableOverlayClose","disableScrolling","disableScrollParentFix","floaterProps","hideBackButton","hideCloseButton","locale","showProgress","showSkipButton","spotlightClicks","spotlightPadding","styles","tooltipComponent")}function cl(t,e){var n,i,a,l,u,h;const p=e??{},g=ii.all([Nj,Mj(t),p],{isMergeableObject:Te.plainObject}),y=Dj(t,g),v=ep(vs(g.target),g.disableScrollParentFix),T=ii.all([Rj,(n=t.floaterProps)!=null?n:{},(i=g.floaterProps)!=null?i:{}]);return T.offset=g.offset,T.styles=ii((a=T.styles)!=null?a:{},y.floaterStyles),T.offset+=(u=(l=t.spotlightPadding)!=null?l:g.spotlightPadding)!=null?u:0,g.placementBeacon&&T.wrapperOptions&&(T.wrapperOptions.placement=g.placementBeacon),v&&T.options.preventOverflow&&(T.options.preventOverflow.boundariesElement="window"),{...g,locale:ii.all([ZA,(h=t.locale)!=null?h:{},g.locale||{}]),floaterProps:T,styles:JA(y,"floaterStyles")}}function e2(t,e=!1){return Te.plainObject(t)?t.target?!0:(po({title:"validateStep",data:"target is missing from the step",warn:!0,debug:e}),!1):(po({title:"validateStep",data:"step must be an object",warn:!0,debug:e}),!1)}function sT(t,e=!1){return Te.array(t)?t.every(n=>e2(n,e)):(po({title:"validateSteps",data:"steps must be an array",warn:!0,debug:e}),!1)}var t2={action:"init",controlled:!1,index:0,lifecycle:Be.INIT,origin:null,size:0,status:We.IDLE},aT=xj(JA(t2,"controlled","size")),kj=class{constructor(t){xe(this,"beaconPopper"),xe(this,"tooltipPopper"),xe(this,"data",new Map),xe(this,"listener"),xe(this,"store",new Map),xe(this,"addListener",a=>{this.listener=a}),xe(this,"setSteps",a=>{const{size:l,status:u}=this.getState(),h={size:a.length,status:u};this.data.set("steps",a),u===We.WAITING&&!l&&a.length&&(h.status=We.RUNNING),this.setState(h)}),xe(this,"getPopper",a=>a==="beacon"?this.beaconPopper:this.tooltipPopper),xe(this,"setPopper",(a,l)=>{a==="beacon"?this.beaconPopper=l:this.tooltipPopper=l}),xe(this,"cleanupPoppers",()=>{this.beaconPopper=null,this.tooltipPopper=null}),xe(this,"close",(a=null)=>{const{index:l,status:u}=this.getState();u===We.RUNNING&&this.setState({...this.getNextState({action:pt.CLOSE,index:l+1,origin:a})})}),xe(this,"go",a=>{const{controlled:l,status:u}=this.getState();if(l||u!==We.RUNNING)return;const h=this.getSteps()[a];this.setState({...this.getNextState({action:pt.GO,index:a}),status:h?u:We.FINISHED})}),xe(this,"info",()=>this.getState()),xe(this,"next",()=>{const{index:a,status:l}=this.getState();l===We.RUNNING&&this.setState(this.getNextState({action:pt.NEXT,index:a+1}))}),xe(this,"open",()=>{const{status:a}=this.getState();a===We.RUNNING&&this.setState({...this.getNextState({action:pt.UPDATE,lifecycle:Be.TOOLTIP})})}),xe(this,"prev",()=>{const{index:a,status:l}=this.getState();l===We.RUNNING&&this.setState({...this.getNextState({action:pt.PREV,index:a-1})})}),xe(this,"reset",(a=!1)=>{const{controlled:l}=this.getState();l||this.setState({...this.getNextState({action:pt.RESET,index:0}),status:a?We.RUNNING:We.READY})}),xe(this,"skip",()=>{const{status:a}=this.getState();a===We.RUNNING&&this.setState({action:pt.SKIP,lifecycle:Be.INIT,status:We.SKIPPED})}),xe(this,"start",a=>{const{index:l,size:u}=this.getState();this.setState({...this.getNextState({action:pt.START,index:Te.number(a)?a:l},!0),status:u?We.RUNNING:We.WAITING})}),xe(this,"stop",(a=!1)=>{const{index:l,status:u}=this.getState();[We.FINISHED,We.SKIPPED].includes(u)||this.setState({...this.getNextState({action:pt.STOP,index:l+(a?1:0)}),status:We.PAUSED})}),xe(this,"update",a=>{var l,u;if(!Tj(a,aT))throw new Error(`State is not valid. Valid keys: ${aT.join(", ")}`);this.setState({...this.getNextState({...this.getState(),...a,action:(l=a.action)!=null?l:pt.UPDATE,origin:(u=a.origin)!=null?u:null},!0)})});const{continuous:e=!1,stepIndex:n,steps:i=[]}=t??{};this.setState({action:pt.INIT,controlled:Te.number(n),continuous:e,index:Te.number(n)?n:0,lifecycle:Be.INIT,origin:null,status:i.length?We.READY:We.IDLE},!0),this.beaconPopper=null,this.tooltipPopper=null,this.listener=null,this.setSteps(i)}getState(){return this.store.size?{action:this.store.get("action")||"",controlled:this.store.get("controlled")||!1,index:parseInt(this.store.get("index"),10),lifecycle:this.store.get("lifecycle")||"",origin:this.store.get("origin")||null,size:this.store.get("size")||0,status:this.store.get("status")||""}:{...t2}}getNextState(t,e=!1){var n,i,a,l,u;const{action:h,controlled:p,index:g,size:y,status:v}=this.getState(),T=Te.number(t.index)?t.index:g,S=p&&!e?g:Math.min(Math.max(T,0),y);return{action:(n=t.action)!=null?n:h,controlled:p,index:S,lifecycle:(i=t.lifecycle)!=null?i:Be.INIT,origin:(a=t.origin)!=null?a:null,size:(l=t.size)!=null?l:y,status:S===y?We.FINISHED:(u=t.status)!=null?u:v}}getSteps(){const t=this.data.get("steps");return Array.isArray(t)?t:[]}hasUpdatedState(t){const e=JSON.stringify(t),n=JSON.stringify(this.getState());return e!==n}setState(t,e=!1){const n=this.getState(),{action:i,index:a,lifecycle:l,origin:u=null,size:h,status:p}={...n,...t};this.store.set("action",i),this.store.set("index",a),this.store.set("lifecycle",l),this.store.set("origin",u),this.store.set("size",h),this.store.set("status",p),e&&(this.store.set("controlled",t.controlled),this.store.set("continuous",t.continuous)),this.listener&&this.hasUpdatedState(n)&&this.listener(this.getState())}getHelpers(){return{close:this.close,go:this.go,info:this.info,next:this.next,open:this.open,prev:this.prev,reset:this.reset,skip:this.skip}}};function Pj(t){return new kj(t)}function jj({styles:t}){return k.createElement("div",{key:"JoyrideSpotlight",className:"react-joyride__spotlight","data-test-id":"spotlight",style:t})}var zj=jj,Vj=class extends k.Component{constructor(){super(...arguments),xe(this,"isActive",!1),xe(this,"resizeTimeout"),xe(this,"scrollTimeout"),xe(this,"scrollParent"),xe(this,"state",{isScrolling:!1,mouseOverSpotlight:!1,showSpotlight:!0}),xe(this,"hideSpotlight",()=>{const{continuous:t,disableOverlay:e,lifecycle:n}=this.props,i=[Be.INIT,Be.BEACON,Be.COMPLETE,Be.ERROR];return e||(t?i.includes(n):n!==Be.TOOLTIP)}),xe(this,"handleMouseMove",t=>{const{mouseOverSpotlight:e}=this.state,{height:n,left:i,position:a,top:l,width:u}=this.spotlightStyles,h=a==="fixed"?t.clientY:t.pageY,p=a==="fixed"?t.clientX:t.pageX,g=h>=l&&h<=l+n,v=p>=i&&p<=i+u&&g;v!==e&&this.updateState({mouseOverSpotlight:v})}),xe(this,"handleScroll",()=>{const{target:t}=this.props,e=vs(t);if(this.scrollParent!==document){const{isScrolling:n}=this.state;n||this.updateState({isScrolling:!0,showSpotlight:!1}),clearTimeout(this.scrollTimeout),this.scrollTimeout=window.setTimeout(()=>{this.updateState({isScrolling:!1,showSpotlight:!0})},50)}else Ml(e,"sticky")&&this.updateState({})}),xe(this,"handleResize",()=>{clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(()=>{this.isActive&&this.forceUpdate()},100)})}componentDidMount(){const{debug:t,disableScrolling:e,disableScrollParentFix:n=!1,target:i}=this.props,a=vs(i);this.scrollParent=Nu(a??document.body,n,!0),this.isActive=!0,window.addEventListener("resize",this.handleResize)}componentDidUpdate(t){var e;const{disableScrollParentFix:n,lifecycle:i,spotlightClicks:a,target:l}=this.props,{changed:u}=_h(t,this.props);if(u("target")||u("disableScrollParentFix")){const h=vs(l);this.scrollParent=Nu(h??document.body,n,!0)}u("lifecycle",Be.TOOLTIP)&&((e=this.scrollParent)==null||e.addEventListener("scroll",this.handleScroll,{passive:!0}),setTimeout(()=>{const{isScrolling:h}=this.state;h||this.updateState({showSpotlight:!0})},100)),(u("spotlightClicks")||u("disableOverlay")||u("lifecycle"))&&(a&&i===Be.TOOLTIP?window.addEventListener("mousemove",this.handleMouseMove,!1):i!==Be.TOOLTIP&&window.removeEventListener("mousemove",this.handleMouseMove))}componentWillUnmount(){var t;this.isActive=!1,window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("resize",this.handleResize),clearTimeout(this.resizeTimeout),clearTimeout(this.scrollTimeout),(t=this.scrollParent)==null||t.removeEventListener("scroll",this.handleScroll)}get overlayStyles(){const{mouseOverSpotlight:t}=this.state,{disableOverlayClose:e,placement:n,styles:i}=this.props;let a=i.overlay;return rT()&&(a=n==="center"?i.overlayLegacyCenter:i.overlayLegacy),{cursor:e?"default":"pointer",height:gj(),pointerEvents:t?"none":"auto",...a}}get spotlightStyles(){var t,e,n;const{showSpotlight:i}=this.state,{disableScrollParentFix:a=!1,spotlightClicks:l,spotlightPadding:u=0,styles:h,target:p}=this.props,g=vs(p),y=$A(g),v=Ml(g),T=_j(g,u,a);return{...rT()?h.spotlightLegacy:h.spotlight,height:Math.round(((t=y?.height)!=null?t:0)+u*2),left:Math.round(((e=y?.left)!=null?e:0)-u),opacity:i?1:0,pointerEvents:l?"none":"auto",position:v?"fixed":"absolute",top:T,transition:"opacity 0.2s",width:Math.round(((n=y?.width)!=null?n:0)+u*2)}}updateState(t){this.isActive&&this.setState(e=>({...e,...t}))}render(){const{showSpotlight:t}=this.state,{onClickOverlay:e,placement:n}=this.props,{hideSpotlight:i,overlayStyles:a,spotlightStyles:l}=this;if(i())return null;let u=n!=="center"&&t&&k.createElement(zj,{styles:l});if(XA()==="safari"){const{mixBlendMode:h,zIndex:p,...g}=a;u=k.createElement("div",{style:{...g}},u),delete a.backgroundColor}return k.createElement("div",{className:"react-joyride__overlay","data-test-id":"overlay",onClick:e,role:"presentation",style:a},u)}},Lj=class extends k.Component{constructor(){super(...arguments),xe(this,"node",null)}componentDidMount(){const{id:t}=this.props;ca()&&(this.node=document.createElement("div"),this.node.id=t,document.body.appendChild(this.node),Jc||this.renderReact15())}componentDidUpdate(){ca()&&(Jc||this.renderReact15())}componentWillUnmount(){!ca()||!this.node||(Jc||ri.unmountComponentAtNode(this.node),this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=null))}renderReact15(){if(!ca())return;const{children:t}=this.props;this.node&&ri.unstable_renderSubtreeIntoContainer(this,t,this.node)}renderReact16(){if(!ca()||!Jc)return null;const{children:t}=this.props;return this.node?ri.createPortal(t,this.node):null}render(){return Jc?this.renderReact16():null}},Uj=class{constructor(t,e){if(xe(this,"element"),xe(this,"options"),xe(this,"canBeTabbed",n=>{const{tabIndex:i}=n;return i===null||i<0?!1:this.canHaveFocus(n)}),xe(this,"canHaveFocus",n=>{const i=/input|select|textarea|button|object/,a=n.nodeName.toLowerCase();return(i.test(a)&&!n.getAttribute("disabled")||a==="a"&&!!n.getAttribute("href"))&&this.isVisible(n)}),xe(this,"findValidTabElements",()=>[].slice.call(this.element.querySelectorAll("*"),0).filter(this.canBeTabbed)),xe(this,"handleKeyDown",n=>{const{code:i="Tab"}=this.options;n.code===i&&this.interceptTab(n)}),xe(this,"interceptTab",n=>{n.preventDefault();const i=this.findValidTabElements(),{shiftKey:a}=n;if(!i.length)return;let l=document.activeElement?i.indexOf(document.activeElement):0;l===-1||!a&&l+1===i.length?l=0:a&&l===0?l=i.length-1:l+=a?-1:1,i[l].focus()}),xe(this,"isHidden",n=>{const i=n.offsetWidth<=0&&n.offsetHeight<=0,a=window.getComputedStyle(n);return i&&!n.innerHTML?!0:i&&a.getPropertyValue("overflow")!=="visible"||a.getPropertyValue("display")==="none"}),xe(this,"isVisible",n=>{let i=n;for(;i;)if(i instanceof HTMLElement){if(i===document.body)break;if(this.isHidden(i))return!1;i=i.parentNode}return!0}),xe(this,"removeScope",()=>{window.removeEventListener("keydown",this.handleKeyDown)}),xe(this,"checkFocus",n=>{document.activeElement!==n&&(n.focus(),window.requestAnimationFrame(()=>this.checkFocus(n)))}),xe(this,"setFocus",()=>{const{selector:n}=this.options;if(!n)return;const i=this.element.querySelector(n);i&&window.requestAnimationFrame(()=>this.checkFocus(i))}),!(t instanceof HTMLElement))throw new TypeError("Invalid parameter: element must be an HTMLElement");this.element=t,this.options=e,window.addEventListener("keydown",this.handleKeyDown,!1),this.setFocus()}},Bj=class extends k.Component{constructor(t){if(super(t),xe(this,"beacon",null),xe(this,"setBeaconRef",a=>{this.beacon=a}),t.beaconComponent)return;const e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.id="joyride-beacon-animation",t.nonce&&n.setAttribute("nonce",t.nonce),n.appendChild(document.createTextNode(`
        @keyframes joyride-beacon-inner {
          20% {
            opacity: 0.9;
          }
        
          90% {
            opacity: 0.7;
          }
        }
        
        @keyframes joyride-beacon-outer {
          0% {
            transform: scale(1);
          }
        
          45% {
            opacity: 0.7;
            transform: scale(0.75);
          }
        
          100% {
            opacity: 0.9;
            transform: scale(1);
          }
        }
      `)),e.appendChild(n)}componentDidMount(){const{shouldFocus:t}=this.props;setTimeout(()=>{Te.domElement(this.beacon)&&t&&this.beacon.focus()},0)}componentWillUnmount(){const t=document.getElementById("joyride-beacon-animation");t?.parentNode&&t.parentNode.removeChild(t)}render(){const{beaconComponent:t,continuous:e,index:n,isLastStep:i,locale:a,onClickOrHover:l,size:u,step:h,styles:p}=this.props,g=Pi(a.open),y={"aria-label":g,onClick:l,onMouseEnter:l,ref:this.setBeaconRef,title:g};let v;if(t){const T=t;v=k.createElement(T,{continuous:e,index:n,isLastStep:i,size:u,step:h,...y})}else v=k.createElement("button",{key:"JoyrideBeacon",className:"react-joyride__beacon","data-test-id":"button-beacon",style:p.beacon,type:"button",...y},k.createElement("span",{style:p.beaconInner}),k.createElement("span",{style:p.beaconOuter}));return v}};function Fj({styles:t,...e}){const{color:n,height:i,width:a,...l}=t;return Ne.createElement("button",{style:l,type:"button",...e},Ne.createElement("svg",{height:typeof i=="number"?`${i}px`:i,preserveAspectRatio:"xMidYMid",version:"1.1",viewBox:"0 0 18 18",width:typeof a=="number"?`${a}px`:a,xmlns:"http://www.w3.org/2000/svg"},Ne.createElement("g",null,Ne.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:n}))))}var qj=Fj;function Hj(t){const{backProps:e,closeProps:n,index:i,isLastStep:a,primaryProps:l,skipProps:u,step:h,tooltipProps:p}=t,{content:g,hideBackButton:y,hideCloseButton:v,hideFooter:T,showSkipButton:S,styles:I,title:D}=h,V={};return V.primary=k.createElement("button",{"data-test-id":"button-primary",style:I.buttonNext,type:"button",...l}),S&&!a&&(V.skip=k.createElement("button",{"aria-live":"off","data-test-id":"button-skip",style:I.buttonSkip,type:"button",...u})),!y&&i>0&&(V.back=k.createElement("button",{"data-test-id":"button-back",style:I.buttonBack,type:"button",...e})),V.close=!v&&k.createElement(qj,{"data-test-id":"button-close",styles:I.buttonClose,...n}),k.createElement("div",{key:"JoyrideTooltip","aria-label":Pi(D??g),className:"react-joyride__tooltip",style:I.tooltip,...p},k.createElement("div",{style:I.tooltipContainer},D&&k.createElement("h1",{"aria-label":Pi(D),style:I.tooltipTitle},D),k.createElement("div",{style:I.tooltipContent},g)),!T&&k.createElement("div",{style:I.tooltipFooter},k.createElement("div",{style:I.tooltipFooterSpacer},V.skip),V.back,V.primary),V.close)}var Gj=Hj,Yj=class extends k.Component{constructor(){super(...arguments),xe(this,"handleClickBack",t=>{t.preventDefault();const{helpers:e}=this.props;e.prev()}),xe(this,"handleClickClose",t=>{t.preventDefault();const{helpers:e}=this.props;e.close("button_close")}),xe(this,"handleClickPrimary",t=>{t.preventDefault();const{continuous:e,helpers:n}=this.props;if(!e){n.close("button_primary");return}n.next()}),xe(this,"handleClickSkip",t=>{t.preventDefault();const{helpers:e}=this.props;e.skip()}),xe(this,"getElementsProps",()=>{const{continuous:t,index:e,isLastStep:n,setTooltipRef:i,size:a,step:l}=this.props,{back:u,close:h,last:p,next:g,nextLabelWithProgress:y,skip:v}=l.locale,T=Pi(u),S=Pi(h),I=Pi(p),D=Pi(g),V=Pi(v);let U=h,B=S;if(t){if(U=g,B=D,l.showProgress&&!n){const K=Pi(y,{step:e+1,steps:a});U=xy(y,e+1,a),B=K}n&&(U=p,B=I)}return{backProps:{"aria-label":T,children:u,"data-action":"back",onClick:this.handleClickBack,role:"button",title:T},closeProps:{"aria-label":S,children:h,"data-action":"close",onClick:this.handleClickClose,role:"button",title:S},primaryProps:{"aria-label":B,children:U,"data-action":"primary",onClick:this.handleClickPrimary,role:"button",title:B},skipProps:{"aria-label":V,children:v,"data-action":"skip",onClick:this.handleClickSkip,role:"button",title:V},tooltipProps:{"aria-modal":!0,ref:i,role:"alertdialog"}}})}render(){const{continuous:t,index:e,isLastStep:n,setTooltipRef:i,size:a,step:l}=this.props,{beaconComponent:u,tooltipComponent:h,...p}=l;let g;if(h){const y={...this.getElementsProps(),continuous:t,index:e,isLastStep:n,size:a,step:p,setTooltipRef:i},v=h;g=k.createElement(v,{...y})}else g=k.createElement(Gj,{...this.getElementsProps(),continuous:t,index:e,isLastStep:n,size:a,step:l});return g}},Kj=class extends k.Component{constructor(){super(...arguments),xe(this,"scope",null),xe(this,"tooltip",null),xe(this,"handleClickHoverBeacon",t=>{const{step:e,store:n}=this.props;t.type==="mouseenter"&&e.event!=="hover"||n.update({lifecycle:Be.TOOLTIP})}),xe(this,"setTooltipRef",t=>{this.tooltip=t}),xe(this,"setPopper",(t,e)=>{var n;const{action:i,lifecycle:a,step:l,store:u}=this.props;e==="wrapper"?u.setPopper("beacon",t):u.setPopper("tooltip",t),u.getPopper("beacon")&&(u.getPopper("tooltip")||l.placement==="center")&&a===Be.INIT&&u.update({action:i,lifecycle:Be.READY}),(n=l.floaterProps)!=null&&n.getPopper&&l.floaterProps.getPopper(t,e)}),xe(this,"renderTooltip",t=>{const{continuous:e,helpers:n,index:i,size:a,step:l}=this.props;return k.createElement(Yj,{continuous:e,helpers:n,index:i,isLastStep:i+1===a,setTooltipRef:this.setTooltipRef,size:a,step:l,...t})})}componentDidMount(){const{debug:t,index:e}=this.props;po({title:`step:${e}`,data:[{key:"props",value:this.props}],debug:t})}componentDidUpdate(t){var e;const{action:n,callback:i,continuous:a,controlled:l,debug:u,helpers:h,index:p,lifecycle:g,shouldScroll:y,status:v,step:T,store:S}=this.props,{changed:I,changedFrom:D}=_h(t,this.props),V=h.info(),U=a&&n!==pt.CLOSE&&(p>0||n===pt.PREV),B=I("action")||I("index")||I("lifecycle")||I("status"),K=D("lifecycle",[Be.TOOLTIP,Be.INIT],Be.INIT),G=I("action",[pt.NEXT,pt.PREV,pt.SKIP,pt.CLOSE]),$=l&&p===t.index;if(G&&(K||$)&&i({...V,index:t.index,lifecycle:Be.COMPLETE,step:t.step,type:xr.STEP_AFTER}),T.placement==="center"&&v===We.RUNNING&&I("index")&&n!==pt.START&&g===Be.INIT&&S.update({lifecycle:Be.READY}),B){const Z=vs(T.target),R=!!Z;R&&bj(Z)?(D("status",We.READY,We.RUNNING)||D("lifecycle",Be.INIT,Be.READY))&&i({...V,step:T,type:xr.STEP_BEFORE}):(console.warn(R?"Target not visible":"Target not mounted",T),i({...V,type:xr.TARGET_NOT_FOUND,step:T}),l||S.update({index:p+(n===pt.PREV?-1:1)}))}D("lifecycle",Be.INIT,Be.READY)&&S.update({lifecycle:nT(T)||U?Be.TOOLTIP:Be.BEACON}),I("index")&&po({title:`step:${g}`,data:[{key:"props",value:this.props}],debug:u}),I("lifecycle",Be.BEACON)&&i({...V,step:T,type:xr.BEACON}),I("lifecycle",Be.TOOLTIP)&&(i({...V,step:T,type:xr.TOOLTIP}),y&&this.tooltip&&(this.scope=new Uj(this.tooltip,{selector:"[data-action=primary]"}),this.scope.setFocus())),D("lifecycle",[Be.TOOLTIP,Be.INIT],Be.INIT)&&((e=this.scope)==null||e.removeScope(),S.cleanupPoppers())}componentWillUnmount(){var t;(t=this.scope)==null||t.removeScope()}get open(){const{lifecycle:t,step:e}=this.props;return nT(e)||t===Be.TOOLTIP}render(){const{continuous:t,debug:e,index:n,nonce:i,shouldScroll:a,size:l,step:u}=this.props,h=vs(u.target);return!e2(u)||!Te.domElement(h)?null:k.createElement("div",{key:`JoyrideStep-${n}`,className:"react-joyride__step"},k.createElement(zv,{...u.floaterProps,component:this.renderTooltip,debug:e,getPopper:this.setPopper,id:`react-joyride-step-${n}`,open:this.open,placement:u.placement,target:u.target},k.createElement(Bj,{beaconComponent:u.beaconComponent,continuous:t,index:n,isLastStep:n+1===l,locale:u.locale,nonce:i,onClickOrHover:this.handleClickHoverBeacon,shouldFocus:a,size:l,step:u,styles:u.styles})))}},n2=class extends k.Component{constructor(t){super(t),xe(this,"helpers"),xe(this,"store"),xe(this,"callback",u=>{const{callback:h}=this.props;Te.function(h)&&h(u)}),xe(this,"handleKeyboard",u=>{const{index:h,lifecycle:p}=this.state,{steps:g}=this.props,y=g[h];p===Be.TOOLTIP&&u.code==="Escape"&&y&&!y.disableCloseOnEsc&&this.store.close("keyboard")}),xe(this,"handleClickOverlay",()=>{const{index:u}=this.state,{steps:h}=this.props;cl(this.props,h[u]).disableOverlayClose||this.helpers.close("overlay")}),xe(this,"syncState",u=>{this.setState(u)});const{debug:e,getHelpers:n,run:i=!0,stepIndex:a}=t;this.store=Pj({...t,controlled:i&&Te.number(a)}),this.helpers=this.store.getHelpers();const{addListener:l}=this.store;po({title:"init",data:[{key:"props",value:this.props},{key:"state",value:this.state}],debug:e}),l(this.syncState),n&&n(this.helpers),this.state=this.store.getState()}componentDidMount(){if(!ca())return;const{debug:t,disableCloseOnEsc:e,run:n,steps:i}=this.props,{start:a}=this.store;sT(i,t)&&n&&a(),e||document.body.addEventListener("keydown",this.handleKeyboard,{passive:!0})}componentDidUpdate(t,e){if(!ca())return;const{action:n,controlled:i,index:a,status:l}=this.state,{debug:u,run:h,stepIndex:p,steps:g}=this.props,{stepIndex:y,steps:v}=t,{reset:T,setSteps:S,start:I,stop:D,update:V}=this.store,{changed:U}=_h(t,this.props),{changed:B,changedFrom:K}=_h(e,this.state),G=cl(this.props,g[a]),$=!Jn(v,g),Z=Te.number(p)&&U("stepIndex"),R=vs(G.target);if($&&(sT(g,u)?S(g):console.warn("Steps are not valid",g)),U("run")&&(h?I(p):D()),Z){let L=Te.number(y)&&y<p?pt.NEXT:pt.PREV;n===pt.STOP&&(L=pt.START),[We.FINISHED,We.SKIPPED].includes(l)||V({action:n===pt.CLOSE?pt.CLOSE:L,index:p,lifecycle:Be.INIT})}!i&&l===We.RUNNING&&a===0&&!R&&(this.store.update({index:a+1}),this.callback({...this.state,type:xr.TARGET_NOT_FOUND,step:G}));const A={...this.state,index:a,step:G};if(B("action",[pt.NEXT,pt.PREV,pt.SKIP,pt.CLOSE])&&B("status",We.PAUSED)){const L=cl(this.props,g[e.index]);this.callback({...A,index:e.index,lifecycle:Be.COMPLETE,step:L,type:xr.STEP_AFTER})}if(B("status",[We.FINISHED,We.SKIPPED])){const L=cl(this.props,g[e.index]);i||this.callback({...A,index:e.index,lifecycle:Be.COMPLETE,step:L,type:xr.STEP_AFTER}),this.callback({...A,type:xr.TOUR_END,step:L,index:e.index}),T()}else K("status",[We.IDLE,We.READY],We.RUNNING)?this.callback({...A,type:xr.TOUR_START}):(B("status")||B("action",pt.RESET))&&this.callback({...A,type:xr.TOUR_STATUS});this.scrollToStep(e)}componentWillUnmount(){const{disableCloseOnEsc:t}=this.props;t||document.body.removeEventListener("keydown",this.handleKeyboard)}scrollToStep(t){const{index:e,lifecycle:n,status:i}=this.state,{debug:a,disableScrollParentFix:l=!1,scrollDuration:u,scrollOffset:h=20,scrollToFirstStep:p=!1,steps:g}=this.props,y=cl(this.props,g[e]),v=vs(y.target),T=Cj({isFirstStep:e===0,lifecycle:n,previousLifecycle:t.lifecycle,scrollToFirstStep:p,step:y,target:v});if(i===We.RUNNING&&T){const S=ep(v,l),I=Nu(v,l);let D=Math.floor(Ej(v,h,l))||0;po({title:"scrollToStep",data:[{key:"index",value:e},{key:"lifecycle",value:n},{key:"status",value:i}],debug:a});const V=this.store.getPopper("beacon"),U=this.store.getPopper("tooltip");if(n===Be.BEACON&&V){const{offsets:B,placement:K}=V;!["bottom"].includes(K)&&!S&&(D=Math.floor(B.popper.top-h))}else if(n===Be.TOOLTIP&&U){const{flipped:B,offsets:K,placement:G}=U;["top","right","left"].includes(G)&&!B&&!S?D=Math.floor(K.popper.top-h):D-=y.spotlightPadding}D=D>=0?D:0,i===We.RUNNING&&wj(D,{element:I,duration:u}).then(()=>{setTimeout(()=>{var B;(B=this.store.getPopper("tooltip"))==null||B.instance.update()},10)})}}render(){if(!ca())return null;const{index:t,lifecycle:e,status:n}=this.state,{continuous:i=!1,debug:a=!1,nonce:l,scrollToFirstStep:u=!1,steps:h}=this.props,p=n===We.RUNNING,g={};if(p&&h[t]){const y=cl(this.props,h[t]);g.step=k.createElement(Kj,{...this.state,callback:this.callback,continuous:i,debug:a,helpers:this.helpers,nonce:l,shouldScroll:!y.disableScrolling&&(t!==0||u),step:y,store:this.store}),g.overlay=k.createElement(Lj,{id:"react-joyride-portal"},k.createElement(Vj,{...y,continuous:i,debug:a,lifecycle:e,onClickOverlay:this.handleClickOverlay}))}return k.createElement("div",{className:"react-joyride"},g.step,g.overlay)}};xe(n2,"defaultProps",Ij);var Wj=n2;function Qj({setShowMobileHabits:t}){const[e,n]=k.useState(!1),{currentUser:i}=Bl();k.useEffect(()=>{!localStorage.getItem("hone_has_seen_onboarding")&&i&&setTimeout(()=>n(!0),0)},[i]);const[a,l]=k.useState(0),u=g=>{const{action:y,index:v,status:T,type:S}=g,I=[We.FINISHED,We.SKIPPED],D=window.innerWidth<768;if(I.includes(T)){n(!1),localStorage.setItem("hone_has_seen_onboarding","true"),D&&t&&t(!1);return}if(S===xr.STEP_AFTER||S===xr.TARGET_NOT_FOUND){if(D&&t){if(v===2){t(!0),setTimeout(()=>{l(v+1)},400);return}if(v===4){t(!1),setTimeout(()=>{l(v+1)},200);return}}l(v+(y==="prev"?-1:1))}},h=window.innerWidth<768,p=[{target:"body",content:E.jsxs("div",{className:"text-left",children:[E.jsx("h3",{className:"text-lg font-bold mb-2",children:"Welcome to Hone! "}),E.jsx("p",{className:"text-sm",children:"Your new minimal habit tracker. Let's explore how it works."})]}),placement:"center",disableBeacon:!0},...h?[{target:"#tour-mobile-sidebar-toggle",content:"Tap here to switch calendars or access settings."},{target:"#tour-mobile-habits-trigger",content:"Open your habits menu here to add or edit habits."},{target:"#mobile-habits-popup #tour-mobile-multiselect",content:"Use this to check off multiple habits at once."},{target:"#tour-mobile-reset",content:"Reset this tour anytime from the menu."}]:[{target:"#tour-calendar-list",content:"Switch between your different calendars here."},{target:"#tour-calendar-add",content:"Create new calendars to organize different life areas."},{target:"#tour-sidebar-add",content:"Create a new habit. Pick an icon and color."},{target:"#tour-habit-list",content:"Your habits live here. Drag to reorder, click to edit."}],{target:"#tour-calendar-main",content:"Your tracking canvas. Click a day to toggle habits."},{target:"#tour-calendar-nav",content:"Navigate through time. Jump to today or switch years."},{target:"#tour-view-toggles",content:'Switch views: "Graph" for heatmaps, "Year" for daily tracking.'},{target:"#tour-calendar-stats",content:"Track your streaks, weekly progress, and completion rates.",placement:"bottom"},...h?[]:[{target:"#tour-user-footer",content:"Access your account settings and logout here."}]];return E.jsx(Wj,{steps:p,run:e,stepIndex:a,continuous:!0,showProgress:!0,showSkipButton:!0,callback:u,locale:{last:"Finish"},styles:{options:{arrowColor:"#18181b",backgroundColor:"#18181b",overlayColor:"rgba(0, 0, 0, 0.5)",primaryColor:"#ffffff",textColor:"#e4e4e7",width:300,zIndex:1e4},tooltipContainer:{textAlign:"left",fontSize:"14px"},buttonNext:{backgroundColor:"#ffffff",color:"#000000",fontWeight:"bold",fontSize:"12px",padding:"8px 12px",borderRadius:"4px"},buttonBack:{color:"#a1a1aa",marginRight:10},buttonSkip:{color:"#a1a1aa"}}})}function $j({onFinish:t}){const[e,n]=k.useState(0);return k.useEffect(()=>{const i=[setTimeout(()=>n(1),1e3),setTimeout(()=>n(2),2500),setTimeout(()=>n(3),4e3)];return()=>i.forEach(clearTimeout)},[]),E.jsxs("div",{className:"fixed inset-0 z-50 bg-zinc-950 flex flex-col items-center justify-center p-6 text-center select-none cursor-default",children:[E.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:E.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] bg-indigo-500/10 rounded-full blur-[100px] animate-pulse"})}),E.jsxs("div",{className:"relative z-10 flex flex-col items-center max-w-sm w-full",children:[E.jsxs("div",{className:Ye("mb-8 relative transition-all duration-700",e>=3?"scale-75 translate-y-[-20px]":"scale-100"),children:[E.jsx("div",{className:"absolute inset-0 bg-white/20 blur-xl rounded-full animate-pulse"}),E.jsx("img",{src:"./favicon_header.png",alt:"Hone",className:"w-20 h-20 relative z-10 drop-shadow-2xl"})]}),E.jsx("h1",{className:"text-3xl font-bold text-white mb-2 animate-in fade-in slide-in-from-bottom-4 duration-700",children:"Welcome to Hone"}),E.jsx("p",{className:"text-zinc-500 mb-10 animate-in fade-in slide-in-from-bottom-4 duration-700 delay-100",children:"Setting up your mindful workspace..."}),E.jsxs("div",{className:"w-full space-y-4 mb-10",children:[E.jsxs("div",{className:Ye("flex items-center gap-3 p-4 rounded-lg border transition-all duration-500",e>=1?"bg-zinc-900/80 border-zinc-800 translate-x-0 opacity-100":"bg-transparent border-transparent -translate-x-4 opacity-0"),children:[E.jsx("div",{className:Ye("w-8 h-8 rounded-full flex items-center justify-center transition-colors duration-500",e>=1?"bg-indigo-500/20 text-indigo-400":"bg-zinc-800 text-zinc-600"),children:E.jsx(lR,{size:16})}),E.jsx("span",{className:"text-sm font-medium text-zinc-300",children:"Creating your first calendar"}),e>=1&&E.jsx(gE,{size:16,className:"ml-auto text-emerald-500 animate-in zoom-in spin-in-90 duration-300"})]}),E.jsxs("div",{className:Ye("flex items-center gap-3 p-4 rounded-lg border transition-all duration-500 delay-100",e>=2?"bg-zinc-900/80 border-zinc-800 translate-x-0 opacity-100":"bg-transparent border-transparent -translate-x-4 opacity-0"),children:[E.jsx("div",{className:Ye("w-8 h-8 rounded-full flex items-center justify-center transition-colors duration-500",e>=2?"bg-pink-500/20 text-pink-400":"bg-zinc-800 text-zinc-600"),children:E.jsx(to,{size:16})}),E.jsx("span",{className:"text-sm font-medium text-zinc-300",children:"Seeding default habits"}),e>=2&&E.jsx(gE,{size:16,className:"ml-auto text-emerald-500 animate-in zoom-in spin-in-90 duration-300"})]})]}),E.jsx("div",{className:Ye("transition-all duration-700 transform",e>=3?"opacity-100 translate-y-0":"opacity-0 translate-y-4 pointer-events-none"),children:E.jsxs("button",{onClick:t,className:"group flex items-center gap-2 bg-white text-black px-8 py-3 rounded-full font-bold tracking-wide hover:bg-zinc-200 hover:scale-105 active:scale-95 transition-all shadow-xl shadow-white/10",children:["Get Started",E.jsx(aR,{size:16,className:"group-hover:translate-x-1 transition-transform"})]})})]})]})}function Xj(){const[t,e]=k.useState(!0),[n,i]=k.useState(!1),{currentUser:a}=Bl(),[l,u]=k.useState("calendar"),[h,p]=k.useState(()=>zy(By(),window.location.href)),{habitData:g,calendarData:y,selection:v,actions:T}=b6(),[S,I]=k.useState(!1);return t?E.jsx(m6,{onFinish:()=>e(!1)}):n?E.jsx($j,{onFinish:()=>i(!1)}):!a||h?E.jsx(g6,{onComplete:()=>{window.history.replaceState(null,"",window.location.pathname),p(!1)},onSignupSuccess:()=>i(!0)}):E.jsxs(JC,{children:[E.jsx(Qj,{setShowMobileHabits:I}),E.jsx(QP,{habits:g.habits,calendars:y.calendars,selectedCalendarId:y.selectedCalendarId,onSelectCalendar:y.selectCalendar,onAddCalendar:y.addCalendar,onEditCalendar:y.editCalendar,onDeleteCalendar:y.deleteCalendar,onReorderCalendars:y.reorderCalendars,onAddHabit:T.addHabit,onEditHabit:T.editHabit,onDeleteHabit:T.deleteHabit,onReorderHabits:T.reorderHabits,onSelectHabit:v.toggleHabitSelection,selectedHabitIds:v.selectedHabitIds,currentView:l,onNavigate:u,showMobileHabits:S,onToggleMobileHabits:I}),l==="settings"?E.jsx(d6,{onBack:()=>u("calendar")}):E.jsx(f6,{habits:g.habits,selectedHabitIds:v.selectedHabitIds,selectedHabitStats:v.selectedHabitStats,onToggleHabit:T.toggleHabitForDate,onToggleHabits:T.toggleHabitsForDate,isHabitCompleted:T.isHabitCompleted,logs:g.logs})]})}function Jj(){return E.jsxs(d3,{children:[E.jsx(Xj,{}),E.jsx(XC,{})]})}class Zj extends k.Component{state={hasError:!1,error:null};static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError?E.jsx("div",{className:"min-h-screen bg-slate-950 text-white flex items-center justify-center p-8",children:E.jsxs("div",{className:"max-w-md w-full card rounded-2xl p-8 shadow-2xl animate-slide-in border border-red-500/30",children:[E.jsx("h1",{className:"text-2xl font-bold text-red-400 mb-4 tracking-tight",children:"Something went wrong"}),E.jsx("p",{className:"text-sm text-slate-400 mb-4",children:"An unexpected error occurred. Clear your data and reload to fix the issue."}),E.jsx("pre",{className:"text-xs surface p-4 rounded-xl overflow-auto text-slate-300 mb-4 max-h-40 border border-slate-700/50",children:this.state.error?.message}),E.jsx("button",{onClick:()=>{localStorage.clear(),window.location.reload()},className:"w-full bg-red-600 hover:bg-red-500 py-3 rounded-xl text-sm font-semibold transition-all active:scale-95 shadow-lg hover:shadow-red-500/30 text-white",children:"Clear Data & Reload"})]})}):this.props.children}}BC.createRoot(document.getElementById("root")).render(E.jsx(k.StrictMode,{children:E.jsx(Zj,{children:E.jsx(Jj,{})})}));
